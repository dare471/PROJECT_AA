"use strict";var e=require("../index.cjs"),t=require("../nil/index.cjs"),a=Symbol(),r=e=>location.pathname+(e+""?"?"+e:"")+(location.hash&&"#"!==location.hash?location.hash:""),s=(e,t)=>history.pushState(t?null:history.state,"",r(e));function o({method:e=s,state:t},r){var o=(a,s)=>("undefined"!=typeof addEventListener&&addEventListener("popstate",(()=>setTimeout(s,0))),{get:()=>new URLSearchParams(location.search).get(a)||r,set(r){var s=new URLSearchParams(location.search);null!=r?s.set(a,`${r}`):s.delete(a),e(s,"erase"===t)}});return o.keyArea=a,o}function n(a){return r=>{var s=void 0!==r.def?r.def:"store"in r?r.store.defaultState:null;return e.persist({adapter:"undefined"!=typeof history&&"undefined"!=typeof location?o({...a,...r},s):t.nil("query"),...a,...r})}}var i=n();exports.createPersist=n,exports.locationAssign=e=>location.assign(r(e)),exports.locationReplace=e=>location.replace(r(e)),exports.persist=i,exports.pushState=s,exports.replaceState=(e,t)=>history.replaceState(t?null:history.state,"",r(e));
//# sourceMappingURL=index.cjs.map
