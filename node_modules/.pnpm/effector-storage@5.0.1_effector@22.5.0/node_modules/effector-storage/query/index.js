import{persist as e}from"../index.js";import{nil as t}from"../nil/index.js";var a=Symbol(),o=e=>location.pathname+(e+""?"?"+e:"")+(location.hash&&"#"!==location.hash?location.hash:""),n=(e,t)=>history.pushState(t?null:history.state,"",o(e)),r=(e,t)=>history.replaceState(t?null:history.state,"",o(e)),s=e=>location.assign(o(e)),i=e=>location.replace(o(e));function l({method:e=n,state:t},o){var r=(a,n)=>("undefined"!=typeof addEventListener&&addEventListener("popstate",(()=>setTimeout(n,0))),{get:()=>new URLSearchParams(location.search).get(a)||o,set(o){var n=new URLSearchParams(location.search);null!=o?n.set(a,`${o}`):n.delete(a),e(n,"erase"===t)}});return r.keyArea=a,r}function d(a){return o=>{var n=void 0!==o.def?o.def:"store"in o?o.store.defaultState:null;return e({adapter:"undefined"!=typeof history&&"undefined"!=typeof location?l({...a,...o},n):t("query"),...a,...o})}}var h=d();export{d as createPersist,s as locationAssign,i as locationReplace,h as persist,n as pushState,r as replaceState};
//# sourceMappingURL=index.js.map
