import{E as b,O as u,aQ as _,aR as Q,D as h,$ as F,aS as R,aT as v,J as f,s as m,R as H,j as c,a as e,T as g,x as k}from"./index-3984b6ad.js";import{D as L}from"./chunk-HFJCK6H7-c0677b16.js";import{A as M}from"./chunk-VJ54TX72-7a23418a.js";import{D as d}from"./ui-07046276.js";import{S as I}from"./ui-1da0a997.js";import{u as y,P as D}from"./use-pagination-c85d7eef.js";import{S as l}from"./chunk-O5CRURSQ-1491cac4.js";import{C as w,a as T}from"./chunk-S432VF2S-0bb7f0e6.js";import{B as j}from"./chunk-NAA7TEES-d1065a5b.js";import"./chunk-QODHG6BI-a3dc6b43.js";import"./chunk-YTHZUBYP-cf8f6264.js";import"./chunk-QAHQKGYV-1601bd1d.js";import"./chunk-KRS2VCGE-d9aec82b.js";import"./chunk-PEYICJIL-361d4c84.js";import"./chunk-G72KV6MB-8fe2283c.js";function N(){const n=b([]),t=b(!1),i=u({effect:_});return t.on(i.pending,(o,r)=>r),n.on(i.doneData,(o,r)=>r),{getUserSubscribesClientsFx:i,$userClients:n,$userClientsPending:t}}function J(){const n=b([]),t=b(!1),i=u({effect:Q});return t.on(i.pending,(o,r)=>r),n.on(i.doneData,(o,r)=>r),{getUserUnSubscribesClientsFx:i,$userClients:n,$userClientsPending:t}}const z=h(),O=h(),B=h(),A=h(),P=N(),x=J(),U=u({effect:P.getUserSubscribesClientsFx,source:F,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{userId:t.id}}}),$=u({effect:x.getUserUnSubscribesClientsFx,source:F,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{userId:t.id}}}),E=u({effect:R}),W=u({effect:v});f({clock:z,target:[U,$]});f({clock:B,fn:n=>({clientIds:[n]}),target:E});f({clock:E.done,target:[U,$]});f({clock:A,fn:n=>({clientIds:[n]}),target:W});f({clock:W.done,target:[U,$]});function de(){const[n,t]=m([z,O]);return H.useEffect(()=>(n(),()=>t()),[]),c(l,{children:[c(l,{minH:"md",shadow:"md",px:"6",py:"4",children:[e(g,{fontSize:"2xl",fontWeight:"bold",children:"Подписанные клиенты"}),e(q,{})]}),c(l,{minH:"md",shadow:"md",px:"6",py:"4",children:[e(g,{fontSize:"2xl",fontWeight:"bold",children:"Отписанные клиенты"}),e(G,{})]})]})}function q(){const[n,t]=m([P.$userClients,P.$userClientsPending]),[i]=m([A]),{maxPage:o,pages:r,currentData:C,currentPage:p,setCurrentPage:a}=y({data:n,perPage:5,maxPages:5});return t?e(I,{}):c(k,{children:[C.map((s,S)=>e(w,{variant:"filled",children:c(T,{children:[c(l,{children:[e(g,{fontSize:"md",fontWeight:"bold",children:s.clientName}),e(d,{title:"Деятельность:",children:s.clientType}),e(d,{title:"Адрес:",children:s.clientAddress}),e(d,{title:"Иин/Бин:",children:s.clientIinBin})]}),e(l,{direction:"row",justify:"end",children:e(j,{colorScheme:"red",onClick:()=>i(s.clientId),children:e(L,{})})})]})},S)),e(D,{pages:r,currentPage:p,onFirstClick:()=>a(1),onLastClick:()=>a(o),onPageChange:s=>a(s)})]})}function G(){const[n,t]=m([x.$userClients,x.$userClientsPending]),[i]=m([B]),{maxPage:o,currentData:r,pages:C,currentPage:p,setCurrentPage:a}=y({data:n,perPage:5,maxPages:5});return t?e(I,{}):c(k,{children:[r.map((s,S)=>e(w,{variant:"filled",children:c(T,{children:[c(l,{children:[e(g,{fontSize:"md",fontWeight:"bold",children:s.clientName}),e(d,{title:"Деятельность:",children:s.clientType}),e(d,{title:"Адрес:",children:s.clientAddress}),e(d,{title:"Иин/Бин:",children:s.clientIinBin})]}),e(l,{direction:"row",justify:"end",children:e(j,{colorScheme:"blue",onClick:()=>i(s.clientId),children:e(M,{})})})]})},S)),e(D,{pages:C,currentPage:p,onFirstClick:()=>a(1),onLastClick:()=>a(o),onPageChange:s=>a(s)})]})}export{de as SettingsSubscribesClientsPage};
//# sourceMappingURL=index-df73f76f.js.map
