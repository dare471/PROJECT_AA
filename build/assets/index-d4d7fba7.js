import{D as b,O as u,aQ as E,aR as H,C as h,$ as F,aS as Q,aT as R,H as f,s as m,R as v,j as c,a as e,T as g,x as k}from"./index-30d26e58.js";import{D as L}from"./chunk-HFJCK6H7-62dd493e.js";import{A as M}from"./chunk-VJ54TX72-115fd56e.js";import{D as d}from"./ui-e2ff4737.js";import{S as I}from"./ui-5e3e3e3c.js";import{u as y,P as D}from"./use-pagination-a13feed9.js";import{S as l}from"./chunk-O5CRURSQ-38cbc667.js";import{C as w,a as T}from"./chunk-S432VF2S-98664443.js";import{B as j}from"./chunk-NAA7TEES-8a7107e3.js";import"./chunk-QODHG6BI-a9ac56a7.js";import"./chunk-YTHZUBYP-81720497.js";import"./chunk-QAHQKGYV-e4a7b19b.js";import"./chunk-KRS2VCGE-8510648a.js";import"./chunk-PEYICJIL-4eb92d2e.js";import"./chunk-G72KV6MB-256ec515.js";import"./index-b17ac102.js";function N(){const n=b([]),t=b(!1),i=u({effect:E});return t.on(i.pending,(o,r)=>r),n.on(i.doneData,(o,r)=>r),{getUserSubscribesClientsFx:i,$userClients:n,$userClientsPending:t}}function O(){const n=b([]),t=b(!1),i=u({effect:H});return t.on(i.pending,(o,r)=>r),n.on(i.doneData,(o,r)=>r),{getUserUnSubscribesClientsFx:i,$userClients:n,$userClientsPending:t}}const z=h(),q=h(),B=h(),A=h(),P=N(),x=O(),U=u({effect:P.getUserSubscribesClientsFx,source:F,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{userId:t.id}}}),$=u({effect:x.getUserUnSubscribesClientsFx,source:F,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{userId:t.id}}}),W=u({effect:Q}),_=u({effect:R});f({clock:z,target:[U,$]});f({clock:B,fn:n=>({clientIds:[n]}),target:W});f({clock:W.done,target:[U,$]});f({clock:A,fn:n=>({clientIds:[n]}),target:_});f({clock:_.done,target:[U,$]});function ue(){const[n,t]=m([z,q]);return v.useEffect(()=>(n(),()=>t()),[]),c(l,{children:[c(l,{minH:"md",shadow:"md",px:"6",py:"4",children:[e(g,{fontSize:"2xl",fontWeight:"bold",children:"Подписанные клиенты"}),e(G,{})]}),c(l,{minH:"md",shadow:"md",px:"6",py:"4",children:[e(g,{fontSize:"2xl",fontWeight:"bold",children:"Отписанные клиенты"}),e(J,{})]})]})}function G(){const[n,t]=m([P.$userClients,P.$userClientsPending]),[i]=m([A]),{maxPage:o,pages:r,currentData:C,currentPage:p,setCurrentPage:a}=y({data:n,perPage:5,maxPages:5});return t?e(I,{}):c(k,{children:[C.map((s,S)=>e(w,{variant:"filled",children:c(T,{children:[c(l,{children:[e(g,{fontSize:"md",fontWeight:"bold",children:s.clientName}),e(d,{title:"Деятельность:",children:s.clientType}),e(d,{title:"Адрес:",children:s.clientAddress}),e(d,{title:"Иин/Бин:",children:s.clientIinBin})]}),e(l,{direction:"row",justify:"end",children:e(j,{colorScheme:"red",onClick:()=>i(s.clientId),children:e(L,{})})})]})},S)),e(D,{pages:r,currentPage:p,onFirstClick:()=>a(1),onLastClick:()=>a(o),onPageChange:s=>a(s)})]})}function J(){const[n,t]=m([x.$userClients,x.$userClientsPending]),[i]=m([B]),{maxPage:o,currentData:r,pages:C,currentPage:p,setCurrentPage:a}=y({data:n,perPage:5,maxPages:5});return t?e(I,{}):c(k,{children:[r.map((s,S)=>e(w,{variant:"filled",children:c(T,{children:[c(l,{children:[e(g,{fontSize:"md",fontWeight:"bold",children:s.clientName}),e(d,{title:"Деятельность:",children:s.clientType}),e(d,{title:"Адрес:",children:s.clientAddress}),e(d,{title:"Иин/Бин:",children:s.clientIinBin})]}),e(l,{direction:"row",justify:"end",children:e(j,{colorScheme:"blue",onClick:()=>i(s.clientId),children:e(M,{})})})]})},S)),e(D,{pages:C,currentPage:p,onFirstClick:()=>a(1),onLastClick:()=>a(o),onPageChange:s=>a(s)})]})}export{ue as SettingsSubscribesClientsPage};
//# sourceMappingURL=index-d4d7fba7.js.map
