import{D as m,E as h,J as s,s as $,aP as y,R as M,a as o,F as C,j as L}from"./index-3984b6ad.js";import{M as p,L as a,f as b,g as k,P as r}from"./client-plots-7500522d.js";import{C as x}from"./index-6af73fc5.js";import{B,C as F}from"./chunk-SRMZVY4F-29920deb.js";import"./chunk-LB6CWFOC-afb3a818.js";import"./chunk-D5UZ3RNN-15f388b3.js";import"./chunk-G72KV6MB-8fe2283c.js";import"./leaflet-75be3913.js";import"./ui-07046276.js";import"./chunk-S432VF2S-0bb7f0e6.js";import"./chunk-O5CRURSQ-1491cac4.js";const d=m(),v=m(),P=h(null),u=p.createMap(),l=x.createClientPlots(),i=a.createLandsToLand({lands:l.$clientPlots.map(R)}),g=b({map:u.$map,layer:{clientPlots:l.$clientPlots.map(t=>({positions:k(t)})),clientPlot:i.$land.map(t=>({positions:(t==null?void 0:t.geometryRings)??[]}))}});s({clock:d,fn:({clientId:t})=>t,target:P});s({clock:P,filter:t=>t!==null,fn:t=>({clientId:t}),target:l.getClientPlotsFx});s({clock:l.$clientPlots,filter:t=>t.length>0,target:g.clientPlots});s({clock:i.landClicked,filter:t=>t!==null,target:g.clientPlot});function R(t){return t.map(e=>({...e,id:e.plotId}))}function J(){const[t,e]=$([d,v]),{clientId:c}=y();return M.useEffect(()=>(t({clientId:Number(c)}),()=>{e()}),[c,t,e]),o(B,{children:o(F,{minW:"full",minH:"100vh",children:o(C,{direction:"column",flexGrow:1,justify:"space-between",align:"center",children:L(p.Map,{model:u,style:{width:"100vw",height:"100vh"},containerProps:{height:"100vh"},children:[o(a.Lands,{model:i,children:({land:n,onClick:f})=>o(r,{positions:n.geometryRings,pathOptions:{color:"blue"},eventHandlers:{click:()=>f(n.id)}})}),o(a.Land,{model:i,children:({land:n})=>o(r,{positions:n.geometryRings,pathOptions:{color:"black"}})})]})})})})}export{J as ClientBusinessPointMobilePage};
//# sourceMappingURL=index-e78b8515.js.map
