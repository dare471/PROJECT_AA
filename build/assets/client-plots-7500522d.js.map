{"version":3,"file":"client-plots-7500522d.js","sources":["../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-JST25EWU.mjs","../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-APVWO53B.mjs","../../node_modules/.pnpm/@chakra-ui+react-use-controllable-state@2.0.8_react@18.2.0/node_modules/@chakra-ui/react-use-controllable-state/dist/index.mjs","../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-JDQBKIKM.mjs","../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-I3JYRBXX.mjs","../../node_modules/.pnpm/@chakra-ui+transition@2.0.15_rmqvfgexnwibrowflot4lchdfu/node_modules/@chakra-ui/transition/dist/chunk-3TED3OTR.mjs","../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-WA4Q3J7T.mjs","../../node_modules/.pnpm/@chakra-ui+accordion@2.1.9_gqlteq6ag6wrqneykfgwfsigwq/node_modules/@chakra-ui/accordion/dist/chunk-3VH7AMBV.mjs","../../node_modules/.pnpm/@chakra-ui+layout@2.1.16_n3dxrjldmk5gnycgnw7noyo5tu/node_modules/@chakra-ui/layout/dist/chunk-FQXH56BT.mjs","../../node_modules/.pnpm/react-leaflet@4.2.0_yydtlhsdonbqao6vgvkwhv2zki/node_modules/react-leaflet/lib/Polygon.js","../../src/features/lands-to-land/model.ts","../../src/features/lands-to-land/ui/lands.tsx","../../src/features/lands-to-land/ui/land.tsx","../../src/features/lands-to-land/lib.ts","../../src/features/lands-to-land/index.ts","../../src/entities/map/model.ts","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObject.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_freeGlobal.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_root.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/now.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_trimmedEndIndex.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseTrim.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_Symbol.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_getRawTag.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_objectToString.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/_baseGetTag.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isObjectLike.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/isSymbol.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/toNumber.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/debounce.js","../../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/throttle.js","../../node_modules/.pnpm/react-resize-detector@8.0.3_biqbaboplfbrettd7655fr4n2y/node_modules/react-resize-detector/build/index.esm.js","../../src/entities/map/ui.tsx","../../src/entities/map/events/fit-bounds.ts","../../src/entities/map/index.ts","../../node_modules/.pnpm/@turf+helpers@6.5.0/node_modules/@turf/helpers/dist/es/index.js","../../node_modules/.pnpm/@turf+invariant@6.5.0/node_modules/@turf/invariant/dist/es/index.js","../../node_modules/.pnpm/@turf+boolean-point-in-polygon@6.5.0/node_modules/@turf/boolean-point-in-polygon/dist/es/index.js","../../node_modules/.pnpm/@turf+destination@6.5.0/node_modules/@turf/destination/dist/es/index.js","../../node_modules/.pnpm/@turf+circle@6.5.0/node_modules/@turf/circle/dist/es/index.js","../../src/entities/client/model/client-plots.ts"],"sourcesContent":["// src/accordion-context.ts\nimport { createDescendantContext } from \"@chakra-ui/descendant\";\nimport { createContext } from \"@chakra-ui/react-context\";\nvar [AccordionStylesProvider, useAccordionStyles] = createContext({\n  name: \"AccordionStylesContext\",\n  hookName: \"useAccordionStyles\",\n  providerName: \"<Accordion />\"\n});\nvar [AccordionItemProvider, useAccordionItemContext] = createContext({\n  name: \"AccordionItemContext\",\n  hookName: \"useAccordionItemContext\",\n  providerName: \"<AccordionItem />\"\n});\nvar [\n  AccordionDescendantsProvider,\n  useAccordionDescendantsContext,\n  useAccordionDescendants,\n  useAccordionDescendant\n] = createDescendantContext();\n\nexport {\n  AccordionStylesProvider,\n  useAccordionStyles,\n  AccordionItemProvider,\n  useAccordionItemContext,\n  AccordionDescendantsProvider,\n  useAccordionDescendantsContext,\n  useAccordionDescendants,\n  useAccordionDescendant\n};\n","import {\n  useAccordionItemContext,\n  useAccordionStyles\n} from \"./chunk-JST25EWU.mjs\";\n\n// src/accordion-button.tsx\nimport {\n  chakra,\n  forwardRef\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AccordionButton = forwardRef(\n  function AccordionButton2(props, ref) {\n    const { getButtonProps } = useAccordionItemContext();\n    const buttonProps = getButtonProps(props, ref);\n    const styles = useAccordionStyles();\n    const buttonStyles = {\n      display: \"flex\",\n      alignItems: \"center\",\n      width: \"100%\",\n      outline: 0,\n      ...styles.button\n    };\n    return /* @__PURE__ */ jsx(\n      chakra.button,\n      {\n        ...buttonProps,\n        className: cx(\"chakra-accordion__button\", props.className),\n        __css: buttonStyles\n      }\n    );\n  }\n);\nAccordionButton.displayName = \"AccordionButton\";\n\nexport {\n  AccordionButton\n};\n","// src/index.ts\nimport { useMemo, useState } from \"react\";\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nfunction useControllableProp(prop, state) {\n  const controlled = typeof prop !== \"undefined\";\n  const value = controlled ? prop : state;\n  return useMemo(() => [controlled, value], [controlled, value]);\n}\nfunction useControllableState(props) {\n  const {\n    value: valueProp,\n    defaultValue,\n    onChange,\n    shouldUpdate = (prev, next) => prev !== next\n  } = props;\n  const onChangeProp = useCallbackRef(onChange);\n  const shouldUpdateProp = useCallbackRef(shouldUpdate);\n  const [uncontrolledState, setUncontrolledState] = useState(defaultValue);\n  const controlled = valueProp !== void 0;\n  const value = controlled ? valueProp : uncontrolledState;\n  const setValue = useCallbackRef(\n    (next) => {\n      const setter = next;\n      const nextValue = typeof next === \"function\" ? setter(value) : next;\n      if (!shouldUpdateProp(value, nextValue)) {\n        return;\n      }\n      if (!controlled) {\n        setUncontrolledState(nextValue);\n      }\n      onChangeProp(nextValue);\n    },\n    [controlled, onChangeProp, value, shouldUpdateProp]\n  );\n  return [value, setValue];\n}\nexport {\n  useControllableProp,\n  useControllableState\n};\n","import {\n  useAccordionDescendant,\n  useAccordionDescendants\n} from \"./chunk-JST25EWU.mjs\";\n\n// src/use-accordion.ts\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { callAllHandlers, warn } from \"@chakra-ui/shared-utils\";\nimport { useCallback, useEffect, useId, useRef, useState } from \"react\";\nfunction useAccordion(props) {\n  const {\n    onChange,\n    defaultIndex,\n    index: indexProp,\n    allowMultiple,\n    allowToggle,\n    ...htmlProps\n  } = props;\n  allowMultipleWarning(props);\n  allowMultipleAndAllowToggleWarning(props);\n  const descendants = useAccordionDescendants();\n  const [focusedIndex, setFocusedIndex] = useState(-1);\n  useEffect(() => {\n    return () => {\n      setFocusedIndex(-1);\n    };\n  }, []);\n  const [index, setIndex] = useControllableState({\n    value: indexProp,\n    defaultValue() {\n      if (allowMultiple)\n        return defaultIndex != null ? defaultIndex : [];\n      return defaultIndex != null ? defaultIndex : -1;\n    },\n    onChange\n  });\n  const getAccordionItemProps = (idx) => {\n    let isOpen = false;\n    if (idx !== null) {\n      isOpen = Array.isArray(index) ? index.includes(idx) : index === idx;\n    }\n    const onChange2 = (isOpen2) => {\n      if (idx === null)\n        return;\n      if (allowMultiple && Array.isArray(index)) {\n        const nextState = isOpen2 ? index.concat(idx) : index.filter((i) => i !== idx);\n        setIndex(nextState);\n      } else if (isOpen2) {\n        setIndex(idx);\n      } else if (allowToggle) {\n        setIndex(-1);\n      }\n    };\n    return { isOpen, onChange: onChange2 };\n  };\n  return {\n    index,\n    setIndex,\n    htmlProps,\n    getAccordionItemProps,\n    focusedIndex,\n    setFocusedIndex,\n    descendants\n  };\n}\nvar [AccordionProvider, useAccordionContext] = createContext({\n  name: \"AccordionContext\",\n  hookName: \"useAccordionContext\",\n  providerName: \"Accordion\"\n});\nfunction useAccordionItem(props) {\n  const { isDisabled, isFocusable, id, ...htmlProps } = props;\n  const { getAccordionItemProps, setFocusedIndex } = useAccordionContext();\n  const buttonRef = useRef(null);\n  const reactId = useId();\n  const uid = id != null ? id : reactId;\n  const buttonId = `accordion-button-${uid}`;\n  const panelId = `accordion-panel-${uid}`;\n  focusableNotDisabledWarning(props);\n  const { register, index, descendants } = useAccordionDescendant({\n    disabled: isDisabled && !isFocusable\n  });\n  const { isOpen, onChange } = getAccordionItemProps(\n    index === -1 ? null : index\n  );\n  warnIfOpenAndDisabled({ isOpen, isDisabled });\n  const onOpen = () => {\n    onChange == null ? void 0 : onChange(true);\n  };\n  const onClose = () => {\n    onChange == null ? void 0 : onChange(false);\n  };\n  const onClick = useCallback(() => {\n    onChange == null ? void 0 : onChange(!isOpen);\n    setFocusedIndex(index);\n  }, [index, setFocusedIndex, isOpen, onChange]);\n  const onKeyDown = useCallback(\n    (event) => {\n      const keyMap = {\n        ArrowDown: () => {\n          const next = descendants.nextEnabled(index);\n          next == null ? void 0 : next.node.focus();\n        },\n        ArrowUp: () => {\n          const prev = descendants.prevEnabled(index);\n          prev == null ? void 0 : prev.node.focus();\n        },\n        Home: () => {\n          const first = descendants.firstEnabled();\n          first == null ? void 0 : first.node.focus();\n        },\n        End: () => {\n          const last = descendants.lastEnabled();\n          last == null ? void 0 : last.node.focus();\n        }\n      };\n      const action = keyMap[event.key];\n      if (action) {\n        event.preventDefault();\n        action(event);\n      }\n    },\n    [descendants, index]\n  );\n  const onFocus = useCallback(() => {\n    setFocusedIndex(index);\n  }, [setFocusedIndex, index]);\n  const getButtonProps = useCallback(\n    function getButtonProps2(props2 = {}, ref = null) {\n      return {\n        ...props2,\n        type: \"button\",\n        ref: mergeRefs(register, buttonRef, ref),\n        id: buttonId,\n        disabled: !!isDisabled,\n        \"aria-expanded\": !!isOpen,\n        \"aria-controls\": panelId,\n        onClick: callAllHandlers(props2.onClick, onClick),\n        onFocus: callAllHandlers(props2.onFocus, onFocus),\n        onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown)\n      };\n    },\n    [\n      buttonId,\n      isDisabled,\n      isOpen,\n      onClick,\n      onFocus,\n      onKeyDown,\n      panelId,\n      register\n    ]\n  );\n  const getPanelProps = useCallback(\n    function getPanelProps2(props2 = {}, ref = null) {\n      return {\n        ...props2,\n        ref,\n        role: \"region\",\n        id: panelId,\n        \"aria-labelledby\": buttonId,\n        hidden: !isOpen\n      };\n    },\n    [buttonId, isOpen, panelId]\n  );\n  return {\n    isOpen,\n    isDisabled,\n    isFocusable,\n    onOpen,\n    onClose,\n    getButtonProps,\n    getPanelProps,\n    htmlProps\n  };\n}\nfunction allowMultipleWarning(props) {\n  const index = props.index || props.defaultIndex;\n  const condition = index != null && !Array.isArray(index) && props.allowMultiple;\n  warn({\n    condition: !!condition,\n    message: `If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof index},`\n  });\n}\nfunction allowMultipleAndAllowToggleWarning(props) {\n  warn({\n    condition: !!(props.allowMultiple && props.allowToggle),\n    message: `If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not`\n  });\n}\nfunction focusableNotDisabledWarning(props) {\n  warn({\n    condition: !!(props.isFocusable && !props.isDisabled),\n    message: `Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    `\n  });\n}\nfunction warnIfOpenAndDisabled(props) {\n  warn({\n    condition: props.isOpen && !!props.isDisabled,\n    message: \"Cannot open a disabled accordion item\"\n  });\n}\n\nexport {\n  useAccordion,\n  AccordionProvider,\n  useAccordionContext,\n  useAccordionItem\n};\n","import {\n  useAccordionItem\n} from \"./chunk-JDQBKIKM.mjs\";\nimport {\n  AccordionItemProvider,\n  useAccordionStyles\n} from \"./chunk-JST25EWU.mjs\";\n\n// src/accordion-item.tsx\nimport {\n  chakra,\n  forwardRef\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { useMemo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AccordionItem = forwardRef(\n  function AccordionItem2(props, ref) {\n    const { children, className } = props;\n    const { htmlProps, ...context } = useAccordionItem(props);\n    const styles = useAccordionStyles();\n    const containerStyles = {\n      ...styles.container,\n      overflowAnchor: \"none\"\n    };\n    const ctx = useMemo(() => context, [context]);\n    return /* @__PURE__ */ jsx(AccordionItemProvider, { value: ctx, children: /* @__PURE__ */ jsx(\n      chakra.div,\n      {\n        ref,\n        ...htmlProps,\n        className: cx(\"chakra-accordion__item\", className),\n        __css: containerStyles,\n        children: typeof children === \"function\" ? children({\n          isExpanded: !!context.isOpen,\n          isDisabled: !!context.isDisabled\n        }) : children\n      }\n    ) });\n  }\n);\nAccordionItem.displayName = \"AccordionItem\";\n\nexport {\n  AccordionItem\n};\n","import {\n  TRANSITION_EASINGS,\n  withDelay\n} from \"./chunk-LB6CWFOC.mjs\";\n\n// src/collapse.tsx\nimport { cx, warn } from \"@chakra-ui/shared-utils\";\nimport {\n  AnimatePresence,\n  motion\n} from \"framer-motion\";\nimport { forwardRef, useEffect, useState } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar isNumeric = (value) => value != null && parseInt(value.toString(), 10) > 0;\nvar defaultTransitions = {\n  exit: {\n    height: { duration: 0.2, ease: TRANSITION_EASINGS.ease },\n    opacity: { duration: 0.3, ease: TRANSITION_EASINGS.ease }\n  },\n  enter: {\n    height: { duration: 0.3, ease: TRANSITION_EASINGS.ease },\n    opacity: { duration: 0.4, ease: TRANSITION_EASINGS.ease }\n  }\n};\nvar variants = {\n  exit: ({\n    animateOpacity,\n    startingHeight,\n    transition,\n    transitionEnd,\n    delay\n  }) => {\n    var _a;\n    return {\n      ...animateOpacity && { opacity: isNumeric(startingHeight) ? 1 : 0 },\n      height: startingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit,\n      transition: (_a = transition == null ? void 0 : transition.exit) != null ? _a : withDelay.exit(defaultTransitions.exit, delay)\n    };\n  },\n  enter: ({\n    animateOpacity,\n    endingHeight,\n    transition,\n    transitionEnd,\n    delay\n  }) => {\n    var _a;\n    return {\n      ...animateOpacity && { opacity: 1 },\n      height: endingHeight,\n      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter,\n      transition: (_a = transition == null ? void 0 : transition.enter) != null ? _a : withDelay.enter(defaultTransitions.enter, delay)\n    };\n  }\n};\nvar Collapse = forwardRef(\n  (props, ref) => {\n    const {\n      in: isOpen,\n      unmountOnExit,\n      animateOpacity = true,\n      startingHeight = 0,\n      endingHeight = \"auto\",\n      style,\n      className,\n      transition,\n      transitionEnd,\n      ...rest\n    } = props;\n    const [mounted, setMounted] = useState(false);\n    useEffect(() => {\n      const timeout = setTimeout(() => {\n        setMounted(true);\n      });\n      return () => clearTimeout(timeout);\n    }, []);\n    warn({\n      condition: Boolean(startingHeight > 0 && unmountOnExit),\n      message: `startingHeight and unmountOnExit are mutually exclusive. You can't use them together`\n    });\n    const hasStartingHeight = parseFloat(startingHeight.toString()) > 0;\n    const custom = {\n      startingHeight,\n      endingHeight,\n      animateOpacity,\n      transition: !mounted ? { enter: { duration: 0 } } : transition,\n      transitionEnd: {\n        enter: transitionEnd == null ? void 0 : transitionEnd.enter,\n        exit: unmountOnExit ? transitionEnd == null ? void 0 : transitionEnd.exit : {\n          ...transitionEnd == null ? void 0 : transitionEnd.exit,\n          display: hasStartingHeight ? \"block\" : \"none\"\n        }\n      }\n    };\n    const show = unmountOnExit ? isOpen : true;\n    const animate = isOpen || unmountOnExit ? \"enter\" : \"exit\";\n    return /* @__PURE__ */ jsx(AnimatePresence, { initial: false, custom, children: show && /* @__PURE__ */ jsx(\n      motion.div,\n      {\n        ref,\n        ...rest,\n        className: cx(\"chakra-collapse\", className),\n        style: {\n          overflow: \"hidden\",\n          display: \"block\",\n          ...style\n        },\n        custom,\n        variants,\n        initial: unmountOnExit ? \"exit\" : false,\n        animate,\n        exit: \"exit\"\n      }\n    ) });\n  }\n);\nCollapse.displayName = \"Collapse\";\n\nexport {\n  Collapse\n};\n","import {\n  useAccordionContext\n} from \"./chunk-JDQBKIKM.mjs\";\nimport {\n  useAccordionItemContext,\n  useAccordionStyles\n} from \"./chunk-JST25EWU.mjs\";\n\n// src/accordion-panel.tsx\nimport { chakra, forwardRef } from \"@chakra-ui/system\";\nimport { Collapse } from \"@chakra-ui/transition\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { jsx } from \"react/jsx-runtime\";\nvar AccordionPanel = forwardRef(\n  function AccordionPanel2(props, ref) {\n    const { className, motionProps, ...rest } = props;\n    const { reduceMotion } = useAccordionContext();\n    const { getPanelProps, isOpen } = useAccordionItemContext();\n    const panelProps = getPanelProps(rest, ref);\n    const _className = cx(\"chakra-accordion__panel\", className);\n    const styles = useAccordionStyles();\n    if (!reduceMotion) {\n      delete panelProps.hidden;\n    }\n    const child = /* @__PURE__ */ jsx(chakra.div, { ...panelProps, __css: styles.panel, className: _className });\n    if (!reduceMotion) {\n      return /* @__PURE__ */ jsx(Collapse, { in: isOpen, ...motionProps, children: child });\n    }\n    return child;\n  }\n);\nAccordionPanel.displayName = \"AccordionPanel\";\n\nexport {\n  AccordionPanel\n};\n","import {\n  AccordionProvider,\n  useAccordion\n} from \"./chunk-JDQBKIKM.mjs\";\nimport {\n  AccordionDescendantsProvider,\n  AccordionStylesProvider\n} from \"./chunk-JST25EWU.mjs\";\n\n// src/accordion.tsx\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useMultiStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { useMemo } from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nvar Accordion = forwardRef(function Accordion2({ children, reduceMotion, ...props }, ref) {\n  const styles = useMultiStyleConfig(\"Accordion\", props);\n  const ownProps = omitThemingProps(props);\n  const { htmlProps, descendants, ...context } = useAccordion(ownProps);\n  const ctx = useMemo(\n    () => ({ ...context, reduceMotion: !!reduceMotion }),\n    [context, reduceMotion]\n  );\n  return /* @__PURE__ */ jsx(AccordionDescendantsProvider, { value: descendants, children: /* @__PURE__ */ jsx(AccordionProvider, { value: ctx, children: /* @__PURE__ */ jsx(AccordionStylesProvider, { value: styles, children: /* @__PURE__ */ jsx(\n    chakra.div,\n    {\n      ref,\n      ...htmlProps,\n      className: cx(\"chakra-accordion\", props.className),\n      __css: styles.root,\n      children\n    }\n  ) }) }) });\n});\nAccordion.displayName = \"Accordion\";\n\nexport {\n  Accordion\n};\n","// src/badge.tsx\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useStyleConfig\n} from \"@chakra-ui/system\";\nimport { cx } from \"@chakra-ui/shared-utils\";\nimport { jsx } from \"react/jsx-runtime\";\nvar Badge = forwardRef(function Badge2(props, ref) {\n  const styles = useStyleConfig(\"Badge\", props);\n  const { className, ...rest } = omitThemingProps(props);\n  return /* @__PURE__ */ jsx(\n    chakra.span,\n    {\n      ref,\n      className: cx(\"chakra-badge\", props.className),\n      ...rest,\n      __css: {\n        display: \"inline-block\",\n        whiteSpace: \"nowrap\",\n        verticalAlign: \"middle\",\n        ...styles\n      }\n    }\n  );\n});\nBadge.displayName = \"Badge\";\n\nexport {\n  Badge\n};\n","import { createElementObject, createPathComponent, extendContext } from '@react-leaflet/core';\nimport { Polygon as LeafletPolygon } from 'leaflet';\nexport const Polygon = createPathComponent(function createPolygon({ positions , ...options }, ctx) {\n    const polygon = new LeafletPolygon(positions, options);\n    return createElementObject(polygon, extendContext(ctx, {\n        overlayContainer: polygon\n    }));\n}, function updatePolygon(layer, props, prevProps) {\n    if (props.positions !== prevProps.positions) {\n        layer.setLatLngs(props.positions);\n    }\n});\n","import { combine, createEvent, createStore, type Store } from 'effector'\n\nexport interface Land {\n\tid: number\n\tgeometryRings: number[][][]\n}\n\ninterface CreateLandsToLandOptions<T extends Land> {\n\tlands: Store<T[]>\n\tlandCb?: (args: { lands: T[]; landId: number | null }) => T | null\n}\n\nexport function createLandsToLand<T extends Land>(options: CreateLandsToLandOptions<T>) {\n\tconst { lands: $lands, landCb } = options\n\n\tconst landClicked = createEvent<number>()\n\n\tconst $landId = createStore<number | null>(null)\n\tconst $land = combine($lands, $landId, (lands, landId) =>\n\t\tlandCb ? landCb({ lands, landId }) : getFindLand({ lands, landId }),\n\t)\n\n\t$landId.on(landClicked, (_, landId) => landId)\n\n\treturn { _$lands: $lands, $landId, $land, landClicked }\n}\n\nfunction getFindLand<T extends Land>({ lands, landId }: { lands: T[]; landId: number | null }) {\n\treturn lands.find((land) => land.id === landId) ?? null\n}\n","import { useUnit } from 'effector-react'\nimport React from 'react'\n\nimport type { createLandsToLand, Land } from '../model'\n\ninterface LandsProps<T extends Land> {\n\tmodel: ReturnType<typeof createLandsToLand<T>>\n\tchildren: (args: { land: T; index: number; onClick: (payload: number) => number }) => React.ReactNode\n}\n\nexport function Lands<T extends Land>(props: LandsProps<T>) {\n\tconst { model, children } = props\n\tconst [lands, handleLandClick] = useUnit([model._$lands, model.landClicked])\n\n\treturn (\n\t\t<>\n\t\t\t{lands.map((land, index) => (\n\t\t\t\t<React.Fragment key={index}>{children({ land, index, onClick: handleLandClick })}</React.Fragment>\n\t\t\t))}\n\t\t</>\n\t)\n}\n","import { useUnit } from \"effector-react\";\nimport type { createLandsToLand, Land } from \"../model\";\n\ninterface LandProps<T extends Land> {\n\tmodel: ReturnType<typeof createLandsToLand<T>>\n\tchildren: (args: { land: T }) => React.ReactNode\n}\n\n\nexport function Land<T extends Land>(props: LandProps<T>) {\n\tconst { model, children } = props\n\tconst [land] = useUnit([model.$land])\n\n\tif(!land) return null\n\n\treturn (\n\t\t<>{children({ land })}</>\n\t)\n}\n","import type { Land } from './model'\n\nexport function getLandsPositions<T extends Pick<Land, 'geometryRings'>>(lands: T[]) {\n\tconst positions: number[][][] = []\n\n\tlands.forEach((region) => {\n\t\tpositions.push(region.geometryRings[0]!)\n\t})\n\n\treturn positions\n}\n","import { createLandsToLand } from './model'\nimport { Land, Lands } from './ui'\n\nexport { getLandsPositions } from './lib'\n\nexport const LandsToLandFactory = {\n\tLands,\n\tLand,\n\tcreateLandsToLand,\n}\n","import { createEvent, createStore } from 'effector'\nimport type L from 'leaflet'\n\nexport function createMap() {\n\tconst mapMounted = createEvent<L.Map>()\n\n\tconst $map = createStore<L.Map | null>(null)\n\n\t$map.on(mapMounted, (state, map) => map)\n\n\treturn { mapMounted, $map }\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import*as React from'react';import {cloneElement,isValidElement,createRef,PureComponent,Component,forwardRef,useRef,useState,useEffect,useLayoutEffect}from'react';import {findDOMNode}from'react-dom';import debounce from'lodash/debounce';import throttle from'lodash/throttle';/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}var patchResizeHandler = function (resizeCallback, refreshMode, refreshRate, refreshOptions) {\n    switch (refreshMode) {\n        case 'debounce':\n            return debounce(resizeCallback, refreshRate, refreshOptions);\n        case 'throttle':\n            return throttle(resizeCallback, refreshRate, refreshOptions);\n        default:\n            return resizeCallback;\n    }\n};\nvar isFunction = function (fn) { return typeof fn === 'function'; };\nvar isSSR = function () { return typeof window === 'undefined'; };\nvar isDOMElement = function (element) {\n    return element instanceof Element || element instanceof HTMLDocument;\n};\nvar createNotifier = function (onResize, setSize, handleWidth, handleHeight) {\n    return function (_a) {\n        var width = _a.width, height = _a.height;\n        setSize(function (prev) {\n            if (prev.width === width && prev.height === height) {\n                // skip if dimensions haven't changed\n                return prev;\n            }\n            if ((prev.width === width && !handleHeight) || (prev.height === height && !handleWidth)) {\n                // process `handleHeight/handleWidth` props\n                return prev;\n            }\n            onResize === null || onResize === void 0 ? void 0 : onResize(width, height);\n            return { width: width, height: height };\n        });\n    };\n};var ResizeDetector = /** @class */ (function (_super) {\n    __extends(ResizeDetector, _super);\n    function ResizeDetector(props) {\n        var _this = _super.call(this, props) || this;\n        _this.cancelHandler = function () {\n            if (_this.resizeHandler && _this.resizeHandler.cancel) {\n                // cancel debounced handler\n                _this.resizeHandler.cancel();\n                _this.resizeHandler = null;\n            }\n        };\n        _this.attachObserver = function () {\n            var _a = _this.props, targetRef = _a.targetRef, observerOptions = _a.observerOptions;\n            if (isSSR()) {\n                return;\n            }\n            if (targetRef && targetRef.current) {\n                _this.targetRef.current = targetRef.current;\n            }\n            var element = _this.getElement();\n            if (!element) {\n                // can't find element to observe\n                return;\n            }\n            if (_this.observableElement && _this.observableElement === element) {\n                // element is already observed\n                return;\n            }\n            _this.observableElement = element;\n            _this.resizeObserver.observe(element, observerOptions);\n        };\n        _this.getElement = function () {\n            var _a = _this.props, querySelector = _a.querySelector, targetDomEl = _a.targetDomEl;\n            if (isSSR())\n                return null;\n            // in case we pass a querySelector\n            if (querySelector)\n                return document.querySelector(querySelector);\n            // in case we pass a DOM element\n            if (targetDomEl && isDOMElement(targetDomEl))\n                return targetDomEl;\n            // in case we pass a React ref using React.createRef()\n            if (_this.targetRef && isDOMElement(_this.targetRef.current))\n                return _this.targetRef.current;\n            // the worse case when we don't receive any information from the parent and the library doesn't add any wrappers\n            // we have to use a deprecated `findDOMNode` method in order to find a DOM element to attach to\n            var currentElement = findDOMNode(_this);\n            if (!currentElement)\n                return null;\n            var renderType = _this.getRenderType();\n            switch (renderType) {\n                case 'renderProp':\n                    return currentElement;\n                case 'childFunction':\n                    return currentElement;\n                case 'child':\n                    return currentElement;\n                case 'childArray':\n                    return currentElement;\n                default:\n                    return currentElement.parentElement;\n            }\n        };\n        _this.createResizeHandler = function (entries) {\n            var _a = _this.props, _b = _a.handleWidth, handleWidth = _b === void 0 ? true : _b, _c = _a.handleHeight, handleHeight = _c === void 0 ? true : _c, onResize = _a.onResize;\n            if (!handleWidth && !handleHeight)\n                return;\n            var notifyResize = createNotifier(onResize, _this.setState.bind(_this), handleWidth, handleHeight);\n            entries.forEach(function (entry) {\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\n                var shouldSetSize = !_this.skipOnMount && !isSSR();\n                if (shouldSetSize) {\n                    notifyResize({ width: width, height: height });\n                }\n                _this.skipOnMount = false;\n            });\n        };\n        _this.getRenderType = function () {\n            var _a = _this.props, render = _a.render, children = _a.children;\n            if (isFunction(render)) {\n                // DEPRECATED. Use `Child Function Pattern` instead\n                return 'renderProp';\n            }\n            if (isFunction(children)) {\n                return 'childFunction';\n            }\n            if (isValidElement(children)) {\n                return 'child';\n            }\n            if (Array.isArray(children)) {\n                // DEPRECATED. Wrap children with a single parent\n                return 'childArray';\n            }\n            // DEPRECATED. Use `Child Function Pattern` instead\n            return 'parent';\n        };\n        var skipOnMount = props.skipOnMount, refreshMode = props.refreshMode, _a = props.refreshRate, refreshRate = _a === void 0 ? 1000 : _a, refreshOptions = props.refreshOptions;\n        _this.state = {\n            width: undefined,\n            height: undefined\n        };\n        _this.skipOnMount = skipOnMount;\n        _this.targetRef = createRef();\n        _this.observableElement = null;\n        if (isSSR()) {\n            return _this;\n        }\n        _this.resizeHandler = patchResizeHandler(_this.createResizeHandler, refreshMode, refreshRate, refreshOptions);\n        _this.resizeObserver = new window.ResizeObserver(_this.resizeHandler);\n        return _this;\n    }\n    ResizeDetector.prototype.componentDidMount = function () {\n        this.attachObserver();\n    };\n    ResizeDetector.prototype.componentDidUpdate = function () {\n        this.attachObserver();\n    };\n    ResizeDetector.prototype.componentWillUnmount = function () {\n        if (isSSR()) {\n            return;\n        }\n        this.observableElement = null;\n        this.resizeObserver.disconnect();\n        this.cancelHandler();\n    };\n    ResizeDetector.prototype.render = function () {\n        var _a = this.props, render = _a.render, children = _a.children, _b = _a.nodeType, WrapperTag = _b === void 0 ? 'div' : _b;\n        var _c = this.state, width = _c.width, height = _c.height;\n        var childProps = { width: width, height: height, targetRef: this.targetRef };\n        var renderType = this.getRenderType();\n        switch (renderType) {\n            case 'renderProp':\n                return render === null || render === void 0 ? void 0 : render(childProps);\n            case 'childFunction': {\n                var childFunction = children;\n                return childFunction === null || childFunction === void 0 ? void 0 : childFunction(childProps);\n            }\n            case 'child': {\n                // @TODO bug prone logic\n                var child = children;\n                if (child.type && typeof child.type === 'string') {\n                    // child is a native DOM elements such as div, span etc\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    childProps.targetRef; var nativeProps = __rest(childProps, [\"targetRef\"]);\n                    return cloneElement(child, nativeProps);\n                }\n                // class or functional component otherwise\n                return cloneElement(child, childProps);\n            }\n            case 'childArray': {\n                var childArray = children;\n                return childArray.map(function (el) { return !!el && cloneElement(el, childProps); });\n            }\n            default:\n                return React.createElement(WrapperTag, null);\n        }\n    };\n    return ResizeDetector;\n}(PureComponent));function withResizeDetector(ComponentInner, options) {\n    if (options === void 0) { options = {}; }\n    var ResizeDetectorHOC = /** @class */ (function (_super) {\n        __extends(ResizeDetectorHOC, _super);\n        function ResizeDetectorHOC() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.ref = createRef();\n            return _this;\n        }\n        ResizeDetectorHOC.prototype.render = function () {\n            var _a = this.props, forwardedRef = _a.forwardedRef, rest = __rest(_a, [\"forwardedRef\"]);\n            var targetRef = forwardedRef !== null && forwardedRef !== void 0 ? forwardedRef : this.ref;\n            return (React.createElement(ResizeDetector, __assign({}, options, { targetRef: targetRef }),\n                React.createElement(ComponentInner, __assign({ targetRef: targetRef }, rest))));\n        };\n        return ResizeDetectorHOC;\n    }(Component));\n    function forwardRefWrapper(props, ref) {\n        return React.createElement(ResizeDetectorHOC, __assign({}, props, { forwardedRef: ref }));\n    }\n    var name = ComponentInner.displayName || ComponentInner.name;\n    forwardRefWrapper.displayName = \"withResizeDetector(\".concat(name, \")\");\n    return forwardRef(forwardRefWrapper);\n}var useEnhancedEffect = isSSR() ? useEffect : useLayoutEffect;\nfunction useResizeDetector(props) {\n    if (props === void 0) { props = {}; }\n    var _a = props.skipOnMount, skipOnMount = _a === void 0 ? false : _a, refreshMode = props.refreshMode, _b = props.refreshRate, refreshRate = _b === void 0 ? 1000 : _b, refreshOptions = props.refreshOptions, _c = props.handleWidth, handleWidth = _c === void 0 ? true : _c, _d = props.handleHeight, handleHeight = _d === void 0 ? true : _d, targetRef = props.targetRef, observerOptions = props.observerOptions, onResize = props.onResize;\n    var skipResize = useRef(skipOnMount);\n    var localRef = useRef(null);\n    var resizeHandler = useRef();\n    var ref = targetRef !== null && targetRef !== void 0 ? targetRef : localRef;\n    var _e = useState({\n        width: undefined,\n        height: undefined\n    }), size = _e[0], setSize = _e[1];\n    useEnhancedEffect(function () {\n        if (!handleWidth && !handleHeight)\n            return;\n        var notifyResize = createNotifier(onResize, setSize, handleWidth, handleHeight);\n        var resizeCallback = function (entries) {\n            if (!handleWidth && !handleHeight)\n                return;\n            entries.forEach(function (entry) {\n                var _a = (entry && entry.contentRect) || {}, width = _a.width, height = _a.height;\n                var shouldSetSize = !skipResize.current;\n                if (shouldSetSize) {\n                    notifyResize({ width: width, height: height });\n                }\n                skipResize.current = false;\n            });\n        };\n        resizeHandler.current = patchResizeHandler(resizeCallback, refreshMode, refreshRate, refreshOptions);\n        var resizeObserver = new window.ResizeObserver(resizeHandler.current);\n        if (ref.current) {\n            resizeObserver.observe(ref.current, observerOptions);\n        }\n        return function () {\n            var _a, _b;\n            resizeObserver.disconnect();\n            (_b = (_a = resizeHandler.current).cancel) === null || _b === void 0 ? void 0 : _b.call(_a);\n        };\n    }, [refreshMode, refreshRate, refreshOptions, handleWidth, handleHeight, onResize, observerOptions, ref.current]);\n    return __assign({ ref: ref }, size);\n}export{ResizeDetector as default,useResizeDetector,withResizeDetector};//# sourceMappingURL=index.esm.js.map\n","import { Box, type BoxProps } from '@chakra-ui/react'\nimport { useUnit } from 'effector-react'\nimport 'leaflet/dist/leaflet.css'\nimport React from 'react'\nimport { MapContainer, type MapContainerProps, TileLayer } from 'react-leaflet'\nimport { useResizeDetector } from 'react-resize-detector'\n\nimport { type createMap } from './model'\n\ninterface MapProps extends Omit<MapContainerProps, 'center' | 'zoom'> {\n\tmodel: ReturnType<typeof createMap>\n\tisResize?: boolean\n\tcenter?: L.LatLngTuple\n\tzoom?: number\n\tcontainerProps?: BoxProps\n\tattribution?: string\n\turl?: string\n}\n\nexport const CENTER = [48.356, 66.687] as L.LatLngTuple\nexport const ZOOM = 5\nexport const MAP_ATTRIBUTION =\n\t'&copy; <a href=\"https://stadiamaps.com/\">Stadia Maps</a>, &copy; <a href=\"https://openmaptiles.org/\">OpenMapTiles</a> &copy; <a href=\"http://openstreetmap.org\">OpenStreetMap</a> contributors'\nexport const MAP_URL = 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png'\n\nexport function Map(props: MapProps) {\n\tconst {\n\t\tmodel,\n\t\tisResize = false,\n\t\tcenter = CENTER,\n\t\tzoom = ZOOM,\n\t\tattribution = MAP_ATTRIBUTION,\n\t\turl = MAP_URL,\n\t\tcontainerProps,\n\t\tchildren,\n\t} = props\n\tconst [map, handleMount] = useUnit([model.$map, model.mapMounted])\n\n\tif (isResize) {\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tconst { width, height, ref } = useResizeDetector()\n\n\t\t// eslint-disable-next-line react-hooks/rules-of-hooks\n\t\tReact.useEffect(() => {\n\t\t\tif (!map) return\n\t\t\tmap.invalidateSize()\n\t\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t}, [width, height])\n\n\t\treturn (\n\t\t\t<Box ref={ref} {...containerProps}>\n\t\t\t\t<MapContainer\n\t\t\t\t\tref={handleMount}\n\t\t\t\t\tcenter={center}\n\t\t\t\t\tzoom={zoom}\n\t\t\t\t\tstyle={{ width, height, ...props.style }}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t<TileLayer attribution={attribution} url={url} />\n\t\t\t\t\t{children}\n\t\t\t\t</MapContainer>\n\t\t\t</Box>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<Box {...containerProps}>\n\t\t\t\t<MapContainer ref={handleMount} center={center} zoom={zoom} {...props}>\n\t\t\t\t\t<TileLayer attribution={attribution} url={url} />\n\t\t\t\t\t{children}\n\t\t\t\t</MapContainer>\n\t\t\t</Box>\n\t\t)\n\t}\n}\n","import { attach, type Effect, type Store } from 'effector'\nimport type L from 'leaflet'\n\n// FIXME: Refactor if you need\nexport function fitBounds<T extends Record<string, Store<{ positions: number[][][] }>>>(config: {\n\tmap: Store<L.Map | null>\n\tlayer: T\n}): Record<keyof T, Effect<void, void>>\nexport function fitBounds(config: {\n\tmap: Store<L.Map | null>\n\tlayer: Store<{ positions: number[][][] }>\n}): Effect<void, void>\nexport function fitBounds<T extends Record<string, Store<{ positions: number[][][] }>>>(config: {\n\tmap: Store<L.Map | null>\n\tlayer: Store<{ positions: number[][][] }> | T\n}): Effect<void, void> | Record<keyof T, Effect<void, void>> {\n\tconst { map: $map, layer } = config\n\n\tif (typeof layer === 'object' && !Array.isArray(layer)) {\n\t\tconst layerObj = layer as T\n\t\tconst fitBoundObj = {} as Record<keyof T, Effect<void, void>>\n\n\t\tObject.keys(layerObj).forEach((key) => {\n\t\t\tconst $layer = layerObj[key] as Store<{ positions: number[][][] }>\n\t\t\tconst fitBoundFx = attach({\n\t\t\t\tsource: { map: $map, layer: $layer },\n\t\t\t\teffect: ({ map, layer }, params: void) => {\n\t\t\t\t\tif (!map) throw new Error('Map is not defined')\n\t\t\t\t\tif (layer.positions.length === 0) throw new Error('Positions is empty')\n\t\t\t\t\tmap.fitBounds(layer.positions as any)\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tfitBoundObj[key as keyof T] = fitBoundFx\n\t\t})\n\n\t\treturn fitBoundObj\n\t} else {\n\t\tconst $layer = layer as Store<{ positions: number[][][] }>\n\n\t\tconst fitBoundFx = attach({\n\t\t\tsource: { map: $map, layer: $layer },\n\t\t\teffect: ({ map, layer }, params: void) => {\n\t\t\t\tif (!map) throw new Error('Map is not defined')\n\t\t\t\tif (layer.positions.length === 0) throw new Error('Positions is empty')\n\t\t\t\tmap.fitBounds(layer.positions as any)\n\t\t\t},\n\t\t})\n\n\t\treturn fitBoundFx\n\t}\n}\n","import { createMap } from './model'\nimport { Map } from './ui'\n\nexport * from './events'\n\nexport const MapFactory = {\n\tMap,\n\tcreateMap,\n}\n","/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import { getCoord, getGeom } from \"@turf/invariant\";\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nexport default function booleanPointInPolygon(point, polygon, options) {\n    if (options === void 0) { options = {}; }\n    // validation\n    if (!point) {\n        throw new Error(\"point is required\");\n    }\n    if (!polygon) {\n        throw new Error(\"polygon is required\");\n    }\n    var pt = getCoord(point);\n    var geom = getGeom(polygon);\n    var type = geom.type;\n    var bbox = polygon.bbox;\n    var polys = geom.coordinates;\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) {\n        return false;\n    }\n    // normalize to multipolygon\n    if (type === \"Polygon\") {\n        polys = [polys];\n    }\n    var insidePoly = false;\n    for (var i = 0; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], options.ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !options.ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) {\n                insidePoly = true;\n            }\n        }\n    }\n    return insidePoly;\n}\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] &&\n        ring[0][1] === ring[ring.length - 1][1]) {\n        ring = ring.slice(0, ring.length - 1);\n    }\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0];\n        var yi = ring[i][1];\n        var xj = ring[j][0];\n        var yj = ring[j][1];\n        var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 &&\n            (xi - pt[0]) * (xj - pt[0]) <= 0 &&\n            (yi - pt[1]) * (yj - pt[1]) <= 0;\n        if (onBoundary) {\n            return !ignoreBoundary;\n        }\n        var intersect = yi > pt[1] !== yj > pt[1] &&\n            pt[0] < ((xj - xi) * (pt[1] - yi)) / (yj - yi) + xi;\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n}\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return (bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]);\n}\n","// http://en.wikipedia.org/wiki/Haversine_formula\n// http://www.movable-type.co.uk/scripts/latlong.html\nimport { degreesToRadians, lengthToRadians, point, radiansToDegrees, } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Takes a {@link Point} and calculates the location of a destination point given a distance in\n * degrees, radians, miles, or kilometers; and bearing in degrees.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name destination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the origin point\n * @param {number} bearing ranging from -180 to 180\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] Translate properties to Point\n * @returns {Feature<Point>} destination point\n * @example\n * var point = turf.point([-75.343, 39.984]);\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.destination(point, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [point, destination]\n * destination.properties['marker-color'] = '#f00';\n * point.properties['marker-color'] = '#0f0';\n */\nexport default function destination(origin, distance, bearing, options) {\n    if (options === void 0) { options = {}; }\n    // Handle input\n    var coordinates1 = getCoord(origin);\n    var longitude1 = degreesToRadians(coordinates1[0]);\n    var latitude1 = degreesToRadians(coordinates1[1]);\n    var bearingRad = degreesToRadians(bearing);\n    var radians = lengthToRadians(distance, options.units);\n    // Main\n    var latitude2 = Math.asin(Math.sin(latitude1) * Math.cos(radians) +\n        Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad));\n    var longitude2 = longitude1 +\n        Math.atan2(Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1), Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2));\n    var lng = radiansToDegrees(longitude2);\n    var lat = radiansToDegrees(latitude2);\n    return point([lng, lat], options.properties);\n}\n","import destination from \"@turf/destination\";\nimport { polygon, } from \"@turf/helpers\";\n/**\n * Takes a {@link Point} and calculates the circle polygon given a radius in degrees, radians, miles, or kilometers; and steps for precision.\n *\n * @name circle\n * @param {Feature<Point>|number[]} center center point\n * @param {number} radius radius of the circle\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} circle polygon\n * @example\n * var center = [-75.343, 39.984];\n * var radius = 5;\n * var options = {steps: 10, units: 'kilometers', properties: {foo: 'bar'}};\n * var circle = turf.circle(center, radius, options);\n *\n * //addToMap\n * var addToMap = [turf.point(center), circle]\n */\nfunction circle(center, radius, options) {\n    if (options === void 0) { options = {}; }\n    // default params\n    var steps = options.steps || 64;\n    var properties = options.properties\n        ? options.properties\n        : !Array.isArray(center) && center.type === \"Feature\" && center.properties\n            ? center.properties\n            : {};\n    // main\n    var coordinates = [];\n    for (var i = 0; i < steps; i++) {\n        coordinates.push(destination(center, radius, (i * -360) / steps, options).geometry\n            .coordinates);\n    }\n    coordinates.push(coordinates[0]);\n    return polygon([coordinates], properties);\n}\nexport default circle;\n","import * as turf from '@turf/turf'\nimport { attach, createEffect, createStore } from 'effector'\n\nimport { clientApi, type ClientPlot } from '~src/shared/api'\n\nexport const filterClientsPlotsInCircleFx = createEffect<\n\t{ event: any; clientsPlots: Pick<ClientPlot, 'guid' | 'clientId' | 'geometryRings'>[] },\n\t{ circleId: number; clientsPlots: Pick<ClientPlot, 'guid' | 'clientId' | 'geometryRings'>[] }\n>(({ event, clientsPlots }) => {\n\tconst layer = event.layer as any\n\tconst id = layer._leaflet_id as number\n\tconst center = layer.getLatLng()\n\tconst radius = Math.floor(layer.getRadius())\n\tconst polygon = turf.circle([center.lng, center.lat], radius, {\n\t\tunits: 'meters',\n\t})\n\tconst filterClientsPlots = clientsPlots.filter((plot) => {\n\t\tconst result: boolean[] = []\n\n\t\tfor (const coord of plot.geometryRings[0]!) {\n\t\t\tconst point = turf.point([coord[1]!, coord[0]!])\n\t\t\tconst within = turf.booleanPointInPolygon(point, polygon)\n\t\t\tresult.push(within)\n\t\t}\n\n\t\treturn result.includes(true)\n\t})\n\treturn { circleId: id, clientsPlots: filterClientsPlots }\n})\n\nexport function createClientPlots() {\n\tconst $clientPlots = createStore<ClientPlot[]>([])\n\tconst $client = $clientPlots.map((clientPlots) =>\n\t\tclientPlots.length !== 0\n\t\t\t? {\n\t\t\t\t\tguid: clientPlots[0]!.guid,\n\t\t\t\t\tclientId: clientPlots[0]!.clientId,\n\t\t\t\t\tclientName: clientPlots[0]!.clientName,\n\t\t\t\t\tclientBin: clientPlots[0]!.clientBin,\n\t\t\t\t\tclientAddress: clientPlots[0]!.clientAddress,\n\t\t\t\t\tclientActivity: clientPlots[0]!.clientActivity,\n\t\t\t\t\tregionId: clientPlots[0]!.regionId,\n\t\t\t\t\tdistrictId: clientPlots[0]!.districtId,\n\t\t\t  }\n\t\t\t: null,\n\t)\n\tconst $clientPlotsPending = createStore<boolean>(false)\n\n\tconst getClientPlotsFx = attach({\n\t\teffect: clientApi.clientPlotsQuery,\n\t})\n\n\t$clientPlotsPending.on(getClientPlotsFx.pending, (_, pending) => pending)\n\t$clientPlots.on(getClientPlotsFx.doneData, (_, clientPlots) => clientPlots)\n\n\treturn { getClientPlotsFx, $clientPlotsPending, $clientPlots, $client }\n}\n"],"names":["AccordionStylesProvider","useAccordionStyles","createContext","AccordionItemProvider","useAccordionItemContext","AccordionDescendantsProvider","useAccordionDescendantsContext","useAccordionDescendants","useAccordionDescendant","createDescendantContext","AccordionButton","forwardRef","props","ref","getButtonProps","buttonProps","buttonStyles","jsx","chakra","cx","useControllableState","valueProp","defaultValue","onChange","shouldUpdate","prev","next","onChangeProp","useCallbackRef","shouldUpdateProp","uncontrolledState","setUncontrolledState","useState","controlled","value","setValue","nextValue","useAccordion","defaultIndex","indexProp","allowMultiple","allowToggle","htmlProps","allowMultipleWarning","allowMultipleAndAllowToggleWarning","descendants","focusedIndex","setFocusedIndex","useEffect","index","setIndex","idx","isOpen","isOpen2","nextState","i","AccordionProvider","useAccordionContext","useAccordionItem","isDisabled","isFocusable","id","getAccordionItemProps","buttonRef","useRef","reactId","useId","uid","buttonId","panelId","focusableNotDisabledWarning","register","warnIfOpenAndDisabled","onOpen","onClose","onClick","useCallback","onKeyDown","event","action","first","last","onFocus","props2","mergeRefs","callAllHandlers","getPanelProps","condition","warn","AccordionItem","children","className","context","containerStyles","ctx","useMemo","isNumeric","defaultTransitions","TRANSITION_EASINGS","variants","animateOpacity","startingHeight","transition","transitionEnd","delay","_a","withDelay","endingHeight","Collapse","unmountOnExit","style","rest","mounted","setMounted","timeout","hasStartingHeight","custom","show","animate","AnimatePresence","motion","AccordionPanel","motionProps","reduceMotion","panelProps","_className","styles","child","Accordion","useMultiStyleConfig","ownProps","omitThemingProps","Badge","useStyleConfig","Polygon","createPathComponent","positions","options","polygon","LeafletPolygon","createElementObject","extendContext","layer","prevProps","createLandsToLand","$lands","landCb","landClicked","createEvent","$landId","createStore","$land","combine","lands","landId","getFindLand","_","land","Lands","model","handleLandClick","useUnit","Fragment","React","Land","getLandsPositions","region","LandsToLandFactory","createMap","mapMounted","$map","state","map","isObject","type","isObject_1","freeGlobal","global","_freeGlobal","require$$0","freeSelf","root","_root","now","now_1","reWhitespace","trimmedEndIndex","string","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","Symbol","_Symbol","objectProto","hasOwnProperty","nativeObjectToString","symToStringTag","getRawTag","isOwn","tag","unmasked","result","_getRawTag","objectToString","_objectToString","require$$1","require$$2","nullTag","undefinedTag","baseGetTag","_baseGetTag","isObjectLike","isObjectLike_1","symbolTag","isSymbol","isSymbol_1","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","isBinary","toNumber_1","FUNC_ERROR_TEXT","nativeMax","nativeMin","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","debounce_1","throttle","throttle_1","extendStatics","d","b","p","__extends","__","__assign","t","s","n","__rest","e","patchResizeHandler","resizeCallback","refreshMode","refreshRate","refreshOptions","isFunction","fn","isSSR","isDOMElement","element","createNotifier","onResize","setSize","handleWidth","handleHeight","width","height","_super","ResizeDetector","_this","targetRef","observerOptions","querySelector","targetDomEl","currentElement","findDOMNode","renderType","entries","_b","_c","notifyResize","entry","shouldSetSize","render","isValidElement","skipOnMount","createRef","WrapperTag","childProps","childFunction","nativeProps","cloneElement","childArray","el","React.createElement","PureComponent","useEnhancedEffect","useLayoutEffect","useResizeDetector","_d","skipResize","localRef","resizeHandler","_e","size","resizeObserver","CENTER","ZOOM","MAP_ATTRIBUTION","MAP_URL","Map","isResize","center","zoom","attribution","url","containerProps","handleMount","Box","jsxs","MapContainer","TileLayer","fitBounds","config","layerObj","fitBoundObj","key","$layer","fitBoundFx","attach","params","MapFactory","earthRadius","factors","feature","geom","properties","feat","point","coordinates","isNumber","_i","coordinates_1","ring","j","lengthToRadians","distance","units","factor","radiansToDegrees","radians","degrees","degreesToRadians","num","getCoord","coord","getGeom","geojson","booleanPointInPolygon","pt","bbox","polys","inBBox","insidePoly","inRing","inHole","k","ignoreBoundary","isInside","xi","yi","xj","yj","onBoundary","intersect","destination","origin","bearing","coordinates1","longitude1","latitude1","bearingRad","latitude2","longitude2","lng","lat","circle","radius","steps","filterClientsPlotsInCircleFx","createEffect","clientsPlots","turf.circle","filterClientsPlots","plot","turf.point","within","turf.booleanPointInPolygon","createClientPlots","$clientPlots","$client","clientPlots","$clientPlotsPending","getClientPlotsFx","clientApi.clientPlotsQuery","pending"],"mappings":"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"}