import{c as ee,f as k,a as O,d as $,g as S,e as q,b as f,k as V,ai as j,aj as Ke,p as Xe,l as Ye,o as Ee,y as Ze,R as N,W as Ae,Y as F,C as Re,D as B,ac as Je,s as te,x as Ce,ak as D,j as ae,O as Y,N as Qe,a0 as et}from"./index-01e3cde2.js";import{T as H,w as ie}from"./chunk-LB6CWFOC-afb3a818.js";import{c as tt}from"./ui-fa408ddb.js";import{m as nt}from"./chunk-NAA7TEES-a032545a.js";import{B as se}from"./index.esm-6f403ff8.js";var[rt,ne]=ee({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[ot,xe]=ee({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[at,dr,it,st]=tt(),ct=k(function(n,r){const{getButtonProps:t}=xe(),o=t(n,r),i={display:"flex",alignItems:"center",width:"100%",outline:0,...ne().button};return O($.button,{...o,className:S("chakra-accordion__button",n.className),__css:i})});ct.displayName="AccordionButton";function lt(e){const{value:n,defaultValue:r,onChange:t,shouldUpdate:o=(m,h)=>m!==h}=e,a=q(t),i=q(o),[s,u]=f.useState(r),l=n!==void 0,c=l?n:s,d=q(m=>{const v=typeof m=="function"?m(c):m;i(c,v)&&(l||u(v),a(v))},[l,a,c,i]);return[c,d]}function ut(e){const{onChange:n,defaultIndex:r,index:t,allowMultiple:o,allowToggle:a,...i}=e;ht(e),mt(e);const s=it(),[u,l]=f.useState(-1);f.useEffect(()=>()=>{l(-1)},[]);const[c,d]=lt({value:t,defaultValue(){return o?r??[]:r??-1},onChange:n});return{index:c,setIndex:d,htmlProps:i,getAccordionItemProps:h=>{let v=!1;return h!==null&&(v=Array.isArray(c)?c.includes(h):c===h),{isOpen:v,onChange:g=>{if(h!==null)if(o&&Array.isArray(c)){const p=g?c.concat(h):c.filter(w=>w!==h);d(p)}else g?d(h):a&&d(-1)}}},focusedIndex:u,setFocusedIndex:l,descendants:s}}var[ft,_e]=ee({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function dt(e){const{isDisabled:n,isFocusable:r,id:t,...o}=e,{getAccordionItemProps:a,setFocusedIndex:i}=_e(),s=f.useRef(null),u=f.useId(),l=t??u,c=`accordion-button-${l}`,d=`accordion-panel-${l}`;vt(e);const{register:m,index:h,descendants:v}=st({disabled:n&&!r}),{isOpen:b,onChange:g}=a(h===-1?null:h);gt({isOpen:b,isDisabled:n});const p=()=>{g==null||g(!0)},w=()=>{g==null||g(!1)},T=f.useCallback(()=>{g==null||g(!b),i(h)},[h,i,b,g]),I=f.useCallback(A=>{const P={ArrowDown:()=>{const x=v.nextEnabled(h);x==null||x.node.focus()},ArrowUp:()=>{const x=v.prevEnabled(h);x==null||x.node.focus()},Home:()=>{const x=v.firstEnabled();x==null||x.node.focus()},End:()=>{const x=v.lastEnabled();x==null||x.node.focus()}}[A.key];P&&(A.preventDefault(),P(A))},[v,h]),_=f.useCallback(()=>{i(h)},[i,h]),y=f.useCallback(function(E={},P=null){return{...E,type:"button",ref:nt(m,s,P),id:c,disabled:!!n,"aria-expanded":!!b,"aria-controls":d,onClick:V(E.onClick,T),onFocus:V(E.onFocus,_),onKeyDown:V(E.onKeyDown,I)}},[c,n,b,T,_,I,d,m]),C=f.useCallback(function(E={},P=null){return{...E,ref:P,role:"region",id:d,"aria-labelledby":c,hidden:!b}},[c,b,d]);return{isOpen:b,isDisabled:n,isFocusable:r,onOpen:p,onClose:w,getButtonProps:y,getPanelProps:C,htmlProps:o}}function ht(e){const n=e.index||e.defaultIndex,r=n!=null&&!Array.isArray(n)&&e.allowMultiple;j({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function mt(e){j({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function vt(e){j({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function gt(e){j({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}var yt=k(function(n,r){const{children:t,className:o}=n,{htmlProps:a,...i}=dt(n),u={...ne().container,overflowAnchor:"none"},l=f.useMemo(()=>i,[i]);return O(ot,{value:l,children:O($.div,{ref:r,...a,className:S("chakra-accordion__item",o),__css:u,children:typeof t=="function"?t({isExpanded:!!i.isOpen,isDisabled:!!i.isDisabled}):t})})});yt.displayName="AccordionItem";var bt=e=>e!=null&&parseInt(e.toString(),10)>0,ce={exit:{height:{duration:.2,ease:H.ease},opacity:{duration:.3,ease:H.ease}},enter:{height:{duration:.3,ease:H.ease},opacity:{duration:.4,ease:H.ease}}},pt={exit:({animateOpacity:e,startingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:bt(n)?1:0},height:n,transitionEnd:t==null?void 0:t.exit,transition:(a=r==null?void 0:r.exit)!=null?a:ie.exit(ce.exit,o)}},enter:({animateOpacity:e,endingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:1},height:n,transitionEnd:t==null?void 0:t.enter,transition:(a=r==null?void 0:r.enter)!=null?a:ie.enter(ce.enter,o)}}},Pe=f.forwardRef((e,n)=>{const{in:r,unmountOnExit:t,animateOpacity:o=!0,startingHeight:a=0,endingHeight:i="auto",style:s,className:u,transition:l,transitionEnd:c,...d}=e,[m,h]=f.useState(!1);f.useEffect(()=>{const w=setTimeout(()=>{h(!0)});return()=>clearTimeout(w)},[]),j({condition:Boolean(a>0&&t),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const v=parseFloat(a.toString())>0,b={startingHeight:a,endingHeight:i,animateOpacity:o,transition:m?l:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:t?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:v?"block":"none"}}},g=t?r:!0,p=r||t?"enter":"exit";return O(Ke,{initial:!1,custom:b,children:g&&O(Xe.div,{ref:n,...d,className:S("chakra-collapse",u),style:{overflow:"hidden",display:"block",...s},custom:b,variants:pt,initial:t?"exit":!1,animate:p,exit:"exit"})})});Pe.displayName="Collapse";var wt=k(function(n,r){const{className:t,motionProps:o,...a}=n,{reduceMotion:i}=_e(),{getPanelProps:s,isOpen:u}=xe(),l=s(a,r),c=S("chakra-accordion__panel",t),d=ne();i||delete l.hidden;const m=O($.div,{...l,__css:d.panel,className:c});return i?m:O(Pe,{in:u,...o,children:m})});wt.displayName="AccordionPanel";var Ot=k(function({children:n,reduceMotion:r,...t},o){const a=Ye("Accordion",t),i=Ee(t),{htmlProps:s,descendants:u,...l}=ut(i),c=f.useMemo(()=>({...l,reduceMotion:!!r}),[l,r]);return O(at,{value:u,children:O(ft,{value:c,children:O(rt,{value:a,children:O($.div,{ref:o,...s,className:S("chakra-accordion",t.className),__css:a.root,children:n})})})})});Ot.displayName="Accordion";var Et=k(function(n,r){const t=Ze("Badge",n),{className:o,...a}=Ee(n);return O($.span,{ref:r,className:S("chakra-badge",n.className),...a,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...t}})});Et.displayName="Badge";function Te(e,n){const r=f.useRef(n);f.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const At=1;function Rt(e){return Object.freeze({__version:At,map:e})}function Ie(e,n){return Object.freeze({...e,...n})}const Me=f.createContext(null),Se=Me.Provider;function W(){const e=f.useContext(Me);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Le(e){function n(r,t){const{instance:o,context:a}=e(r).current;return f.useImperativeHandle(t,()=>o),r.children==null?null:N.createElement(Se,{value:a},r.children)}return f.forwardRef(n)}function Ct(e){function n(r,t){const[o,a]=f.useState(!1),{instance:i}=e(r,a).current;f.useImperativeHandle(t,()=>i),f.useEffect(function(){o&&i.update()},[i,o,r.children]);const s=i._contentNode;return s?Ae.createPortal(r.children,s):null}return f.forwardRef(n)}function Ne(e){function n(r,t){const{instance:o}=e(r).current;return f.useImperativeHandle(t,()=>o),null}return f.forwardRef(n)}function xt(e){return function(r){const t=W(),o=e(r,t),{instance:a}=o.current,i=f.useRef(r.position),{position:s}=r;return f.useEffect(function(){return a.addTo(t.map),function(){a.remove()}},[t.map,a]),f.useEffect(function(){s!=null&&s!==i.current&&(a.setPosition(s),i.current=s)},[a,s]),o}}function re(e,n){const r=f.useRef();f.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function U(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function _t(e,n){return function(t,o){const a=W(),i=e(U(t,a),a);return Te(a.map,t.attribution),re(i.current,t.eventHandlers),n(i.current,a,t,o),i}}function G(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function z(e,n){return n==null?function(t,o){const a=f.useRef();return a.current||(a.current=e(t,o)),a}:function(t,o){const a=f.useRef();a.current||(a.current=e(t,o));const i=f.useRef(t),{instance:s}=a.current;return f.useEffect(function(){i.current!==t&&(n(s,t,i.current),i.current=t)},[s,t,o]),a}}function ke(e,n){f.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function $e(e){return function(r){const t=W(),o=e(U(r,t),t);return Te(t.map,r.attribution),re(o.current,r.eventHandlers),ke(o.current,t),o}}function Pt(e,n){const r=f.useRef();f.useEffect(function(){if(n.pathOptions!==r.current){const o=n.pathOptions??{};e.instance.setStyle(o),r.current=o}},[e,n])}function Tt(e){return function(r){const t=W(),o=e(U(r,t),t);return re(o.current,r.eventHandlers),ke(o.current,t),Pt(o.current,r),o}}function hr(e){function n(o,a){return G(e(o),a)}const r=z(n),t=xt(r);return Ne(t)}function It(e,n){const r=z(e,n),t=$e(r);return Le(t)}function mr(e,n){const r=z(e),t=_t(r,n);return Ct(t)}function Mt(e,n){const r=z(e,n),t=Tt(r);return Le(t)}function St(e,n){const r=z(e,n),t=$e(r);return Ne(t)}function Lt(e,n,r){const{opacity:t,zIndex:o}=n;t!=null&&t!==r.opacity&&e.setOpacity(t),o!=null&&o!==r.zIndex&&e.setZIndex(o)}function Z(){return Z=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Z.apply(this,arguments)}function Nt({bounds:e,boundsOptions:n,center:r,children:t,className:o,id:a,placeholder:i,style:s,whenReady:u,zoom:l,...c},d){const[m]=f.useState({className:o,id:a,style:s}),[h,v]=f.useState(null);f.useImperativeHandle(d,()=>(h==null?void 0:h.map)??null,[h]);const b=f.useCallback(p=>{if(p!==null&&h===null){const w=new F.Map(p,c);r!=null&&l!=null?w.setView(r,l):e!=null&&w.fitBounds(e,n),u!=null&&w.whenReady(u),v(Rt(w))}},[]);f.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const g=h?N.createElement(Se,{value:h},t):i??null;return N.createElement("div",Z({},m,{ref:b}),g)}const le=f.forwardRef(Nt),vr=It(function({position:n,...r},t){const o=new F.Marker(n,r);return G(o,Ie(t,{overlayContainer:o}))},function(n,r,t){r.position!==t.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==t.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==t.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==t.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),gr=Mt(function({positions:n,...r},t){const o=new F.Polygon(n,r);return G(o,Ie(t,{overlayContainer:o}))},function(n,r,t){r.positions!==t.positions&&n.setLatLngs(r.positions)}),ue=St(function({url:n,...r},t){const o=new F.TileLayer(n,U(r,t));return G(o,t)},function(n,r,t){Lt(n,r,t);const{url:o}=r;o!=null&&o!==t.url&&n.setUrl(o)});function kt(e){const{lands:n,landCb:r}=e,t=Re(),o=B(null),a=Je(n,o,(i,s)=>r?r({lands:i,landId:s}):$t({lands:i,landId:s}));return o.on(t,(i,s)=>s),{_$lands:n,$landId:o,$land:a,landClicked:t}}function $t({lands:e,landId:n}){return e.find(r=>r.id===n)??null}function jt(e){const{model:n,children:r}=e,[t,o]=te([n._$lands,n.landClicked]);return O(Ce,{children:t.map((a,i)=>O(N.Fragment,{children:r({land:a,index:i,onClick:o})},i))})}function zt(e){const{model:n,children:r}=e,[t]=te([n.$land]);return t?O(Ce,{children:r({land:t})}):null}function yr(e){const n=[];return e.forEach(r=>{n.push(r.geometryRings[0])}),n}const br={Lands:jt,Land:zt,createLandsToLand:kt};function Dt(){const e=Re(),n=B(null);return n.on(e,(r,t)=>t),{mapMounted:e,$map:n}}function Ht(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var oe=Ht,Bt=typeof D=="object"&&D&&D.Object===Object&&D,Ft=Bt,Wt=Ft,Ut=typeof self=="object"&&self&&self.Object===Object&&self,Gt=Wt||Ut||Function("return this")(),je=Gt,qt=je,Vt=function(){return qt.Date.now()},Kt=Vt,Xt=/\s/;function Yt(e){for(var n=e.length;n--&&Xt.test(e.charAt(n)););return n}var Zt=Yt,Jt=Zt,Qt=/^\s+/;function en(e){return e&&e.slice(0,Jt(e)+1).replace(Qt,"")}var tn=en,nn=je,rn=nn.Symbol,ze=rn,fe=ze,De=Object.prototype,on=De.hasOwnProperty,an=De.toString,L=fe?fe.toStringTag:void 0;function sn(e){var n=on.call(e,L),r=e[L];try{e[L]=void 0;var t=!0}catch{}var o=an.call(e);return t&&(n?e[L]=r:delete e[L]),o}var cn=sn,ln=Object.prototype,un=ln.toString;function fn(e){return un.call(e)}var dn=fn,de=ze,hn=cn,mn=dn,vn="[object Null]",gn="[object Undefined]",he=de?de.toStringTag:void 0;function yn(e){return e==null?e===void 0?gn:vn:he&&he in Object(e)?hn(e):mn(e)}var bn=yn;function pn(e){return e!=null&&typeof e=="object"}var wn=pn,On=bn,En=wn,An="[object Symbol]";function Rn(e){return typeof e=="symbol"||En(e)&&On(e)==An}var Cn=Rn,xn=tn,me=oe,_n=Cn,ve=0/0,Pn=/^[-+]0x[0-9a-f]+$/i,Tn=/^0b[01]+$/i,In=/^0o[0-7]+$/i,Mn=parseInt;function Sn(e){if(typeof e=="number")return e;if(_n(e))return ve;if(me(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=me(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=xn(e);var r=Tn.test(e);return r||In.test(e)?Mn(e.slice(2),r?2:8):Pn.test(e)?ve:+e}var Ln=Sn,Nn=oe,K=Kt,ge=Ln,kn="Expected a function",$n=Math.max,jn=Math.min;function zn(e,n,r){var t,o,a,i,s,u,l=0,c=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(kn);n=ge(n)||0,Nn(r)&&(c=!!r.leading,d="maxWait"in r,a=d?$n(ge(r.maxWait)||0,n):a,m="trailing"in r?!!r.trailing:m);function h(y){var C=t,A=o;return t=o=void 0,l=y,i=e.apply(A,C),i}function v(y){return l=y,s=setTimeout(p,n),c?h(y):i}function b(y){var C=y-u,A=y-l,E=n-C;return d?jn(E,a-A):E}function g(y){var C=y-u,A=y-l;return u===void 0||C>=n||C<0||d&&A>=a}function p(){var y=K();if(g(y))return w(y);s=setTimeout(p,b(y))}function w(y){return s=void 0,m&&t?h(y):(t=o=void 0,i)}function T(){s!==void 0&&clearTimeout(s),l=0,t=u=o=s=void 0}function I(){return s===void 0?i:w(K())}function _(){var y=K(),C=g(y);if(t=arguments,o=this,u=y,C){if(s===void 0)return v(u);if(d)return clearTimeout(s),s=setTimeout(p,n),h(u)}return s===void 0&&(s=setTimeout(p,n)),i}return _.cancel=T,_.flush=I,_}var He=zn,Dn=He,Hn=oe,Bn="Expected a function";function Fn(e,n,r){var t=!0,o=!0;if(typeof e!="function")throw new TypeError(Bn);return Hn(r)&&(t="leading"in r?!!r.leading:t,o="trailing"in r?!!r.trailing:o),Dn(e,n,{leading:t,maxWait:n,trailing:o})}var Wn=Fn,J=function(e,n){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])},J(e,n)};function Un(e,n){J(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Q=function(){return Q=Object.assign||function(n){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Q.apply(this,arguments)};function Gn(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r}var Be=function(e,n,r,t){switch(n){case"debounce":return He(e,r,t);case"throttle":return Wn(e,r,t);default:return e}},ye=function(e){return typeof e=="function"},M=function(){return typeof window>"u"},be=function(e){return e instanceof Element||e instanceof HTMLDocument},Fe=function(e,n,r,t){return function(o){var a=o.width,i=o.height;n(function(s){return s.width===a&&s.height===i||s.width===a&&!t||s.height===i&&!r?s:(e==null||e(a,i),{width:a,height:i})})}};(function(e){Un(n,e);function n(r){var t=e.call(this,r)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var l=t.props,c=l.targetRef,d=l.observerOptions;if(!M()){c&&c.current&&(t.targetRef.current=c.current);var m=t.getElement();m&&(t.observableElement&&t.observableElement===m||(t.observableElement=m,t.resizeObserver.observe(m,d)))}},t.getElement=function(){var l=t.props,c=l.querySelector,d=l.targetDomEl;if(M())return null;if(c)return document.querySelector(c);if(d&&be(d))return d;if(t.targetRef&&be(t.targetRef.current))return t.targetRef.current;var m=Ae.findDOMNode(t);if(!m)return null;var h=t.getRenderType();switch(h){case"renderProp":return m;case"childFunction":return m;case"child":return m;case"childArray":return m;default:return m.parentElement}},t.createResizeHandler=function(l){var c=t.props,d=c.handleWidth,m=d===void 0?!0:d,h=c.handleHeight,v=h===void 0?!0:h,b=c.onResize;if(!(!m&&!v)){var g=Fe(b,t.setState.bind(t),m,v);l.forEach(function(p){var w=p&&p.contentRect||{},T=w.width,I=w.height,_=!t.skipOnMount&&!M();_&&g({width:T,height:I}),t.skipOnMount=!1})}},t.getRenderType=function(){var l=t.props,c=l.render,d=l.children;return ye(c)?"renderProp":ye(d)?"childFunction":f.isValidElement(d)?"child":Array.isArray(d)?"childArray":"parent"};var o=r.skipOnMount,a=r.refreshMode,i=r.refreshRate,s=i===void 0?1e3:i,u=r.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=o,t.targetRef=f.createRef(),t.observableElement=null,M()||(t.resizeHandler=Be(t.createResizeHandler,a,s,u),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){M()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var r=this.props,t=r.render,o=r.children,a=r.nodeType,i=a===void 0?"div":a,s=this.state,u=s.width,l=s.height,c={width:u,height:l,targetRef:this.targetRef},d=this.getRenderType();switch(d){case"renderProp":return t==null?void 0:t(c);case"childFunction":{var m=o;return m==null?void 0:m(c)}case"child":{var h=o;if(h.type&&typeof h.type=="string"){c.targetRef;var v=Gn(c,["targetRef"]);return f.cloneElement(h,v)}return f.cloneElement(h,c)}case"childArray":{var b=o;return b.map(function(g){return!!g&&f.cloneElement(g,c)})}default:return f.createElement(i,null)}},n})(f.PureComponent);var qn=M()?f.useEffect:f.useLayoutEffect;function Vn(e){e===void 0&&(e={});var n=e.skipOnMount,r=n===void 0?!1:n,t=e.refreshMode,o=e.refreshRate,a=o===void 0?1e3:o,i=e.refreshOptions,s=e.handleWidth,u=s===void 0?!0:s,l=e.handleHeight,c=l===void 0?!0:l,d=e.targetRef,m=e.observerOptions,h=e.onResize,v=f.useRef(r),b=f.useRef(null),g=f.useRef(),p=d??b,w=f.useState({width:void 0,height:void 0}),T=w[0],I=w[1];return qn(function(){if(!(!u&&!c)){var _=Fe(h,I,u,c),y=function(A){!u&&!c||A.forEach(function(E){var P=E&&E.contentRect||{},x=P.width,qe=P.height,Ve=!v.current;Ve&&_({width:x,height:qe}),v.current=!1})};g.current=Be(y,t,a,i);var C=new window.ResizeObserver(g.current);return p.current&&C.observe(p.current,m),function(){var A,E;C.disconnect(),(E=(A=g.current).cancel)===null||E===void 0||E.call(A)}}},[t,a,i,u,c,h,m,p.current]),Q({ref:p},T)}const Kn=[48.356,66.687],Xn=5,Yn='&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',Zn="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";function Jn(e){const{model:n,isResize:r=!1,center:t=Kn,zoom:o=Xn,attribution:a=Yn,url:i=Zn,containerProps:s,children:u}=e,[l,c]=te([n.$map,n.mapMounted]);if(r){const{width:d,height:m,ref:h}=Vn();return N.useEffect(()=>{l&&l.invalidateSize()},[d,m]),O(se,{ref:h,...s,children:ae(le,{ref:c,center:t,zoom:o,style:{width:d,height:m,...e.style},...e,children:[O(ue,{attribution:a,url:i}),u]})})}else return O(se,{...s,children:ae(le,{ref:c,center:t,zoom:o,...e,children:[O(ue,{attribution:a,url:i}),u]})})}function pr(e){const{map:n,layer:r}=e;if(typeof r=="object"&&!Array.isArray(r)){const t=r,o={};return Object.keys(t).forEach(a=>{const i=t[a],s=Y({source:{map:n,layer:i},effect:({map:u,layer:l},c)=>{if(!u)throw new Error("Map is not defined");if(l.positions.length===0)throw new Error("Positions is empty");u.fitBounds(l.positions)}});o[a]=s}),o}else return Y({source:{map:n,layer:r},effect:({map:a,layer:i},s)=>{if(!a)throw new Error("Map is not defined");if(i.positions.length===0)throw new Error("Positions is empty");a.fitBounds(i.positions)}})}const wr={Map:Jn,createMap:Dt};var R=63710088e-1,Qn={centimeters:R*100,centimetres:R*100,degrees:R/111325,feet:R*3.28084,inches:R*39.37,kilometers:R/1e3,kilometres:R/1e3,meters:R,metres:R,miles:R/1609.344,millimeters:R*1e3,millimetres:R*1e3,nauticalmiles:R/1852,radians:1,yards:R*1.0936};function We(e,n,r){r===void 0&&(r={});var t={type:"Feature"};return(r.id===0||r.id)&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.properties=n||{},t.geometry=e,t}function Ue(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!we(e[0])||!we(e[1]))throw new Error("coordinates must contain numbers");var t={type:"Point",coordinates:e};return We(t,n,r)}function er(e,n,r){r===void 0&&(r={});for(var t=0,o=e;t<o.length;t++){var a=o[t];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<a[a.length-1].length;i++)if(a[a.length-1][i]!==a[0][i])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return We(s,n,r)}function tr(e,n){n===void 0&&(n="kilometers");var r=Qn[n];if(!r)throw new Error(n+" units is invalid");return e/r}function pe(e){var n=e%(2*Math.PI);return n*180/Math.PI}function X(e){var n=e%360;return n*Math.PI/180}function we(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ge(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function nr(e){return e.type==="Feature"?e.geometry:e}function rr(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var t=Ge(e),o=nr(n),a=o.type,i=n.bbox,s=o.coordinates;if(i&&or(t,i)===!1)return!1;a==="Polygon"&&(s=[s]);for(var u=!1,l=0;l<s.length&&!u;l++)if(Oe(t,s[l][0],r.ignoreBoundary)){for(var c=!1,d=1;d<s[l].length&&!c;)Oe(t,s[l][d],!r.ignoreBoundary)&&(c=!0),d++;c||(u=!0)}return u}function Oe(e,n,r){var t=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var o=0,a=n.length-1;o<n.length;a=o++){var i=n[o][0],s=n[o][1],u=n[a][0],l=n[a][1],c=e[1]*(i-u)+s*(u-e[0])+l*(e[0]-i)===0&&(i-e[0])*(u-e[0])<=0&&(s-e[1])*(l-e[1])<=0;if(c)return!r;var d=s>e[1]!=l>e[1]&&e[0]<(u-i)*(e[1]-s)/(l-s)+i;d&&(t=!t)}return t}function or(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function ar(e,n,r,t){t===void 0&&(t={});var o=Ge(e),a=X(o[0]),i=X(o[1]),s=X(r),u=tr(n,t.units),l=Math.asin(Math.sin(i)*Math.cos(u)+Math.cos(i)*Math.sin(u)*Math.cos(s)),c=a+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(i),Math.cos(u)-Math.sin(i)*Math.sin(l)),d=pe(c),m=pe(l);return Ue([d,m],t.properties)}function ir(e,n,r){r===void 0&&(r={});for(var t=r.steps||64,o=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},a=[],i=0;i<t;i++)a.push(ar(e,n,i*-360/t,r).geometry.coordinates);return a.push(a[0]),er([a],o)}const Or=Qe(({event:e,clientsPlots:n})=>{const r=e.layer,t=r._leaflet_id,o=r.getLatLng(),a=Math.floor(r.getRadius()),i=ir([o.lng,o.lat],a,{units:"meters"}),s=n.filter(u=>{const l=[];for(const c of u.geometryRings[0]){const d=Ue([c[1],c[0]]),m=rr(d,i);l.push(m)}return l.includes(!0)});return{circleId:t,clientsPlots:s}});function Er(){const e=B([]),n=e.map(o=>o.length!==0?{guid:o[0].guid,clientId:o[0].clientId,clientName:o[0].clientName,clientBin:o[0].clientBin,clientAddress:o[0].clientAddress,clientActivity:o[0].clientActivity,regionId:o[0].regionId,districtId:o[0].districtId}:null),r=B(!1),t=Y({effect:et});return r.on(t.pending,(o,a)=>a),e.on(t.doneData,(o,a)=>a),{getClientPlotsFx:t,$clientPlotsPending:r,$clientPlots:e,$client:n}}export{Ot as A,Et as B,Se as L,wr as M,gr as P,_e as a,ne as b,Mt as c,G as d,Ie as e,W as f,hr as g,yt as h,ct as i,wt as j,br as k,pr as l,yr as m,Or as n,vr as o,mr as p,Er as q,lt as r,xe as u};
//# sourceMappingURL=client-plots-a373be4b.js.map
