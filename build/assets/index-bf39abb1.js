import{f as I,A as R,a as e,d as D,D as m,O as w,aD as A,aE as G,$ as N,C as S,H as _,w as h,aF as y,R as j,j as s,F as l,T as o,E as H,S as b}from"./index-5e5270d2.js";import{B as p,H as k,C as B,A as T,F as Q,G as O}from"./ui-beea26bf.js";import{C as P,a as $,D as d}from"./ui-5f8dfeb8.js";import{m as X,S as g}from"./chunk-O5CRURSQ-17ac6dbe.js";function x(i){return X(i,n=>n==="auto"?"auto":`span ${n}/span ${n}`)}var c=I(function(n,r){const{area:t,colSpan:a,colStart:C,colEnd:W,rowEnd:z,rowSpan:M,rowStart:U,...F}=n,E=R({gridArea:t,gridColumn:x(a),gridRow:x(M),gridColumnStart:C,gridColumnEnd:W,gridRowStart:U,gridRowEnd:z});return e(D.div,{ref:r,__css:E,...F})});c.displayName="GridItem";function Y(){const i=m(null),n=m(!1),r=w({effect:A});return n.on(r.pending,(t,a)=>a),i.on(r.doneData,(t,a)=>a),{$user:i,$userPending:n,getUserFx:r}}function q(){const i=m([]),n=m(!1),r=w({effect:G,source:N,mapParams:(t,a)=>{if(!a)throw new Error("Session is not defined");return{userId:a.id}}});return n.on(r.pending,(t,a)=>a),i.on(r.doneData,(t,a)=>a),{getUserMapHistoriesFx:r,$userMapHistories:i,$userMapHistoriesPending:n}}const v=S(),J=S(),f=Y(),u=q();_({clock:v,target:[f.getUserFx,u.getUserMapHistoriesFx]});function ne(){const[i,n]=h([v,J]),r=y();return j.useEffect(()=>{const t=Number(r.userId);return i({userId:t}),()=>n()},[]),s(p,{children:[e(k,{}),e(B,{maxW:"container.xl",minH:"calc(100vh - 4rem)",py:"15",children:s(l,{direction:{base:"column-reverse",md:"row"},minH:"inherit",gap:"5",children:[e(p,{w:{base:"full",md:"70%"},minH:"inherit",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(L,{})}),e(p,{maxH:"lg",w:{base:"full",md:"30%"},children:e(K,{orientation:"vertical",minH:"lg"})})]})})]})}function K(i){const{orientation:n="vertical"}=i,[r,t]=h([f.$user,f.$userPending]);return e(P,{minH:"sm",...i,children:s($,{minH:"inherit",position:"relative",children:[r&&s(l,{direction:n==="vertical"?"column":"row",gap:"10",align:"center",children:[e(T,{as:Q,w:"full",h:"full",maxW:"3xs",maxH:"3xs"}),s(l,{direction:"column",gap:"1",children:[e(o,{fontSize:"3xl",fontWeight:"bold",textAlign:n==="vertical"?"center":"start",children:r.fullName??"Нету"}),s(O,{templateRows:n==="vertical"?"repeat(1fr, 5)":"repeat(1fr, 2)",templateColumns:n==="vertical"?"1fr":"repeat(1fr, 3)",children:[e(c,{children:s(l,{flexWrap:"wrap",align:"center",gap:"1",children:[e(o,{fontSize:"md",fontWeight:"bold",children:"Почта:"}),e(o,{fontSize:"sm",children:r.email??"Нету"})]})}),e(c,{children:s(l,{flexWrap:"wrap",align:"center",gap:"1",children:[e(o,{fontSize:"md",fontWeight:"bold",children:"Отдел:"}),e(o,{fontSize:"sm",children:r.direction??"Нету"})]})}),e(c,{children:s(l,{flexWrap:"wrap",align:"center",gap:"1",children:[e(o,{fontSize:"md",fontWeight:"bold",children:"Като:"}),e(o,{fontSize:"sm",children:r.crmCato??"Нету"})]})}),e(c,{children:s(l,{flexWrap:"wrap",align:"center",gap:"1",children:[e(o,{fontSize:"md",fontWeight:"bold",children:"Позиция:"}),e(o,{fontSize:"sm",children:r.position??"Нету"})]})}),e(c,{children:s(l,{flexWrap:"wrap",align:"center",gap:"1",children:[e(o,{fontSize:"md",fontWeight:"bold",children:"Подразделение:"}),e(o,{fontSize:"sm",children:r.subDivision??"Нету"})]})})]})]})]}),t&&e(H,{position:"absolute",top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%)",children:e(b,{})})]})})}function L(){const[i,n]=h([u.$userMapHistories,u.$userMapHistoriesPending]);return n?e(H,{flexGrow:"1",children:e(b,{colorScheme:"blue"})}):e(g,{children:i.map((r,t)=>e(P,{variant:"elevated",children:e($,{minH:"inherit",position:"relative",children:s(g,{direction:"row",flexWrap:"wrap",children:[e(d,{title:"Номер:",children:t}),e(d,{title:"Область:",children:r.regionName}),e(d,{title:"Клиент:",children:r.clientName}),e(d,{title:"Участок:",children:r.plotName})]})})},t))})}export{ne as UserProfilePage};
//# sourceMappingURL=index-bf39abb1.js.map
