import{c as oe,f as B,a as d,d as F,h as $,n as K,b as h,k as X,ad as H,ae as cn,t as sn,g as ln,o as Ne,l as un,R as j,W as ke,Y as V,C as $e,D as k,a9 as dn,w as W,m as Y,N as ae,Z as fn,af as U,j as R,O as ze,ag as hn,ah as mn,E as G,S as De,T as ce}from"./index-5e5270d2.js";import{c as vn,m as gn,B as ee}from"./ui-beea26bf.js";import{C as se,a as le,D as S}from"./ui-5f8dfeb8.js";import{S as D}from"./chunk-O5CRURSQ-17ac6dbe.js";var[yn,ue]=oe({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[bn,je]=oe({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[pn,Rr,wn,On]=vn(),de=B(function(n,r){const{getButtonProps:t}=je(),i=t(n,r),a={display:"flex",alignItems:"center",width:"100%",outline:0,...ue().button};return d(F.button,{...i,className:$("chakra-accordion__button",n.className),__css:a})});de.displayName="AccordionButton";function Cn(e){const{value:n,defaultValue:r,onChange:t,shouldUpdate:i=(v,m)=>v!==m}=e,o=K(t),a=K(i),[c,u]=h.useState(r),l=n!==void 0,s=l?n:c,f=K(v=>{const g=typeof v=="function"?v(s):v;a(s,g)&&(l||u(g),o(g))},[l,o,s,a]);return[s,f]}function An(e){const{onChange:n,defaultIndex:r,index:t,allowMultiple:i,allowToggle:o,...a}=e;Pn(e),Sn(e);const c=wn(),[u,l]=h.useState(-1);h.useEffect(()=>()=>{l(-1)},[]);const[s,f]=Cn({value:t,defaultValue(){return i?r??[]:r??-1},onChange:n});return{index:s,setIndex:f,htmlProps:a,getAccordionItemProps:m=>{let g=!1;return m!==null&&(g=Array.isArray(s)?s.includes(m):s===m),{isOpen:g,onChange:y=>{if(m!==null)if(i&&Array.isArray(s)){const w=y?s.concat(m):s.filter(O=>O!==m);f(w)}else y?f(m):o&&f(-1)}}},focusedIndex:u,setFocusedIndex:l,descendants:c}}var[En,Be]=oe({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function xn(e){const{isDisabled:n,isFocusable:r,id:t,...i}=e,{getAccordionItemProps:o,setFocusedIndex:a}=Be(),c=h.useRef(null),u=h.useId(),l=t??u,s=`accordion-button-${l}`,f=`accordion-panel-${l}`;Rn(e);const{register:v,index:m,descendants:g}=On({disabled:n&&!r}),{isOpen:p,onChange:y}=o(m===-1?null:m);_n({isOpen:p,isDisabled:n});const w=()=>{y==null||y(!0)},O=()=>{y==null||y(!1)},T=h.useCallback(()=>{y==null||y(!p),a(m)},[m,a,p,y]),M=h.useCallback(A=>{const I={ArrowDown:()=>{const P=g.nextEnabled(m);P==null||P.node.focus()},ArrowUp:()=>{const P=g.prevEnabled(m);P==null||P.node.focus()},Home:()=>{const P=g.firstEnabled();P==null||P.node.focus()},End:()=>{const P=g.lastEnabled();P==null||P.node.focus()}}[A.key];I&&(A.preventDefault(),I(A))},[g,m]),_=h.useCallback(()=>{a(m)},[a,m]),b=h.useCallback(function(C={},I=null){return{...C,type:"button",ref:gn(v,c,I),id:s,disabled:!!n,"aria-expanded":!!p,"aria-controls":f,onClick:X(C.onClick,T),onFocus:X(C.onFocus,_),onKeyDown:X(C.onKeyDown,M)}},[s,n,p,T,_,M,f,v]),x=h.useCallback(function(C={},I=null){return{...C,ref:I,role:"region",id:f,"aria-labelledby":s,hidden:!p}},[s,p,f]);return{isOpen:p,isDisabled:n,isFocusable:r,onOpen:w,onClose:O,getButtonProps:b,getPanelProps:x,htmlProps:i}}function Pn(e){const n=e.index||e.defaultIndex,r=n!=null&&!Array.isArray(n)&&e.allowMultiple;H({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function Sn(e){H({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function Rn(e){H({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function _n(e){H({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}var fe=B(function(n,r){const{children:t,className:i}=n,{htmlProps:o,...a}=xn(n),u={...ue().container,overflowAnchor:"none"},l=h.useMemo(()=>a,[a]);return d(bn,{value:l,children:d(F.div,{ref:r,...o,className:$("chakra-accordion__item",i),__css:u,children:typeof t=="function"?t({isExpanded:!!a.isOpen,isDisabled:!!a.isDisabled}):t})})});fe.displayName="AccordionItem";var N={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},_r={enter:{duration:.2,ease:N.easeOut},exit:{duration:.1,ease:N.easeIn}},pe={enter:(e,n)=>({...e,delay:typeof n=="number"?n:n==null?void 0:n.enter}),exit:(e,n)=>({...e,delay:typeof n=="number"?n:n==null?void 0:n.exit})},In=e=>e!=null&&parseInt(e.toString(),10)>0,we={exit:{height:{duration:.2,ease:N.ease},opacity:{duration:.3,ease:N.ease}},enter:{height:{duration:.3,ease:N.ease},opacity:{duration:.4,ease:N.ease}}},Tn={exit:({animateOpacity:e,startingHeight:n,transition:r,transitionEnd:t,delay:i})=>{var o;return{...e&&{opacity:In(n)?1:0},height:n,transitionEnd:t==null?void 0:t.exit,transition:(o=r==null?void 0:r.exit)!=null?o:pe.exit(we.exit,i)}},enter:({animateOpacity:e,endingHeight:n,transition:r,transitionEnd:t,delay:i})=>{var o;return{...e&&{opacity:1},height:n,transitionEnd:t==null?void 0:t.enter,transition:(o=r==null?void 0:r.enter)!=null?o:pe.enter(we.enter,i)}}},Fe=h.forwardRef((e,n)=>{const{in:r,unmountOnExit:t,animateOpacity:i=!0,startingHeight:o=0,endingHeight:a="auto",style:c,className:u,transition:l,transitionEnd:s,...f}=e,[v,m]=h.useState(!1);h.useEffect(()=>{const O=setTimeout(()=>{m(!0)});return()=>clearTimeout(O)},[]),H({condition:Boolean(o>0&&t),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(o.toString())>0,p={startingHeight:o,endingHeight:a,animateOpacity:i,transition:v?l:{enter:{duration:0}},transitionEnd:{enter:s==null?void 0:s.enter,exit:t?s==null?void 0:s.exit:{...s==null?void 0:s.exit,display:g?"block":"none"}}},y=t?r:!0,w=r||t?"enter":"exit";return d(cn,{initial:!1,custom:p,children:y&&d(sn.div,{ref:n,...f,className:$("chakra-collapse",u),style:{overflow:"hidden",display:"block",...c},custom:p,variants:Tn,initial:t?"exit":!1,animate:w,exit:"exit"})})});Fe.displayName="Collapse";var he=B(function(n,r){const{className:t,motionProps:i,...o}=n,{reduceMotion:a}=Be(),{getPanelProps:c,isOpen:u}=je(),l=c(o,r),s=$("chakra-accordion__panel",t),f=ue();a||delete l.hidden;const v=d(F.div,{...l,__css:f.panel,className:s});return a?v:d(Fe,{in:u,...i,children:v})});he.displayName="AccordionPanel";var me=B(function({children:n,reduceMotion:r,...t},i){const o=ln("Accordion",t),a=Ne(t),{htmlProps:c,descendants:u,...l}=An(a),s=h.useMemo(()=>({...l,reduceMotion:!!r}),[l,r]);return d(pn,{value:u,children:d(En,{value:s,children:d(yn,{value:o,children:d(F.div,{ref:i,...c,className:$("chakra-accordion",t.className),__css:o.root,children:n})})})})});me.displayName="Accordion";var ne=B(function(n,r){const t=un("Badge",n),{className:i,...o}=Ne(n);return d(F.span,{ref:r,className:$("chakra-badge",n.className),...o,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...t}})});ne.displayName="Badge";function He(e,n){const r=h.useRef(n);h.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const Mn=1;function Ln(e){return Object.freeze({__version:Mn,map:e})}function We(e,n){return Object.freeze({...e,...n})}const Ue=h.createContext(null),Ge=Ue.Provider;function ve(){const e=h.useContext(Ue);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Ve(e){function n(r,t){const{instance:i,context:o}=e(r).current;return h.useImperativeHandle(t,()=>i),r.children==null?null:j.createElement(Ge,{value:o},r.children)}return h.forwardRef(n)}function Nn(e){function n(r,t){const[i,o]=h.useState(!1),{instance:a}=e(r,o).current;h.useImperativeHandle(t,()=>a),h.useEffect(function(){i&&a.update()},[a,i,r.children]);const c=a._contentNode;return c?ke.createPortal(r.children,c):null}return h.forwardRef(n)}function kn(e){function n(r,t){const{instance:i}=e(r).current;return h.useImperativeHandle(t,()=>i),null}return h.forwardRef(n)}function ge(e,n){const r=h.useRef();h.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function q(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function $n(e,n){return function(t,i){const o=ve(),a=e(q(t,o),o);return He(o.map,t.attribution),ge(a.current,t.eventHandlers),n(a.current,o,t,i),a}}function ye(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function Z(e,n){return n==null?function(t,i){const o=h.useRef();return o.current||(o.current=e(t,i)),o}:function(t,i){const o=h.useRef();o.current||(o.current=e(t,i));const a=h.useRef(t),{instance:c}=o.current;return h.useEffect(function(){a.current!==t&&(n(c,t,a.current),a.current=t)},[c,t,i]),o}}function Ye(e,n){h.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var o;(o=n.layerContainer)==null||o.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function qe(e){return function(r){const t=ve(),i=e(q(r,t),t);return He(t.map,r.attribution),ge(i.current,r.eventHandlers),Ye(i.current,t),i}}function zn(e,n){const r=h.useRef();h.useEffect(function(){if(n.pathOptions!==r.current){const i=n.pathOptions??{};e.instance.setStyle(i),r.current=i}},[e,n])}function Dn(e){return function(r){const t=ve(),i=e(q(r,t),t);return ge(i.current,r.eventHandlers),Ye(i.current,t),zn(i.current,r),i}}function jn(e,n){const r=Z(e,n),t=qe(r);return Ve(t)}function Ir(e,n){const r=Z(e),t=$n(r,n);return Nn(t)}function Bn(e,n){const r=Z(e,n),t=Dn(r);return Ve(t)}function Fn(e,n){const r=Z(e,n),t=qe(r);return kn(t)}function Hn(e,n,r){const{opacity:t,zIndex:i}=n;t!=null&&t!==r.opacity&&e.setOpacity(t),i!=null&&i!==r.zIndex&&e.setZIndex(i)}function te(){return te=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},te.apply(this,arguments)}function Wn({bounds:e,boundsOptions:n,center:r,children:t,className:i,id:o,placeholder:a,style:c,whenReady:u,zoom:l,...s},f){const[v]=h.useState({className:i,id:o,style:c}),[m,g]=h.useState(null);h.useImperativeHandle(f,()=>(m==null?void 0:m.map)??null,[m]);const p=h.useCallback(w=>{if(w!==null&&m===null){const O=new V.Map(w,s);r!=null&&l!=null?O.setView(r,l):e!=null&&O.fitBounds(e,n),u!=null&&O.whenReady(u),g(Ln(O))}},[]);h.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const y=m?j.createElement(Ge,{value:m},t):a??null;return j.createElement("div",te({},v,{ref:p}),y)}const Oe=h.forwardRef(Wn),Tr=jn(function({position:n,...r},t){const i=new V.Marker(n,r);return ye(i,We(t,{overlayContainer:i}))},function(n,r,t){r.position!==t.position&&n.setLatLng(r.position),r.icon!=null&&r.icon!==t.icon&&n.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==t.opacity&&n.setOpacity(r.opacity),n.dragging!=null&&r.draggable!==t.draggable&&(r.draggable===!0?n.dragging.enable():n.dragging.disable())}),Mr=Bn(function({positions:n,...r},t){const i=new V.Polygon(n,r);return ye(i,We(t,{overlayContainer:i}))},function(n,r,t){r.positions!==t.positions&&n.setLatLngs(r.positions)}),Ce=Fn(function({url:n,...r},t){const i=new V.TileLayer(n,q(r,t));return ye(i,t)},function(n,r,t){Hn(n,r,t);const{url:i}=r;i!=null&&i!==t.url&&n.setUrl(i)});function Un(e){const{lands:n,landCb:r}=e,t=$e(),i=k(null),o=dn(n,i,(a,c)=>r?r({lands:a,landId:c}):Gn({lands:a,landId:c}));return i.on(t,(a,c)=>c),{_$lands:n,$landId:i,$land:o,landClicked:t}}function Gn({lands:e,landId:n}){return e.find(r=>r.id===n)??null}function Vn(e){const{model:n,children:r}=e,[t,i]=W([n._$lands,n.landClicked]);return d(Y,{children:t.map((o,a)=>d(j.Fragment,{children:r({land:o,index:a,onClick:i})},a))})}function Yn(e){const{model:n,children:r}=e,[t]=W([n.$land]);return t?d(Y,{children:r({land:t})}):null}function Lr(e){const n=[];return e.forEach(r=>{n.push(r.geometryRings[0])}),n}const Nr={Lands:Vn,Land:Yn,createLandsToLand:Un},qn=ae(({map:e,positions:n})=>{if(!e)throw new Error("Map is not defined");if(n.length===0)throw new Error("Positions is empty");e.fitBounds(n)}),Zn=ae(({map:e})=>{if(!e)throw new Error("Map is not defined");e.eachLayer(n=>{n instanceof fn.Circle&&e.removeLayer(n)})});function Kn(){const e=$e(),n=k(null);return n.on(e,(r,t)=>t),{mapMounted:e,$map:n}}function Xn(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var be=Xn,Qn=typeof U=="object"&&U&&U.Object===Object&&U,Jn=Qn,et=Jn,nt=typeof self=="object"&&self&&self.Object===Object&&self,tt=et||nt||Function("return this")(),Ze=tt,rt=Ze,it=function(){return rt.Date.now()},ot=it,at=/\s/;function ct(e){for(var n=e.length;n--&&at.test(e.charAt(n)););return n}var st=ct,lt=st,ut=/^\s+/;function dt(e){return e&&e.slice(0,lt(e)+1).replace(ut,"")}var ft=dt,ht=Ze,mt=ht.Symbol,Ke=mt,Ae=Ke,Xe=Object.prototype,vt=Xe.hasOwnProperty,gt=Xe.toString,z=Ae?Ae.toStringTag:void 0;function yt(e){var n=vt.call(e,z),r=e[z];try{e[z]=void 0;var t=!0}catch{}var i=gt.call(e);return t&&(n?e[z]=r:delete e[z]),i}var bt=yt,pt=Object.prototype,wt=pt.toString;function Ot(e){return wt.call(e)}var Ct=Ot,Ee=Ke,At=bt,Et=Ct,xt="[object Null]",Pt="[object Undefined]",xe=Ee?Ee.toStringTag:void 0;function St(e){return e==null?e===void 0?Pt:xt:xe&&xe in Object(e)?At(e):Et(e)}var Rt=St;function _t(e){return e!=null&&typeof e=="object"}var It=_t,Tt=Rt,Mt=It,Lt="[object Symbol]";function Nt(e){return typeof e=="symbol"||Mt(e)&&Tt(e)==Lt}var kt=Nt,$t=ft,Pe=be,zt=kt,Se=0/0,Dt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,Bt=/^0o[0-7]+$/i,Ft=parseInt;function Ht(e){if(typeof e=="number")return e;if(zt(e))return Se;if(Pe(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Pe(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=$t(e);var r=jt.test(e);return r||Bt.test(e)?Ft(e.slice(2),r?2:8):Dt.test(e)?Se:+e}var Wt=Ht,Ut=be,Q=ot,Re=Wt,Gt="Expected a function",Vt=Math.max,Yt=Math.min;function qt(e,n,r){var t,i,o,a,c,u,l=0,s=!1,f=!1,v=!0;if(typeof e!="function")throw new TypeError(Gt);n=Re(n)||0,Ut(r)&&(s=!!r.leading,f="maxWait"in r,o=f?Vt(Re(r.maxWait)||0,n):o,v="trailing"in r?!!r.trailing:v);function m(b){var x=t,A=i;return t=i=void 0,l=b,a=e.apply(A,x),a}function g(b){return l=b,c=setTimeout(w,n),s?m(b):a}function p(b){var x=b-u,A=b-l,C=n-x;return f?Yt(C,o-A):C}function y(b){var x=b-u,A=b-l;return u===void 0||x>=n||x<0||f&&A>=o}function w(){var b=Q();if(y(b))return O(b);c=setTimeout(w,p(b))}function O(b){return c=void 0,v&&t?m(b):(t=i=void 0,a)}function T(){c!==void 0&&clearTimeout(c),l=0,t=u=i=c=void 0}function M(){return c===void 0?a:O(Q())}function _(){var b=Q(),x=y(b);if(t=arguments,i=this,u=b,x){if(c===void 0)return g(u);if(f)return clearTimeout(c),c=setTimeout(w,n),m(u)}return c===void 0&&(c=setTimeout(w,n)),a}return _.cancel=T,_.flush=M,_}var Qe=qt,Zt=Qe,Kt=be,Xt="Expected a function";function Qt(e,n,r){var t=!0,i=!0;if(typeof e!="function")throw new TypeError(Xt);return Kt(r)&&(t="leading"in r?!!r.leading:t,i="trailing"in r?!!r.trailing:i),Zt(e,n,{leading:t,maxWait:n,trailing:i})}var Jt=Qt,re=function(e,n){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i])},re(e,n)};function er(e,n){re(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var ie=function(){return ie=Object.assign||function(n){for(var r,t=1,i=arguments.length;t<i;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},ie.apply(this,arguments)};function nr(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)n.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(r[t[i]]=e[t[i]]);return r}var Je=function(e,n,r,t){switch(n){case"debounce":return Qe(e,r,t);case"throttle":return Jt(e,r,t);default:return e}},_e=function(e){return typeof e=="function"},L=function(){return typeof window>"u"},Ie=function(e){return e instanceof Element||e instanceof HTMLDocument},en=function(e,n,r,t){return function(i){var o=i.width,a=i.height;n(function(c){return c.width===o&&c.height===a||c.width===o&&!t||c.height===a&&!r?c:(e==null||e(o,a),{width:o,height:a})})}};(function(e){er(n,e);function n(r){var t=e.call(this,r)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var l=t.props,s=l.targetRef,f=l.observerOptions;if(!L()){s&&s.current&&(t.targetRef.current=s.current);var v=t.getElement();v&&(t.observableElement&&t.observableElement===v||(t.observableElement=v,t.resizeObserver.observe(v,f)))}},t.getElement=function(){var l=t.props,s=l.querySelector,f=l.targetDomEl;if(L())return null;if(s)return document.querySelector(s);if(f&&Ie(f))return f;if(t.targetRef&&Ie(t.targetRef.current))return t.targetRef.current;var v=ke.findDOMNode(t);if(!v)return null;var m=t.getRenderType();switch(m){case"renderProp":return v;case"childFunction":return v;case"child":return v;case"childArray":return v;default:return v.parentElement}},t.createResizeHandler=function(l){var s=t.props,f=s.handleWidth,v=f===void 0?!0:f,m=s.handleHeight,g=m===void 0?!0:m,p=s.onResize;if(!(!v&&!g)){var y=en(p,t.setState.bind(t),v,g);l.forEach(function(w){var O=w&&w.contentRect||{},T=O.width,M=O.height,_=!t.skipOnMount&&!L();_&&y({width:T,height:M}),t.skipOnMount=!1})}},t.getRenderType=function(){var l=t.props,s=l.render,f=l.children;return _e(s)?"renderProp":_e(f)?"childFunction":h.isValidElement(f)?"child":Array.isArray(f)?"childArray":"parent"};var i=r.skipOnMount,o=r.refreshMode,a=r.refreshRate,c=a===void 0?1e3:a,u=r.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=i,t.targetRef=h.createRef(),t.observableElement=null,L()||(t.resizeHandler=Je(t.createResizeHandler,o,c,u),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){L()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var r=this.props,t=r.render,i=r.children,o=r.nodeType,a=o===void 0?"div":o,c=this.state,u=c.width,l=c.height,s={width:u,height:l,targetRef:this.targetRef},f=this.getRenderType();switch(f){case"renderProp":return t==null?void 0:t(s);case"childFunction":{var v=i;return v==null?void 0:v(s)}case"child":{var m=i;if(m.type&&typeof m.type=="string"){s.targetRef;var g=nr(s,["targetRef"]);return h.cloneElement(m,g)}return h.cloneElement(m,s)}case"childArray":{var p=i;return p.map(function(y){return!!y&&h.cloneElement(y,s)})}default:return h.createElement(a,null)}},n})(h.PureComponent);var tr=L()?h.useEffect:h.useLayoutEffect;function rr(e){e===void 0&&(e={});var n=e.skipOnMount,r=n===void 0?!1:n,t=e.refreshMode,i=e.refreshRate,o=i===void 0?1e3:i,a=e.refreshOptions,c=e.handleWidth,u=c===void 0?!0:c,l=e.handleHeight,s=l===void 0?!0:l,f=e.targetRef,v=e.observerOptions,m=e.onResize,g=h.useRef(r),p=h.useRef(null),y=h.useRef(),w=f??p,O=h.useState({width:void 0,height:void 0}),T=O[0],M=O[1];return tr(function(){if(!(!u&&!s)){var _=en(m,M,u,s),b=function(A){!u&&!s||A.forEach(function(C){var I=C&&C.contentRect||{},P=I.width,on=I.height,an=!g.current;an&&_({width:P,height:on}),g.current=!1})};y.current=Je(b,t,o,a);var x=new window.ResizeObserver(y.current);return w.current&&x.observe(w.current,v),function(){var A,C;x.disconnect(),(C=(A=y.current).cancel)===null||C===void 0||C.call(A)}}},[t,o,a,u,s,m,v,w.current]),ie({ref:w},T)}const ir=[48.356,66.687],or=5,ar='&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',cr="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";function sr(e){const{model:n,isResize:r=!1,center:t=ir,zoom:i=or,attribution:o=ar,url:a=cr,containerProps:c,children:u}=e,[l,s]=W([n.$map,n.mapMounted]);if(r){const{width:f,height:v,ref:m}=rr();return j.useEffect(()=>{l&&l.invalidateSize()},[f,v]),d(ee,{ref:m,...c,children:R(Oe,{ref:s,center:t,zoom:i,style:{width:f,height:v,...e.style},...e,children:[d(Ce,{attribution:o,url:a}),u]})})}else return d(ee,{...c,children:R(Oe,{ref:s,center:t,zoom:i,...e,children:[d(Ce,{attribution:o,url:a}),u]})})}const kr={Map:sr,createMap:Kn,fitBoundsFx:qn,clearAllCirclesFx:Zn};var E=63710088e-1,lr={centimeters:E*100,centimetres:E*100,degrees:E/111325,feet:E*3.28084,inches:E*39.37,kilometers:E/1e3,kilometres:E/1e3,meters:E,metres:E,miles:E/1609.344,millimeters:E*1e3,millimetres:E*1e3,nauticalmiles:E/1852,radians:1,yards:E*1.0936};function nn(e,n,r){r===void 0&&(r={});var t={type:"Feature"};return(r.id===0||r.id)&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.properties=n||{},t.geometry=e,t}function tn(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Me(e[0])||!Me(e[1]))throw new Error("coordinates must contain numbers");var t={type:"Point",coordinates:e};return nn(t,n,r)}function ur(e,n,r){r===void 0&&(r={});for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}var c={type:"Polygon",coordinates:e};return nn(c,n,r)}function dr(e,n){n===void 0&&(n="kilometers");var r=lr[n];if(!r)throw new Error(n+" units is invalid");return e/r}function Te(e){var n=e%(2*Math.PI);return n*180/Math.PI}function J(e){var n=e%360;return n*Math.PI/180}function Me(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function rn(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function fr(e){return e.type==="Feature"?e.geometry:e}function hr(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var t=rn(e),i=fr(n),o=i.type,a=n.bbox,c=i.coordinates;if(a&&mr(t,a)===!1)return!1;o==="Polygon"&&(c=[c]);for(var u=!1,l=0;l<c.length&&!u;l++)if(Le(t,c[l][0],r.ignoreBoundary)){for(var s=!1,f=1;f<c[l].length&&!s;)Le(t,c[l][f],!r.ignoreBoundary)&&(s=!0),f++;s||(u=!0)}return u}function Le(e,n,r){var t=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var i=0,o=n.length-1;i<n.length;o=i++){var a=n[i][0],c=n[i][1],u=n[o][0],l=n[o][1],s=e[1]*(a-u)+c*(u-e[0])+l*(e[0]-a)===0&&(a-e[0])*(u-e[0])<=0&&(c-e[1])*(l-e[1])<=0;if(s)return!r;var f=c>e[1]!=l>e[1]&&e[0]<(u-a)*(e[1]-c)/(l-c)+a;f&&(t=!t)}return t}function mr(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function vr(e,n,r,t){t===void 0&&(t={});var i=rn(e),o=J(i[0]),a=J(i[1]),c=J(r),u=dr(n,t.units),l=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(c)),s=o+Math.atan2(Math.sin(c)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(l)),f=Te(s),v=Te(l);return tn([f,v],t.properties)}function gr(e,n,r){r===void 0&&(r={});for(var t=r.steps||64,i=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},o=[],a=0;a<t;a++)o.push(vr(e,n,a*-360/t,r).geometry.coordinates);return o.push(o[0]),ur([o],i)}const $r=ae(({event:e,clientsPlots:n})=>{const r=e.layer,t=r._leaflet_id,i=r.getLatLng(),o=Math.floor(r.getRadius()),a=gr([i.lng,i.lat],o,{units:"meters"}),c=n.filter(u=>{const l=[];for(const s of u.geometryRings[0]){const f=tn([s[1],s[0]]),v=hr(f,a);l.push(v)}return l.includes(!0)});return{circleId:t,clientsPlots:c}});function yr(){const e=k([]),n=e.map(i=>i.length!==0?{guid:i[0].guid,clientId:i[0].clientId,clientName:i[0].clientName,clientBin:i[0].clientBin,clientAddress:i[0].clientAddress,clientActivity:i[0].clientActivity,regionId:i[0].regionId,districtId:i[0].districtId}:null),r=k(!1),t=ze({effect:hn});return r.on(t.pending,(i,o)=>o),e.on(t.doneData,(i,o)=>o),{getClientPlotsFx:t,$clientPlotsPending:r,$clientPlots:e,$client:n}}function br(){const e=k([]),n=e.map(i=>i.reduce((o,a)=>{const{year:c}=a;return o[c]||(o[c]=[]),o[c].push(a),o},{})),r=k(!1),t=ze({effect:mn});return r.on(t.pending,(i,o)=>o),e.on(t.doneData,(i,o)=>o),{getClientAnalyticsFx:t,$clientAnalyticsPending:r,$clientAnalytics:e,$clientAnalyticsByYear:n}}function pr(e){const{model:n,...r}=e,[t,i]=W([n.$clientAnalyticsByYear,n.$clientAnalyticsPending]);return i?d(G,{children:d(De,{color:"blue.500"})}):d(Y,{children:Object.keys(t).length!==0?d(me,{...r,children:Object.keys(t).map((o,a)=>R(fe,{children:[d(de,{children:o}),d(he,{children:d(D,{children:t[o].map((c,u)=>d(wr,{analytic:c},u))})})]},a))}):d(G,{children:"Нету данных"})})}function wr(e){const{analytic:n}=e;return d(se,{bgColor:"blue.500",color:"white",children:R(le,{children:[d(ce,{fontWeight:"bold",fontSize:"2xl",color:"blue.100",children:n.productName}),d(S,{title:"Сумма субссидий клиента:",children:n.sumSubsClient.toLocaleString()}),d(S,{title:"Сумма субссидий региона:",children:n.foreignMarkSumSubcides.toLocaleString()}),R(S,{title:"Доля клиента от рынка:",children:[n.percentSubs.toLocaleString(),"%"]}),d(S,{title:"Объем закупа:",children:n.sumVolumeClient.toLocaleString()}),d(S,{title:"Объем закупа рынка:",children:n.foreignMarkSumVolume.toLocaleString()}),R(S,{title:"Доля клиента от рынка (в объеме):",children:[n.percentVolume.toLocaleString(),"%"]}),d(S,{title:"Культура:",children:n.culture})]})})}function Or(e){const{guid:n}=e;return n?d(ne,{colorScheme:"green",children:"Постоянный"}):d(ne,{colorScheme:"red",children:"Новый"})}function Cr(e){const{clientPlot:n,onClick:r}=e;return d(se,{onClick:()=>r({plotId:n.plotId}),children:R(le,{children:[d(ce,{fontSize:"xl",fontWeight:"bold",children:n.plotName}),d(S,{title:"Культура поля:",children:n.plotCultName}),R(S,{title:"Обьем поля:",children:[n.plotArea,".Га"]})]})})}function Ar(e){const{model:n,onPlotClick:r,...t}=e,[i,o,a]=W([n.$client,n.$clientPlots,n.$clientPlotsPending]);return a?d(G,{children:d(De,{})}):d(D,{...t,children:i&&o.length!==0?R(Y,{children:[d(me,{allowToggle:!0,bg:"white",pos:"sticky",top:"0",zIndex:"1",children:R(fe,{children:[d(de,{children:"Информация по клиенту"}),d(he,{children:d(se,{variant:"filled",children:d(le,{children:R(D,{children:[R(D,{direction:"row",children:[d(ce,{fontSize:"xl",fontWeight:"bold",children:i.clientName}),d(ee,{children:d(Or,{guid:i.guid})})]}),d(S,{title:"Иин/Бин:",children:i.clientBin}),d(S,{title:"Адрес:",children:i.clientAddress}),d(S,{title:"Деятельность:",children:i.clientActivity})]})})})})]})}),d(D,{children:o.map((c,u)=>d(Cr,{clientPlot:c,onClick:r},u))})]}):d(G,{children:"Нету данных"})})}const zr={ClientAnalyticsByYear:pr,createClientAnalyticsByYear:br},Dr={ClientPlots:Ar,createClientPlots:yr};export{me as A,ne as B,Dr as C,Ge as L,kr as M,Mr as P,_r as T,ye as a,fe as b,Bn as c,de as d,We as e,he as f,Nr as g,zr as h,Lr as i,$r as j,Tr as k,Ir as l,Cn as m,Or as n,ve as u,pe as w};
//# sourceMappingURL=index-a9355dc5.js.map
