import{at as v,aF as x,R as h,j as s,a as t,F as S,aG as w,x as c,T as f,u as y,w as C,I as m,r as a,aH as k}from"./index-30d26e58.js";import{c as I}from"./chunk-QODHG6BI-a9ac56a7.js";import{C as z}from"./chunk-RGZJAHFA-a2d8e445.js";import{A as H,h as j}from"./index.esm-7e580ed2.js";import{H as B}from"./ui-dbec4d5c.js";import{B as d,C as F}from"./chunk-SRMZVY4F-d66d975b.js";import{S as l}from"./chunk-O5CRURSQ-38cbc667.js";import{B as p}from"./chunk-NAA7TEES-8a7107e3.js";import"./index.esm-c8ec29ec.js";import"./index-b17ac102.js";import"./chunk-D5UZ3RNN-f7b5d83f.js";import"./chunk-PEYICJIL-4eb92d2e.js";import"./chunk-G72KV6MB-256ec515.js";var N=I({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"});function O(o){return o.filter(r=>r.protects?r.protects.map(n=>n()).every(n=>n===!0):!0)}function J(){const o=v(C),e=x().pathname.split("/").filter(i=>i!==""),n=h.useMemo(()=>O([{label:"Профиль",key:"profile",icon:t(m,{as:H,fontSize:"xl"}),route:a.settingsProfile},{label:"Контракты",key:"contracts",icon:t(m,{as:j,fontSize:"xl"}),route:a.settingsContracts},{label:"Подписки",key:"subscribes",icon:t(m,{as:k,fontSize:"xl"}),protects:[()=>o.includes(1)],children:[{label:"Регионы",key:"regions",route:a.settingsSubscribesRegions},{label:"Клиенты",key:"clients",route:a.settingsSubscribesClients}]}]),[o]);return console.log(n),s(d,{children:[t(B,{}),t(F,{maxW:"container.xl",py:"20",children:s(S,{direction:{base:"column-reverse",md:"row"},minH:"inherit",gap:"5",children:[t(d,{p:"2",maxH:"lg",w:{base:"full",md:"25%"},children:t(l,{children:t(P,{paths:e,navItems:n})})}),t(d,{w:{base:"full",md:"75%"},minH:"inherit",children:t(w,{})})]})})]})}function P(o){const{paths:r,navItems:e}=o;return t(c,{children:e.map((n,i)=>t(b,{paths:r,item:n},i))})}function b(o){const{paths:r,item:e}=o;if(e.children){const[n,i]=h.useState(!1);return h.useEffect(()=>(r.includes(e.key)&&i(!0),()=>i(!1)),[r]),s(c,{children:[t(p,{colorScheme:"blue",variant:"outline",onClick:()=>i(u=>!u),children:s(l,{w:"full",direction:"row",justify:"space-between",align:"center",children:[s(l,{direction:"row",align:"center",children:[e.icon,t(f,{fontSize:(e.icon,"md"),fontWeight:e.icon?"medium":"normal",children:e.label})]}),n?t(N,{}):t(z,{})]})}),n&&t(l,{children:(e==null?void 0:e.children)&&t(c,{children:e==null?void 0:e.children.map((u,g)=>t(b,{paths:r,item:u},g))})})]})}else{const n=y();return t(c,{children:t(p,{colorScheme:"blue",variant:"outline",_after:r[r.length-1]===e.key?{content:'""',position:"absolute",left:0,top:0,width:"1",height:"full",bgColor:"blue.500",rounded:"md"}:{},onClick:()=>e.route?n(e.route()):null,children:s(l,{w:"full",direction:"row",justify:"start",align:"center",children:[e.icon,t(f,{fontSize:(e.icon,"md"),fontWeight:e.icon?"medium":"normal",children:e.label})]})})})}}export{J as SettingsPage};
//# sourceMappingURL=index-58cd24a5.js.map
