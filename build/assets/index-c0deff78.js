import{at as v,aF as x,R as h,j as s,a as t,F as S,aG as w,x as c,T as f,u as y,w as C,I as d,r as a,aH as k}from"./index-01e3cde2.js";import{c as I}from"./chunk-QODHG6BI-77f41302.js";import{C as z}from"./chunk-RGZJAHFA-499a0690.js";import{B as m,C as H,A as j,h as B}from"./index.esm-6f403ff8.js";import{H as F}from"./ui-fa408ddb.js";import{S as l}from"./chunk-O5CRURSQ-427a7ad7.js";import{B as p}from"./chunk-NAA7TEES-a032545a.js";import"./index.esm-1434fe2b.js";import"./chunk-PEYICJIL-9b2ee317.js";import"./chunk-G72KV6MB-0b7bd11b.js";var N=I({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"});function O(o){return o.filter(r=>r.protects?r.protects.map(n=>n()).every(n=>n===!0):!0)}function _(){const o=v(C),e=x().pathname.split("/").filter(i=>i!==""),n=h.useMemo(()=>O([{label:"Профиль",key:"profile",icon:t(d,{as:j,fontSize:"xl"}),route:a.settingsProfile},{label:"Контракты",key:"contracts",icon:t(d,{as:B,fontSize:"xl"}),route:a.settingsContracts},{label:"Подписки",key:"subscribes",icon:t(d,{as:k,fontSize:"xl"}),protects:[()=>o.includes(1)],children:[{label:"Регионы",key:"regions",route:a.settingsSubscribesRegions},{label:"Клиенты",key:"clients",route:a.settingsSubscribesClients}]}]),[o]);return console.log(n),s(m,{children:[t(F,{}),t(H,{maxW:"container.xl",py:"20",children:s(S,{direction:{base:"column-reverse",md:"row"},minH:"inherit",gap:"5",children:[t(m,{p:"2",maxH:"lg",w:{base:"full",md:"25%"},children:t(l,{children:t(P,{paths:e,navItems:n})})}),t(m,{w:{base:"full",md:"75%"},minH:"inherit",children:t(w,{})})]})})]})}function P(o){const{paths:r,navItems:e}=o;return t(c,{children:e.map((n,i)=>t(b,{paths:r,item:n},i))})}function b(o){const{paths:r,item:e}=o;if(e.children){const[n,i]=h.useState(!1);return h.useEffect(()=>(r.includes(e.key)&&i(!0),()=>i(!1)),[r]),s(c,{children:[t(p,{colorScheme:"blue",variant:"outline",onClick:()=>i(u=>!u),children:s(l,{w:"full",direction:"row",justify:"space-between",align:"center",children:[s(l,{direction:"row",align:"center",children:[e.icon,t(f,{fontSize:(e.icon,"md"),fontWeight:e.icon?"medium":"normal",children:e.label})]}),n?t(N,{}):t(z,{})]})}),n&&t(l,{children:(e==null?void 0:e.children)&&t(c,{children:e==null?void 0:e.children.map((u,g)=>t(b,{paths:r,item:u},g))})})]})}else{const n=y();return t(c,{children:t(p,{colorScheme:"blue",variant:"outline",_after:r[r.length-1]===e.key?{content:'""',position:"absolute",left:0,top:0,width:"1",height:"full",bgColor:"blue.500",rounded:"md"}:{},onClick:()=>e.route?n(e.route()):null,children:s(l,{w:"full",direction:"row",justify:"start",align:"center",children:[e.icon,t(f,{fontSize:(e.icon,"md"),fontWeight:e.icon?"medium":"normal",children:e.label})]})})})}}export{_ as SettingsPage};
//# sourceMappingURL=index-c0deff78.js.map
