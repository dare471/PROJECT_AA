import{E as M,O as y,aI as F,j as p,a as e,T as h,x as $,D as U,J as C,$ as I,s as P,R as z}from"./index-18c8bd2a.js";import{U as D,a as T}from"./index-a274e734.js";import{D as u}from"./ui-e71e40b7.js";import{S as x}from"./ui-fe6c053e.js";import{C as w,a as j}from"./chunk-S432VF2S-ac154153.js";import{S as a}from"./chunk-O5CRURSQ-fd5fbe66.js";import{u as N,P as W}from"./use-pagination-80abf61b.js";import{c as A}from"./model-cea03ee5.js";import{c as E}from"./user-contracts-b36b77ee.js";import"./index.esm-16d287ff.js";import"./chunk-G72KV6MB-8d47f37f.js";import"./chunk-YTHZUBYP-f19a2915.js";import"./chunk-QODHG6BI-4b0ebca2.js";import"./chunk-QAHQKGYV-1cdaffaa.js";import"./chunk-KRS2VCGE-7121da6f.js";import"./chunk-PEYICJIL-0612eafd.js";import"./chunk-NAA7TEES-3d94f66b.js";function R(){const r=M([]),t=M(!1),i=y({effect:F});return t.on(i.pending,(c,s)=>s),r.on(i.doneData,(c,s)=>s),{getUserMapHistoriesFx:i,$userMapHistories:r,$userMapHistoriesPending:t}}function _(r){const{index:t,id:i,userId:c,clientId:s,clientName:d,regionId:m,regionName:n,plotId:f,plotName:H,load:o,onClick:L,...k}=r;return p(w,{...k,children:[e(j,{children:p(a,{children:[e(u,{title:"Номер:",children:t}),d&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Клиент:",children:d})}),n&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Область:",children:n})}),H&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Участок:",children:H})})]})}),o&&!o.loader?e(x,{}):e($,{children:o==null?void 0:o.loader})]})}const S=U(),b=U();A({defaultTab:"settings",tabs:["settings","contracts"]});const l=D.createUser(),g=R();E();C({clock:S,source:I,filter:r=>r!==null,fn:r=>({userId:r.id}),target:[l.getUserFx,g.getUserMapHistoriesFx]});C({clock:b,target:[l.$user.reinit,g.$userMapHistories.reinit]});function ae(){const[r,t]=P([S,b]);return z.useEffect(()=>(r(),()=>{t()}),[]),p(a,{children:[e(a,{minH:"2xs",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(J,{})}),e(a,{minH:"md",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(B,{})})]})}function B(){const[r,t]=P([g.$userMapHistories,g.$userMapHistoriesPending]),{maxPage:i,pages:c,currentData:s,currentPage:d,setCurrentPage:m}=N({data:r,perPage:5,maxPages:5});return t?e(x,{}):p(a,{children:[s.map((n,f)=>e(_,{index:f,...n},f)),e(W,{pages:c,currentPage:d,onFirstClick:()=>m(1),onLastClick:()=>m(i),onPageChange:n=>m(n)})]})}function J(){const[r,t]=P([l.$user,l.$userPending]);return t?e(x,{}):e($,{children:e(T,{orientation:"horizontal",...r})})}export{ae as SettingsProfilePage};
//# sourceMappingURL=index-b3e51848.js.map
