import{D as M,O as y,aI as F,j as p,a as e,T as h,x as $,C,H as U,$ as I,s as P,R as z}from"./index-01e3cde2.js";import{U as D,a as T}from"./index-b17f2f73.js";import{D as u}from"./ui-ff944912.js";import{S as H}from"./ui-9671fd61.js";import{C as w,a as j}from"./chunk-S432VF2S-c1136581.js";import{S as a}from"./chunk-O5CRURSQ-427a7ad7.js";import{u as N,P as W}from"./use-pagination-ac9e2603.js";import{c as A}from"./model-5251df83.js";import{c as R}from"./user-contracts-1139dcfd.js";import"./index.esm-1434fe2b.js";import"./chunk-G72KV6MB-0b7bd11b.js";import"./chunk-YTHZUBYP-50d4f12d.js";import"./chunk-QODHG6BI-77f41302.js";import"./chunk-QAHQKGYV-5076a56d.js";import"./chunk-KRS2VCGE-5eb41c7f.js";import"./chunk-PEYICJIL-9b2ee317.js";import"./chunk-NAA7TEES-a032545a.js";function _(){const r=M([]),t=M(!1),i=y({effect:F});return t.on(i.pending,(c,s)=>s),r.on(i.doneData,(c,s)=>s),{getUserMapHistoriesFx:i,$userMapHistories:r,$userMapHistoriesPending:t}}function B(r){const{index:t,id:i,userId:c,clientId:s,clientName:d,regionId:m,regionName:n,plotId:f,plotName:x,load:o,onClick:O,...k}=r;return p(w,{...k,children:[e(j,{children:p(a,{children:[e(u,{title:"Номер:",children:t}),d&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Клиент:",children:d})}),n&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Область:",children:n})}),x&&e(h,{fontSize:"md",fontWeight:"medium",children:e(u,{title:"Участок:",children:x})})]})}),o&&!o.loader?e(H,{}):e($,{children:o==null?void 0:o.loader})]})}const S=C(),b=C();A({defaultTab:"settings",tabs:["settings","contracts"]});const l=D.createUser(),g=_();R();U({clock:S,source:I,filter:r=>r!==null,fn:r=>({userId:r.id}),target:[l.getUserFx,g.getUserMapHistoriesFx]});U({clock:b,target:[l.$user.reinit,g.$userMapHistories.reinit]});function ae(){const[r,t]=P([S,b]);return z.useEffect(()=>(r(),()=>{t()}),[]),p(a,{children:[e(a,{minH:"2xs",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(L,{})}),e(a,{minH:"md",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(E,{})})]})}function E(){const[r,t]=P([g.$userMapHistories,g.$userMapHistoriesPending]),{maxPage:i,pages:c,currentData:s,currentPage:d,setCurrentPage:m}=N({data:r,perPage:5,maxPages:5});return t?e(H,{}):p(a,{children:[s.map((n,f)=>e(B,{index:f,...n},f)),e(W,{pages:c,currentPage:d,onFirstClick:()=>m(1),onLastClick:()=>m(i),onPageChange:n=>m(n)})]})}function L(){const[r,t]=P([l.$user,l.$userPending]);return t?e(H,{}):e($,{children:e(T,{orientation:"horizontal",...r})})}export{ae as SettingsProfilePage};
//# sourceMappingURL=index-5ef46d0e.js.map
