import{i as V,f as k,a as b,c as $,e as C,b as F,d as m,k as L,ai as j,aj as Ce,p as Ne,l as ke,o as me,y as $e,Y as je,D as ve,E as z,ac as De,s as K,x as ge,R as ye,ak as D,W as Be,j as J,O as U,N as ze,a0 as Fe}from"./index-3984b6ad.js";import{T as B,w as Q}from"./chunk-LB6CWFOC-afb3a818.js";import{c as Le}from"./chunk-D5UZ3RNN-15f388b3.js";import{m as He}from"./chunk-G72KV6MB-8fe2283c.js";import{c as We,a as Ue,e as Ge,M as Z,T as ee}from"./leaflet-75be3913.js";import{B as te}from"./chunk-SRMZVY4F-29920deb.js";var[qe,Y]=V({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[Ve,pe]=V({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[Ke,Un,Ye,Xe]=Le(),Je=k(function(n,r){const{getButtonProps:t}=pe(),o=t(n,r),i={display:"flex",alignItems:"center",width:"100%",outline:0,...Y().button};return b($.button,{...o,className:C("chakra-accordion__button",n.className),__css:i})});Je.displayName="AccordionButton";function Qe(e){const{value:n,defaultValue:r,onChange:t,shouldUpdate:o=(f,h)=>f!==h}=e,a=F(t),i=F(o),[s,d]=m.useState(r),l=n!==void 0,c=l?n:s,u=F(f=>{const v=typeof f=="function"?f(c):f;i(c,v)&&(l||d(v),a(v))},[l,a,c,i]);return[c,u]}function Ze(e){const{onChange:n,defaultIndex:r,index:t,allowMultiple:o,allowToggle:a,...i}=e;nt(e),rt(e);const s=Ye(),[d,l]=m.useState(-1);m.useEffect(()=>()=>{l(-1)},[]);const[c,u]=Qe({value:t,defaultValue(){return o?r??[]:r??-1},onChange:n});return{index:c,setIndex:u,htmlProps:i,getAccordionItemProps:h=>{let v=!1;return h!==null&&(v=Array.isArray(c)?c.includes(h):c===h),{isOpen:v,onChange:g=>{if(h!==null)if(o&&Array.isArray(c)){const w=g?c.concat(h):c.filter(_=>_!==h);u(w)}else g?u(h):a&&u(-1)}}},focusedIndex:d,setFocusedIndex:l,descendants:s}}var[et,be]=V({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function tt(e){const{isDisabled:n,isFocusable:r,id:t,...o}=e,{getAccordionItemProps:a,setFocusedIndex:i}=be(),s=m.useRef(null),d=m.useId(),l=t??d,c=`accordion-button-${l}`,u=`accordion-panel-${l}`;ot(e);const{register:f,index:h,descendants:v}=Xe({disabled:n&&!r}),{isOpen:p,onChange:g}=a(h===-1?null:h);at({isOpen:p,isDisabled:n});const w=()=>{g==null||g(!0)},_=()=>{g==null||g(!1)},M=m.useCallback(()=>{g==null||g(!p),i(h)},[h,i,p,g]),S=m.useCallback(O=>{const R={ArrowDown:()=>{const x=v.nextEnabled(h);x==null||x.node.focus()},ArrowUp:()=>{const x=v.prevEnabled(h);x==null||x.node.focus()},Home:()=>{const x=v.firstEnabled();x==null||x.node.focus()},End:()=>{const x=v.lastEnabled();x==null||x.node.focus()}}[O.key];R&&(O.preventDefault(),R(O))},[v,h]),T=m.useCallback(()=>{i(h)},[i,h]),y=m.useCallback(function(A={},R=null){return{...A,type:"button",ref:He(f,s,R),id:c,disabled:!!n,"aria-expanded":!!p,"aria-controls":u,onClick:L(A.onClick,M),onFocus:L(A.onFocus,T),onKeyDown:L(A.onKeyDown,S)}},[c,n,p,M,T,S,u,f]),P=m.useCallback(function(A={},R=null){return{...A,ref:R,role:"region",id:u,"aria-labelledby":c,hidden:!p}},[c,p,u]);return{isOpen:p,isDisabled:n,isFocusable:r,onOpen:w,onClose:_,getButtonProps:y,getPanelProps:P,htmlProps:o}}function nt(e){const n=e.index||e.defaultIndex,r=n!=null&&!Array.isArray(n)&&e.allowMultiple;j({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function rt(e){j({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function ot(e){j({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function at(e){j({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}var it=k(function(n,r){const{children:t,className:o}=n,{htmlProps:a,...i}=tt(n),d={...Y().container,overflowAnchor:"none"},l=m.useMemo(()=>i,[i]);return b(Ve,{value:l,children:b($.div,{ref:r,...a,className:C("chakra-accordion__item",o),__css:d,children:typeof t=="function"?t({isExpanded:!!i.isOpen,isDisabled:!!i.isDisabled}):t})})});it.displayName="AccordionItem";var st=e=>e!=null&&parseInt(e.toString(),10)>0,ne={exit:{height:{duration:.2,ease:B.ease},opacity:{duration:.3,ease:B.ease}},enter:{height:{duration:.3,ease:B.ease},opacity:{duration:.4,ease:B.ease}}},ct={exit:({animateOpacity:e,startingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:st(n)?1:0},height:n,transitionEnd:t==null?void 0:t.exit,transition:(a=r==null?void 0:r.exit)!=null?a:Q.exit(ne.exit,o)}},enter:({animateOpacity:e,endingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:1},height:n,transitionEnd:t==null?void 0:t.enter,transition:(a=r==null?void 0:r.enter)!=null?a:Q.enter(ne.enter,o)}}},we=m.forwardRef((e,n)=>{const{in:r,unmountOnExit:t,animateOpacity:o=!0,startingHeight:a=0,endingHeight:i="auto",style:s,className:d,transition:l,transitionEnd:c,...u}=e,[f,h]=m.useState(!1);m.useEffect(()=>{const _=setTimeout(()=>{h(!0)});return()=>clearTimeout(_)},[]),j({condition:Boolean(a>0&&t),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const v=parseFloat(a.toString())>0,p={startingHeight:a,endingHeight:i,animateOpacity:o,transition:f?l:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:t?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:v?"block":"none"}}},g=t?r:!0,w=r||t?"enter":"exit";return b(Ce,{initial:!1,custom:p,children:g&&b(Ne.div,{ref:n,...u,className:C("chakra-collapse",d),style:{overflow:"hidden",display:"block",...s},custom:p,variants:ct,initial:t?"exit":!1,animate:w,exit:"exit"})})});we.displayName="Collapse";var lt=k(function(n,r){const{className:t,motionProps:o,...a}=n,{reduceMotion:i}=be(),{getPanelProps:s,isOpen:d}=pe(),l=s(a,r),c=C("chakra-accordion__panel",t),u=Y();i||delete l.hidden;const f=b($.div,{...l,__css:u.panel,className:c});return i?f:b(we,{in:d,...o,children:f})});lt.displayName="AccordionPanel";var ut=k(function({children:n,reduceMotion:r,...t},o){const a=ke("Accordion",t),i=me(t),{htmlProps:s,descendants:d,...l}=Ze(i),c=m.useMemo(()=>({...l,reduceMotion:!!r}),[l,r]);return b(Ke,{value:d,children:b(et,{value:c,children:b(qe,{value:a,children:b($.div,{ref:o,...s,className:C("chakra-accordion",t.className),__css:a.root,children:n})})})})});ut.displayName="Accordion";var dt=k(function(n,r){const t=$e("Badge",n),{className:o,...a}=me(n);return b($.span,{ref:r,className:C("chakra-badge",n.className),...a,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...t}})});dt.displayName="Badge";const Gn=We(function({positions:n,...r},t){const o=new je.Polygon(n,r);return Ue(o,Ge(t,{overlayContainer:o}))},function(n,r,t){r.positions!==t.positions&&n.setLatLngs(r.positions)});function ft(e){const{lands:n,landCb:r}=e,t=ve(),o=z(null),a=De(n,o,(i,s)=>r?r({lands:i,landId:s}):ht({lands:i,landId:s}));return o.on(t,(i,s)=>s),{_$lands:n,$landId:o,$land:a,landClicked:t}}function ht({lands:e,landId:n}){return e.find(r=>r.id===n)??null}function mt(e){const{model:n,children:r}=e,[t,o]=K([n._$lands,n.landClicked]);return b(ge,{children:t.map((a,i)=>b(ye.Fragment,{children:r({land:a,index:i,onClick:o})},i))})}function vt(e){const{model:n,children:r}=e,[t]=K([n.$land]);return t?b(ge,{children:r({land:t})}):null}function qn(e){const n=[];return e.forEach(r=>{n.push(r.geometryRings[0])}),n}const Vn={Lands:mt,Land:vt,createLandsToLand:ft};function gt(){const e=ve(),n=z(null);return n.on(e,(r,t)=>t),{mapMounted:e,$map:n}}function yt(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var X=yt,pt=typeof D=="object"&&D&&D.Object===Object&&D,bt=pt,wt=bt,At=typeof self=="object"&&self&&self.Object===Object&&self,Ot=wt||At||Function("return this")(),Ae=Ot,_t=Ae,Et=function(){return _t.Date.now()},Pt=Et,xt=/\s/;function Tt(e){for(var n=e.length;n--&&xt.test(e.charAt(n)););return n}var Rt=Tt,Mt=Rt,St=/^\s+/;function It(e){return e&&e.slice(0,Mt(e)+1).replace(St,"")}var Ct=It,Nt=Ae,kt=Nt.Symbol,Oe=kt,re=Oe,_e=Object.prototype,$t=_e.hasOwnProperty,jt=_e.toString,N=re?re.toStringTag:void 0;function Dt(e){var n=$t.call(e,N),r=e[N];try{e[N]=void 0;var t=!0}catch{}var o=jt.call(e);return t&&(n?e[N]=r:delete e[N]),o}var Bt=Dt,zt=Object.prototype,Ft=zt.toString;function Lt(e){return Ft.call(e)}var Ht=Lt,oe=Oe,Wt=Bt,Ut=Ht,Gt="[object Null]",qt="[object Undefined]",ae=oe?oe.toStringTag:void 0;function Vt(e){return e==null?e===void 0?qt:Gt:ae&&ae in Object(e)?Wt(e):Ut(e)}var Kt=Vt;function Yt(e){return e!=null&&typeof e=="object"}var Xt=Yt,Jt=Kt,Qt=Xt,Zt="[object Symbol]";function en(e){return typeof e=="symbol"||Qt(e)&&Jt(e)==Zt}var tn=en,nn=Ct,ie=X,rn=tn,se=0/0,on=/^[-+]0x[0-9a-f]+$/i,an=/^0b[01]+$/i,sn=/^0o[0-7]+$/i,cn=parseInt;function ln(e){if(typeof e=="number")return e;if(rn(e))return se;if(ie(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=ie(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=nn(e);var r=an.test(e);return r||sn.test(e)?cn(e.slice(2),r?2:8):on.test(e)?se:+e}var un=ln,dn=X,H=Pt,ce=un,fn="Expected a function",hn=Math.max,mn=Math.min;function vn(e,n,r){var t,o,a,i,s,d,l=0,c=!1,u=!1,f=!0;if(typeof e!="function")throw new TypeError(fn);n=ce(n)||0,dn(r)&&(c=!!r.leading,u="maxWait"in r,a=u?hn(ce(r.maxWait)||0,n):a,f="trailing"in r?!!r.trailing:f);function h(y){var P=t,O=o;return t=o=void 0,l=y,i=e.apply(O,P),i}function v(y){return l=y,s=setTimeout(w,n),c?h(y):i}function p(y){var P=y-d,O=y-l,A=n-P;return u?mn(A,a-O):A}function g(y){var P=y-d,O=y-l;return d===void 0||P>=n||P<0||u&&O>=a}function w(){var y=H();if(g(y))return _(y);s=setTimeout(w,p(y))}function _(y){return s=void 0,f&&t?h(y):(t=o=void 0,i)}function M(){s!==void 0&&clearTimeout(s),l=0,t=d=o=s=void 0}function S(){return s===void 0?i:_(H())}function T(){var y=H(),P=g(y);if(t=arguments,o=this,d=y,P){if(s===void 0)return v(d);if(u)return clearTimeout(s),s=setTimeout(w,n),h(d)}return s===void 0&&(s=setTimeout(w,n)),i}return T.cancel=M,T.flush=S,T}var Ee=vn,gn=Ee,yn=X,pn="Expected a function";function bn(e,n,r){var t=!0,o=!0;if(typeof e!="function")throw new TypeError(pn);return yn(r)&&(t="leading"in r?!!r.leading:t,o="trailing"in r?!!r.trailing:o),gn(e,n,{leading:t,maxWait:n,trailing:o})}var wn=bn,G=function(e,n){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])},G(e,n)};function An(e,n){G(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var q=function(){return q=Object.assign||function(n){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},q.apply(this,arguments)};function On(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r}var Pe=function(e,n,r,t){switch(n){case"debounce":return Ee(e,r,t);case"throttle":return wn(e,r,t);default:return e}},le=function(e){return typeof e=="function"},I=function(){return typeof window>"u"},ue=function(e){return e instanceof Element||e instanceof HTMLDocument},xe=function(e,n,r,t){return function(o){var a=o.width,i=o.height;n(function(s){return s.width===a&&s.height===i||s.width===a&&!t||s.height===i&&!r?s:(e==null||e(a,i),{width:a,height:i})})}};(function(e){An(n,e);function n(r){var t=e.call(this,r)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var l=t.props,c=l.targetRef,u=l.observerOptions;if(!I()){c&&c.current&&(t.targetRef.current=c.current);var f=t.getElement();f&&(t.observableElement&&t.observableElement===f||(t.observableElement=f,t.resizeObserver.observe(f,u)))}},t.getElement=function(){var l=t.props,c=l.querySelector,u=l.targetDomEl;if(I())return null;if(c)return document.querySelector(c);if(u&&ue(u))return u;if(t.targetRef&&ue(t.targetRef.current))return t.targetRef.current;var f=Be.findDOMNode(t);if(!f)return null;var h=t.getRenderType();switch(h){case"renderProp":return f;case"childFunction":return f;case"child":return f;case"childArray":return f;default:return f.parentElement}},t.createResizeHandler=function(l){var c=t.props,u=c.handleWidth,f=u===void 0?!0:u,h=c.handleHeight,v=h===void 0?!0:h,p=c.onResize;if(!(!f&&!v)){var g=xe(p,t.setState.bind(t),f,v);l.forEach(function(w){var _=w&&w.contentRect||{},M=_.width,S=_.height,T=!t.skipOnMount&&!I();T&&g({width:M,height:S}),t.skipOnMount=!1})}},t.getRenderType=function(){var l=t.props,c=l.render,u=l.children;return le(c)?"renderProp":le(u)?"childFunction":m.isValidElement(u)?"child":Array.isArray(u)?"childArray":"parent"};var o=r.skipOnMount,a=r.refreshMode,i=r.refreshRate,s=i===void 0?1e3:i,d=r.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=o,t.targetRef=m.createRef(),t.observableElement=null,I()||(t.resizeHandler=Pe(t.createResizeHandler,a,s,d),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){I()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var r=this.props,t=r.render,o=r.children,a=r.nodeType,i=a===void 0?"div":a,s=this.state,d=s.width,l=s.height,c={width:d,height:l,targetRef:this.targetRef},u=this.getRenderType();switch(u){case"renderProp":return t==null?void 0:t(c);case"childFunction":{var f=o;return f==null?void 0:f(c)}case"child":{var h=o;if(h.type&&typeof h.type=="string"){c.targetRef;var v=On(c,["targetRef"]);return m.cloneElement(h,v)}return m.cloneElement(h,c)}case"childArray":{var p=o;return p.map(function(g){return!!g&&m.cloneElement(g,c)})}default:return m.createElement(i,null)}},n})(m.PureComponent);var _n=I()?m.useEffect:m.useLayoutEffect;function En(e){e===void 0&&(e={});var n=e.skipOnMount,r=n===void 0?!1:n,t=e.refreshMode,o=e.refreshRate,a=o===void 0?1e3:o,i=e.refreshOptions,s=e.handleWidth,d=s===void 0?!0:s,l=e.handleHeight,c=l===void 0?!0:l,u=e.targetRef,f=e.observerOptions,h=e.onResize,v=m.useRef(r),p=m.useRef(null),g=m.useRef(),w=u??p,_=m.useState({width:void 0,height:void 0}),M=_[0],S=_[1];return _n(function(){if(!(!d&&!c)){var T=xe(h,S,d,c),y=function(O){!d&&!c||O.forEach(function(A){var R=A&&A.contentRect||{},x=R.width,Se=R.height,Ie=!v.current;Ie&&T({width:x,height:Se}),v.current=!1})};g.current=Pe(y,t,a,i);var P=new window.ResizeObserver(g.current);return w.current&&P.observe(w.current,f),function(){var O,A;P.disconnect(),(A=(O=g.current).cancel)===null||A===void 0||A.call(O)}}},[t,a,i,d,c,h,f,w.current]),q({ref:w},M)}const Pn=[48.356,66.687],xn=5,Tn='&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',Rn="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";function Mn(e){const{model:n,isResize:r=!1,center:t=Pn,zoom:o=xn,attribution:a=Tn,url:i=Rn,containerProps:s,children:d}=e,[l,c]=K([n.$map,n.mapMounted]);if(r){const{width:u,height:f,ref:h}=En();return ye.useEffect(()=>{l&&l.invalidateSize()},[u,f]),b(te,{ref:h,...s,children:J(Z,{ref:c,center:t,zoom:o,style:{width:u,height:f,...e.style},...e,children:[b(ee,{attribution:a,url:i}),d]})})}else return b(te,{...s,children:J(Z,{ref:c,center:t,zoom:o,...e,children:[b(ee,{attribution:a,url:i}),d]})})}function Kn(e){const{map:n,layer:r}=e;if(typeof r=="object"&&!Array.isArray(r)){const t=r,o={};return Object.keys(t).forEach(a=>{const i=t[a],s=U({source:{map:n,layer:i},effect:({map:d,layer:l},c)=>{if(!d)throw new Error("Map is not defined");if(l.positions.length===0)throw new Error("Positions is empty");d.fitBounds(l.positions)}});o[a]=s}),o}else return U({source:{map:n,layer:r},effect:({map:a,layer:i},s)=>{if(!a)throw new Error("Map is not defined");if(i.positions.length===0)throw new Error("Positions is empty");a.fitBounds(i.positions)}})}const Yn={Map:Mn,createMap:gt};var E=63710088e-1,Sn={centimeters:E*100,centimetres:E*100,degrees:E/111325,feet:E*3.28084,inches:E*39.37,kilometers:E/1e3,kilometres:E/1e3,meters:E,metres:E,miles:E/1609.344,millimeters:E*1e3,millimetres:E*1e3,nauticalmiles:E/1852,radians:1,yards:E*1.0936};function Te(e,n,r){r===void 0&&(r={});var t={type:"Feature"};return(r.id===0||r.id)&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.properties=n||{},t.geometry=e,t}function Re(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!fe(e[0])||!fe(e[1]))throw new Error("coordinates must contain numbers");var t={type:"Point",coordinates:e};return Te(t,n,r)}function In(e,n,r){r===void 0&&(r={});for(var t=0,o=e;t<o.length;t++){var a=o[t];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<a[a.length-1].length;i++)if(a[a.length-1][i]!==a[0][i])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return Te(s,n,r)}function Cn(e,n){n===void 0&&(n="kilometers");var r=Sn[n];if(!r)throw new Error(n+" units is invalid");return e/r}function de(e){var n=e%(2*Math.PI);return n*180/Math.PI}function W(e){var n=e%360;return n*Math.PI/180}function fe(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Me(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Nn(e){return e.type==="Feature"?e.geometry:e}function kn(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var t=Me(e),o=Nn(n),a=o.type,i=n.bbox,s=o.coordinates;if(i&&$n(t,i)===!1)return!1;a==="Polygon"&&(s=[s]);for(var d=!1,l=0;l<s.length&&!d;l++)if(he(t,s[l][0],r.ignoreBoundary)){for(var c=!1,u=1;u<s[l].length&&!c;)he(t,s[l][u],!r.ignoreBoundary)&&(c=!0),u++;c||(d=!0)}return d}function he(e,n,r){var t=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var o=0,a=n.length-1;o<n.length;a=o++){var i=n[o][0],s=n[o][1],d=n[a][0],l=n[a][1],c=e[1]*(i-d)+s*(d-e[0])+l*(e[0]-i)===0&&(i-e[0])*(d-e[0])<=0&&(s-e[1])*(l-e[1])<=0;if(c)return!r;var u=s>e[1]!=l>e[1]&&e[0]<(d-i)*(e[1]-s)/(l-s)+i;u&&(t=!t)}return t}function $n(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function jn(e,n,r,t){t===void 0&&(t={});var o=Me(e),a=W(o[0]),i=W(o[1]),s=W(r),d=Cn(n,t.units),l=Math.asin(Math.sin(i)*Math.cos(d)+Math.cos(i)*Math.sin(d)*Math.cos(s)),c=a+Math.atan2(Math.sin(s)*Math.sin(d)*Math.cos(i),Math.cos(d)-Math.sin(i)*Math.sin(l)),u=de(c),f=de(l);return Re([u,f],t.properties)}function Dn(e,n,r){r===void 0&&(r={});for(var t=r.steps||64,o=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},a=[],i=0;i<t;i++)a.push(jn(e,n,i*-360/t,r).geometry.coordinates);return a.push(a[0]),In([a],o)}const Xn=ze(({event:e,clientsPlots:n})=>{const r=e.layer,t=r._leaflet_id,o=r.getLatLng(),a=Math.floor(r.getRadius()),i=Dn([o.lng,o.lat],a,{units:"meters"}),s=n.filter(d=>{const l=[];for(const c of d.geometryRings[0]){const u=Re([c[1],c[0]]),f=kn(u,i);l.push(f)}return l.includes(!0)});return{circleId:t,clientsPlots:s}});function Jn(){const e=z([]),n=e.map(o=>o.length!==0?{guid:o[0].guid,clientId:o[0].clientId,clientName:o[0].clientName,clientBin:o[0].clientBin,clientAddress:o[0].clientAddress,clientActivity:o[0].clientActivity,regionId:o[0].regionId,districtId:o[0].districtId}:null),r=z(!1),t=U({effect:Fe});return r.on(t.pending,(o,a)=>a),e.on(t.doneData,(o,a)=>a),{getClientPlotsFx:t,$clientPlotsPending:r,$clientPlots:e,$client:n}}export{ut as A,dt as B,Vn as L,Yn as M,Gn as P,be as a,Y as b,it as c,Je as d,lt as e,Kn as f,qn as g,Xn as h,Jn as i,Qe as j,pe as u};
//# sourceMappingURL=client-plots-7500522d.js.map
