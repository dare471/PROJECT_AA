import{D as M,O as y,aI as F,j as u,a as e,T as h,x as $,C,H as U,$ as I,s as P,R as z}from"./index-30d26e58.js";import{U as D,a as T}from"./index-48201638.js";import{D as p}from"./ui-e2ff4737.js";import{S as H}from"./ui-5e3e3e3c.js";import{C as w,a as j}from"./chunk-S432VF2S-98664443.js";import{S as a}from"./chunk-O5CRURSQ-38cbc667.js";import{u as N,P as W}from"./use-pagination-a13feed9.js";import{c as A}from"./model-344376fa.js";import{c as R}from"./user-contracts-c29eb94b.js";import"./index.esm-c8ec29ec.js";import"./chunk-G72KV6MB-256ec515.js";import"./chunk-YTHZUBYP-81720497.js";import"./chunk-QODHG6BI-a9ac56a7.js";import"./chunk-QAHQKGYV-e4a7b19b.js";import"./chunk-KRS2VCGE-8510648a.js";import"./chunk-PEYICJIL-4eb92d2e.js";import"./chunk-NAA7TEES-8a7107e3.js";import"./index-b17ac102.js";function _(){const r=M([]),t=M(!1),i=y({effect:F});return t.on(i.pending,(c,s)=>s),r.on(i.doneData,(c,s)=>s),{getUserMapHistoriesFx:i,$userMapHistories:r,$userMapHistoriesPending:t}}function B(r){const{index:t,id:i,userId:c,clientId:s,clientName:d,regionId:m,regionName:n,plotId:f,plotName:x,load:o,onClick:O,...k}=r;return u(w,{...k,children:[e(j,{children:u(a,{children:[e(p,{title:"Номер:",children:t}),d&&e(h,{fontSize:"md",fontWeight:"medium",children:e(p,{title:"Клиент:",children:d})}),n&&e(h,{fontSize:"md",fontWeight:"medium",children:e(p,{title:"Область:",children:n})}),x&&e(h,{fontSize:"md",fontWeight:"medium",children:e(p,{title:"Участок:",children:x})})]})}),o&&!o.loader?e(H,{}):e($,{children:o==null?void 0:o.loader})]})}const S=C(),b=C();A({defaultTab:"settings",tabs:["settings","contracts"]});const l=D.createUser(),g=_();R();U({clock:S,source:I,filter:r=>r!==null,fn:r=>({userId:r.id}),target:[l.getUserFx,g.getUserMapHistoriesFx]});U({clock:b,target:[l.$user.reinit,g.$userMapHistories.reinit]});function ce(){const[r,t]=P([S,b]);return z.useEffect(()=>(r(),()=>{t()}),[]),u(a,{children:[e(a,{minH:"2xs",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(L,{})}),e(a,{minH:"md",bgColor:"whiteAlpha.300",rounded:"md",boxShadow:"md",px:"4",py:"5",children:e(E,{})})]})}function E(){const[r,t]=P([g.$userMapHistories,g.$userMapHistoriesPending]),{maxPage:i,pages:c,currentData:s,currentPage:d,setCurrentPage:m}=N({data:r,perPage:5,maxPages:5});return t?e(H,{}):u(a,{children:[s.map((n,f)=>e(B,{index:f,...n},f)),e(W,{pages:c,currentPage:d,onFirstClick:()=>m(1),onLastClick:()=>m(i),onPageChange:n=>m(n)})]})}function L(){const[r,t]=P([l.$user,l.$userPending]);return t?e(H,{}):e($,{children:e(T,{orientation:"horizontal",...r})})}export{ce as SettingsProfilePage};
//# sourceMappingURL=index-94526303.js.map
