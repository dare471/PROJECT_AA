import{i as J,f as L,a as O,c as $,e as I,b as U,d as f,k as G,ai as j,aj as Ve,p as Ke,l as Xe,o as Ee,y as Ye,R as k,W as Ae,Y as Q,C as Re,D as B,ac as Ze,s as ee,x as Ce,ak as z,j as ae,O as K,N as Je,a0 as Qe}from"./index-30d26e58.js";import{T as H,w as ie}from"./chunk-LB6CWFOC-afb3a818.js";import{c as et}from"./chunk-D5UZ3RNN-f7b5d83f.js";import{m as tt}from"./index-b17ac102.js";import{B as se}from"./chunk-SRMZVY4F-d66d975b.js";var[nt,te]=J({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[rt,Pe]=J({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[ot,fr,at,it]=et(),st=L(function(n,r){const{getButtonProps:t}=Pe(),o=t(n,r),i={display:"flex",alignItems:"center",width:"100%",outline:0,...te().button};return O($.button,{...o,className:I("chakra-accordion__button",n.className),__css:i})});st.displayName="AccordionButton";function ct(e){const{value:n,defaultValue:r,onChange:t,shouldUpdate:o=(m,h)=>m!==h}=e,a=U(t),i=U(o),[s,l]=f.useState(r),u=n!==void 0,c=u?n:s,d=U(m=>{const v=typeof m=="function"?m(c):m;i(c,v)&&(u||l(v),a(v))},[u,a,c,i]);return[c,d]}function ut(e){const{onChange:n,defaultIndex:r,index:t,allowMultiple:o,allowToggle:a,...i}=e;dt(e),ht(e);const s=at(),[l,u]=f.useState(-1);f.useEffect(()=>()=>{u(-1)},[]);const[c,d]=ct({value:t,defaultValue(){return o?r??[]:r??-1},onChange:n});return{index:c,setIndex:d,htmlProps:i,getAccordionItemProps:h=>{let v=!1;return h!==null&&(v=Array.isArray(c)?c.includes(h):c===h),{isOpen:v,onChange:y=>{if(h!==null)if(o&&Array.isArray(c)){const b=y?c.concat(h):c.filter(w=>w!==h);d(b)}else y?d(h):a&&d(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:s}}var[lt,_e]=J({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function ft(e){const{isDisabled:n,isFocusable:r,id:t,...o}=e,{getAccordionItemProps:a,setFocusedIndex:i}=_e(),s=f.useRef(null),l=f.useId(),u=t??l,c=`accordion-button-${u}`,d=`accordion-panel-${u}`;mt(e);const{register:m,index:h,descendants:v}=it({disabled:n&&!r}),{isOpen:p,onChange:y}=a(h===-1?null:h);vt({isOpen:p,isDisabled:n});const b=()=>{y==null||y(!0)},w=()=>{y==null||y(!1)},T=f.useCallback(()=>{y==null||y(!p),i(h)},[h,i,p,y]),S=f.useCallback(A=>{const x={ArrowDown:()=>{const P=v.nextEnabled(h);P==null||P.node.focus()},ArrowUp:()=>{const P=v.prevEnabled(h);P==null||P.node.focus()},Home:()=>{const P=v.firstEnabled();P==null||P.node.focus()},End:()=>{const P=v.lastEnabled();P==null||P.node.focus()}}[A.key];x&&(A.preventDefault(),x(A))},[v,h]),_=f.useCallback(()=>{i(h)},[i,h]),g=f.useCallback(function(E={},x=null){return{...E,type:"button",ref:tt(m,s,x),id:c,disabled:!!n,"aria-expanded":!!p,"aria-controls":d,onClick:G(E.onClick,T),onFocus:G(E.onFocus,_),onKeyDown:G(E.onKeyDown,S)}},[c,n,p,T,_,S,d,m]),C=f.useCallback(function(E={},x=null){return{...E,ref:x,role:"region",id:d,"aria-labelledby":c,hidden:!p}},[c,p,d]);return{isOpen:p,isDisabled:n,isFocusable:r,onOpen:b,onClose:w,getButtonProps:g,getPanelProps:C,htmlProps:o}}function dt(e){const n=e.index||e.defaultIndex,r=n!=null&&!Array.isArray(n)&&e.allowMultiple;j({condition:!!r,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof n},`})}function ht(e){j({condition:!!(e.allowMultiple&&e.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function mt(e){j({condition:!!(e.isFocusable&&!e.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function vt(e){j({condition:e.isOpen&&!!e.isDisabled,message:"Cannot open a disabled accordion item"})}var yt=L(function(n,r){const{children:t,className:o}=n,{htmlProps:a,...i}=ft(n),l={...te().container,overflowAnchor:"none"},u=f.useMemo(()=>i,[i]);return O(rt,{value:u,children:O($.div,{ref:r,...a,className:I("chakra-accordion__item",o),__css:l,children:typeof t=="function"?t({isExpanded:!!i.isOpen,isDisabled:!!i.isDisabled}):t})})});yt.displayName="AccordionItem";var gt=e=>e!=null&&parseInt(e.toString(),10)>0,ce={exit:{height:{duration:.2,ease:H.ease},opacity:{duration:.3,ease:H.ease}},enter:{height:{duration:.3,ease:H.ease},opacity:{duration:.4,ease:H.ease}}},pt={exit:({animateOpacity:e,startingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:gt(n)?1:0},height:n,transitionEnd:t==null?void 0:t.exit,transition:(a=r==null?void 0:r.exit)!=null?a:ie.exit(ce.exit,o)}},enter:({animateOpacity:e,endingHeight:n,transition:r,transitionEnd:t,delay:o})=>{var a;return{...e&&{opacity:1},height:n,transitionEnd:t==null?void 0:t.enter,transition:(a=r==null?void 0:r.enter)!=null?a:ie.enter(ce.enter,o)}}},xe=f.forwardRef((e,n)=>{const{in:r,unmountOnExit:t,animateOpacity:o=!0,startingHeight:a=0,endingHeight:i="auto",style:s,className:l,transition:u,transitionEnd:c,...d}=e,[m,h]=f.useState(!1);f.useEffect(()=>{const w=setTimeout(()=>{h(!0)});return()=>clearTimeout(w)},[]),j({condition:Boolean(a>0&&t),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const v=parseFloat(a.toString())>0,p={startingHeight:a,endingHeight:i,animateOpacity:o,transition:m?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:t?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:v?"block":"none"}}},y=t?r:!0,b=r||t?"enter":"exit";return O(Ve,{initial:!1,custom:p,children:y&&O(Ke.div,{ref:n,...d,className:I("chakra-collapse",l),style:{overflow:"hidden",display:"block",...s},custom:p,variants:pt,initial:t?"exit":!1,animate:b,exit:"exit"})})});xe.displayName="Collapse";var bt=L(function(n,r){const{className:t,motionProps:o,...a}=n,{reduceMotion:i}=_e(),{getPanelProps:s,isOpen:l}=Pe(),u=s(a,r),c=I("chakra-accordion__panel",t),d=te();i||delete u.hidden;const m=O($.div,{...u,__css:d.panel,className:c});return i?m:O(xe,{in:l,...o,children:m})});bt.displayName="AccordionPanel";var wt=L(function({children:n,reduceMotion:r,...t},o){const a=Xe("Accordion",t),i=Ee(t),{htmlProps:s,descendants:l,...u}=ut(i),c=f.useMemo(()=>({...u,reduceMotion:!!r}),[u,r]);return O(ot,{value:l,children:O(lt,{value:c,children:O(nt,{value:a,children:O($.div,{ref:o,...s,className:I("chakra-accordion",t.className),__css:a.root,children:n})})})})});wt.displayName="Accordion";var Ot=L(function(n,r){const t=Ye("Badge",n),{className:o,...a}=Ee(n);return O($.span,{ref:r,className:I("chakra-badge",n.className),...a,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...t}})});Ot.displayName="Badge";function Te(e,n){const r=f.useRef(n);f.useEffect(function(){n!==r.current&&e.attributionControl!=null&&(r.current!=null&&e.attributionControl.removeAttribution(r.current),n!=null&&e.attributionControl.addAttribution(n)),r.current=n},[e,n])}const Et=1;function At(e){return Object.freeze({__version:Et,map:e})}function Rt(e,n){return Object.freeze({...e,...n})}const Se=f.createContext(null),Me=Se.Provider;function F(){const e=f.useContext(Se);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Ie(e){function n(r,t){const{instance:o,context:a}=e(r).current;return f.useImperativeHandle(t,()=>o),r.children==null?null:k.createElement(Me,{value:a},r.children)}return f.forwardRef(n)}function Ct(e){function n(r,t){const[o,a]=f.useState(!1),{instance:i}=e(r,a).current;f.useImperativeHandle(t,()=>i),f.useEffect(function(){o&&i.update()},[i,o,r.children]);const s=i._contentNode;return s?Ae.createPortal(r.children,s):null}return f.forwardRef(n)}function Ne(e){function n(r,t){const{instance:o}=e(r).current;return f.useImperativeHandle(t,()=>o),null}return f.forwardRef(n)}function Pt(e){return function(r){const t=F(),o=e(r,t),{instance:a}=o.current,i=f.useRef(r.position),{position:s}=r;return f.useEffect(function(){return a.addTo(t.map),function(){a.remove()}},[t.map,a]),f.useEffect(function(){s!=null&&s!==i.current&&(a.setPosition(s),i.current=s)},[a,s]),o}}function ne(e,n){const r=f.useRef();f.useEffect(function(){return n!=null&&e.instance.on(n),r.current=n,function(){r.current!=null&&e.instance.off(r.current),r.current=null}},[e,n])}function W(e,n){const r=e.pane??n.pane;return r?{...e,pane:r}:e}function _t(e,n){return function(t,o){const a=F(),i=e(W(t,a),a);return Te(a.map,t.attribution),ne(i.current,t.eventHandlers),n(i.current,a,t,o),i}}function re(e,n,r){return Object.freeze({instance:e,context:n,container:r})}function D(e,n){return n==null?function(t,o){const a=f.useRef();return a.current||(a.current=e(t,o)),a}:function(t,o){const a=f.useRef();a.current||(a.current=e(t,o));const i=f.useRef(t),{instance:s}=a.current;return f.useEffect(function(){i.current!==t&&(n(s,t,i.current),i.current=t)},[s,t,o]),a}}function ke(e,n){f.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function Le(e){return function(r){const t=F(),o=e(W(r,t),t);return Te(t.map,r.attribution),ne(o.current,r.eventHandlers),ke(o.current,t),o}}function xt(e,n){const r=f.useRef();f.useEffect(function(){if(n.pathOptions!==r.current){const o=n.pathOptions??{};e.instance.setStyle(o),r.current=o}},[e,n])}function Tt(e){return function(r){const t=F(),o=e(W(r,t),t);return ne(o.current,r.eventHandlers),ke(o.current,t),xt(o.current,r),o}}function dr(e){function n(o,a){return re(e(o),a)}const r=D(n),t=Pt(r);return Ne(t)}function hr(e,n){const r=D(e,n),t=Le(r);return Ie(t)}function mr(e,n){const r=D(e),t=_t(r,n);return Ct(t)}function St(e,n){const r=D(e,n),t=Tt(r);return Ie(t)}function Mt(e,n){const r=D(e,n),t=Le(r);return Ne(t)}function It(e,n,r){const{opacity:t,zIndex:o}=n;t!=null&&t!==r.opacity&&e.setOpacity(t),o!=null&&o!==r.zIndex&&e.setZIndex(o)}function X(){return X=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},X.apply(this,arguments)}function Nt({bounds:e,boundsOptions:n,center:r,children:t,className:o,id:a,placeholder:i,style:s,whenReady:l,zoom:u,...c},d){const[m]=f.useState({className:o,id:a,style:s}),[h,v]=f.useState(null);f.useImperativeHandle(d,()=>(h==null?void 0:h.map)??null,[h]);const p=f.useCallback(b=>{if(b!==null&&h===null){const w=new Q.Map(b,c);r!=null&&u!=null?w.setView(r,u):e!=null&&w.fitBounds(e,n),l!=null&&w.whenReady(l),v(At(w))}},[]);f.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const y=h?k.createElement(Me,{value:h},t):i??null;return k.createElement("div",X({},m,{ref:p}),y)}const ue=f.forwardRef(Nt),vr=St(function({positions:n,...r},t){const o=new Q.Polygon(n,r);return re(o,Rt(t,{overlayContainer:o}))},function(n,r,t){r.positions!==t.positions&&n.setLatLngs(r.positions)}),le=Mt(function({url:n,...r},t){const o=new Q.TileLayer(n,W(r,t));return re(o,t)},function(n,r,t){It(n,r,t);const{url:o}=r;o!=null&&o!==t.url&&n.setUrl(o)});function kt(e){const{lands:n,landCb:r}=e,t=Re(),o=B(null),a=Ze(n,o,(i,s)=>r?r({lands:i,landId:s}):Lt({lands:i,landId:s}));return o.on(t,(i,s)=>s),{_$lands:n,$landId:o,$land:a,landClicked:t}}function Lt({lands:e,landId:n}){return e.find(r=>r.id===n)??null}function $t(e){const{model:n,children:r}=e,[t,o]=ee([n._$lands,n.landClicked]);return O(Ce,{children:t.map((a,i)=>O(k.Fragment,{children:r({land:a,index:i,onClick:o})},i))})}function jt(e){const{model:n,children:r}=e,[t]=ee([n.$land]);return t?O(Ce,{children:r({land:t})}):null}function yr(e){const n=[];return e.forEach(r=>{n.push(r.geometryRings[0])}),n}const gr={Lands:$t,Land:jt,createLandsToLand:kt};function Dt(){const e=Re(),n=B(null);return n.on(e,(r,t)=>t),{mapMounted:e,$map:n}}function zt(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var oe=zt,Ht=typeof z=="object"&&z&&z.Object===Object&&z,Bt=Ht,Ft=Bt,Wt=typeof self=="object"&&self&&self.Object===Object&&self,Ut=Ft||Wt||Function("return this")(),$e=Ut,Gt=$e,qt=function(){return Gt.Date.now()},Vt=qt,Kt=/\s/;function Xt(e){for(var n=e.length;n--&&Kt.test(e.charAt(n)););return n}var Yt=Xt,Zt=Yt,Jt=/^\s+/;function Qt(e){return e&&e.slice(0,Zt(e)+1).replace(Jt,"")}var en=Qt,tn=$e,nn=tn.Symbol,je=nn,fe=je,De=Object.prototype,rn=De.hasOwnProperty,on=De.toString,N=fe?fe.toStringTag:void 0;function an(e){var n=rn.call(e,N),r=e[N];try{e[N]=void 0;var t=!0}catch{}var o=on.call(e);return t&&(n?e[N]=r:delete e[N]),o}var sn=an,cn=Object.prototype,un=cn.toString;function ln(e){return un.call(e)}var fn=ln,de=je,dn=sn,hn=fn,mn="[object Null]",vn="[object Undefined]",he=de?de.toStringTag:void 0;function yn(e){return e==null?e===void 0?vn:mn:he&&he in Object(e)?dn(e):hn(e)}var gn=yn;function pn(e){return e!=null&&typeof e=="object"}var bn=pn,wn=gn,On=bn,En="[object Symbol]";function An(e){return typeof e=="symbol"||On(e)&&wn(e)==En}var Rn=An,Cn=en,me=oe,Pn=Rn,ve=0/0,_n=/^[-+]0x[0-9a-f]+$/i,xn=/^0b[01]+$/i,Tn=/^0o[0-7]+$/i,Sn=parseInt;function Mn(e){if(typeof e=="number")return e;if(Pn(e))return ve;if(me(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=me(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Cn(e);var r=xn.test(e);return r||Tn.test(e)?Sn(e.slice(2),r?2:8):_n.test(e)?ve:+e}var In=Mn,Nn=oe,q=Vt,ye=In,kn="Expected a function",Ln=Math.max,$n=Math.min;function jn(e,n,r){var t,o,a,i,s,l,u=0,c=!1,d=!1,m=!0;if(typeof e!="function")throw new TypeError(kn);n=ye(n)||0,Nn(r)&&(c=!!r.leading,d="maxWait"in r,a=d?Ln(ye(r.maxWait)||0,n):a,m="trailing"in r?!!r.trailing:m);function h(g){var C=t,A=o;return t=o=void 0,u=g,i=e.apply(A,C),i}function v(g){return u=g,s=setTimeout(b,n),c?h(g):i}function p(g){var C=g-l,A=g-u,E=n-C;return d?$n(E,a-A):E}function y(g){var C=g-l,A=g-u;return l===void 0||C>=n||C<0||d&&A>=a}function b(){var g=q();if(y(g))return w(g);s=setTimeout(b,p(g))}function w(g){return s=void 0,m&&t?h(g):(t=o=void 0,i)}function T(){s!==void 0&&clearTimeout(s),u=0,t=l=o=s=void 0}function S(){return s===void 0?i:w(q())}function _(){var g=q(),C=y(g);if(t=arguments,o=this,l=g,C){if(s===void 0)return v(l);if(d)return clearTimeout(s),s=setTimeout(b,n),h(l)}return s===void 0&&(s=setTimeout(b,n)),i}return _.cancel=T,_.flush=S,_}var ze=jn,Dn=ze,zn=oe,Hn="Expected a function";function Bn(e,n,r){var t=!0,o=!0;if(typeof e!="function")throw new TypeError(Hn);return zn(r)&&(t="leading"in r?!!r.leading:t,o="trailing"in r?!!r.trailing:o),Dn(e,n,{leading:t,maxWait:n,trailing:o})}var Fn=Bn,Y=function(e,n){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o])},Y(e,n)};function Wn(e,n){Y(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Z=function(){return Z=Object.assign||function(n){for(var r,t=1,o=arguments.length;t<o;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},Z.apply(this,arguments)};function Un(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r}var He=function(e,n,r,t){switch(n){case"debounce":return ze(e,r,t);case"throttle":return Fn(e,r,t);default:return e}},ge=function(e){return typeof e=="function"},M=function(){return typeof window>"u"},pe=function(e){return e instanceof Element||e instanceof HTMLDocument},Be=function(e,n,r,t){return function(o){var a=o.width,i=o.height;n(function(s){return s.width===a&&s.height===i||s.width===a&&!t||s.height===i&&!r?s:(e==null||e(a,i),{width:a,height:i})})}};(function(e){Wn(n,e);function n(r){var t=e.call(this,r)||this;t.cancelHandler=function(){t.resizeHandler&&t.resizeHandler.cancel&&(t.resizeHandler.cancel(),t.resizeHandler=null)},t.attachObserver=function(){var u=t.props,c=u.targetRef,d=u.observerOptions;if(!M()){c&&c.current&&(t.targetRef.current=c.current);var m=t.getElement();m&&(t.observableElement&&t.observableElement===m||(t.observableElement=m,t.resizeObserver.observe(m,d)))}},t.getElement=function(){var u=t.props,c=u.querySelector,d=u.targetDomEl;if(M())return null;if(c)return document.querySelector(c);if(d&&pe(d))return d;if(t.targetRef&&pe(t.targetRef.current))return t.targetRef.current;var m=Ae.findDOMNode(t);if(!m)return null;var h=t.getRenderType();switch(h){case"renderProp":return m;case"childFunction":return m;case"child":return m;case"childArray":return m;default:return m.parentElement}},t.createResizeHandler=function(u){var c=t.props,d=c.handleWidth,m=d===void 0?!0:d,h=c.handleHeight,v=h===void 0?!0:h,p=c.onResize;if(!(!m&&!v)){var y=Be(p,t.setState.bind(t),m,v);u.forEach(function(b){var w=b&&b.contentRect||{},T=w.width,S=w.height,_=!t.skipOnMount&&!M();_&&y({width:T,height:S}),t.skipOnMount=!1})}},t.getRenderType=function(){var u=t.props,c=u.render,d=u.children;return ge(c)?"renderProp":ge(d)?"childFunction":f.isValidElement(d)?"child":Array.isArray(d)?"childArray":"parent"};var o=r.skipOnMount,a=r.refreshMode,i=r.refreshRate,s=i===void 0?1e3:i,l=r.refreshOptions;return t.state={width:void 0,height:void 0},t.skipOnMount=o,t.targetRef=f.createRef(),t.observableElement=null,M()||(t.resizeHandler=He(t.createResizeHandler,a,s,l),t.resizeObserver=new window.ResizeObserver(t.resizeHandler)),t}return n.prototype.componentDidMount=function(){this.attachObserver()},n.prototype.componentDidUpdate=function(){this.attachObserver()},n.prototype.componentWillUnmount=function(){M()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},n.prototype.render=function(){var r=this.props,t=r.render,o=r.children,a=r.nodeType,i=a===void 0?"div":a,s=this.state,l=s.width,u=s.height,c={width:l,height:u,targetRef:this.targetRef},d=this.getRenderType();switch(d){case"renderProp":return t==null?void 0:t(c);case"childFunction":{var m=o;return m==null?void 0:m(c)}case"child":{var h=o;if(h.type&&typeof h.type=="string"){c.targetRef;var v=Un(c,["targetRef"]);return f.cloneElement(h,v)}return f.cloneElement(h,c)}case"childArray":{var p=o;return p.map(function(y){return!!y&&f.cloneElement(y,c)})}default:return f.createElement(i,null)}},n})(f.PureComponent);var Gn=M()?f.useEffect:f.useLayoutEffect;function qn(e){e===void 0&&(e={});var n=e.skipOnMount,r=n===void 0?!1:n,t=e.refreshMode,o=e.refreshRate,a=o===void 0?1e3:o,i=e.refreshOptions,s=e.handleWidth,l=s===void 0?!0:s,u=e.handleHeight,c=u===void 0?!0:u,d=e.targetRef,m=e.observerOptions,h=e.onResize,v=f.useRef(r),p=f.useRef(null),y=f.useRef(),b=d??p,w=f.useState({width:void 0,height:void 0}),T=w[0],S=w[1];return Gn(function(){if(!(!l&&!c)){var _=Be(h,S,l,c),g=function(A){!l&&!c||A.forEach(function(E){var x=E&&E.contentRect||{},P=x.width,Ge=x.height,qe=!v.current;qe&&_({width:P,height:Ge}),v.current=!1})};y.current=He(g,t,a,i);var C=new window.ResizeObserver(y.current);return b.current&&C.observe(b.current,m),function(){var A,E;C.disconnect(),(E=(A=y.current).cancel)===null||E===void 0||E.call(A)}}},[t,a,i,l,c,h,m,b.current]),Z({ref:b},T)}const Vn=[48.356,66.687],Kn=5,Xn='&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',Yn="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";function Zn(e){const{model:n,isResize:r=!1,center:t=Vn,zoom:o=Kn,attribution:a=Xn,url:i=Yn,containerProps:s,children:l}=e,[u,c]=ee([n.$map,n.mapMounted]);if(r){const{width:d,height:m,ref:h}=qn();return k.useEffect(()=>{u&&u.invalidateSize()},[d,m]),O(se,{ref:h,...s,children:ae(ue,{ref:c,center:t,zoom:o,style:{width:d,height:m,...e.style},...e,children:[O(le,{attribution:a,url:i}),l]})})}else return O(se,{...s,children:ae(ue,{ref:c,center:t,zoom:o,...e,children:[O(le,{attribution:a,url:i}),l]})})}function pr(e){const{map:n,layer:r}=e;if(typeof r=="object"&&!Array.isArray(r)){const t=r,o={};return Object.keys(t).forEach(a=>{const i=t[a],s=K({source:{map:n,layer:i},effect:({map:l,layer:u},c)=>{if(!l)throw new Error("Map is not defined");if(u.positions.length===0)throw new Error("Positions is empty");l.fitBounds(u.positions)}});o[a]=s}),o}else return K({source:{map:n,layer:r},effect:({map:a,layer:i},s)=>{if(!a)throw new Error("Map is not defined");if(i.positions.length===0)throw new Error("Positions is empty");a.fitBounds(i.positions)}})}const br={Map:Zn,createMap:Dt};var R=63710088e-1,Jn={centimeters:R*100,centimetres:R*100,degrees:R/111325,feet:R*3.28084,inches:R*39.37,kilometers:R/1e3,kilometres:R/1e3,meters:R,metres:R,miles:R/1609.344,millimeters:R*1e3,millimetres:R*1e3,nauticalmiles:R/1852,radians:1,yards:R*1.0936};function Fe(e,n,r){r===void 0&&(r={});var t={type:"Feature"};return(r.id===0||r.id)&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.properties=n||{},t.geometry=e,t}function We(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!we(e[0])||!we(e[1]))throw new Error("coordinates must contain numbers");var t={type:"Point",coordinates:e};return Fe(t,n,r)}function Qn(e,n,r){r===void 0&&(r={});for(var t=0,o=e;t<o.length;t++){var a=o[t];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<a[a.length-1].length;i++)if(a[a.length-1][i]!==a[0][i])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return Fe(s,n,r)}function er(e,n){n===void 0&&(n="kilometers");var r=Jn[n];if(!r)throw new Error(n+" units is invalid");return e/r}function be(e){var n=e%(2*Math.PI);return n*180/Math.PI}function V(e){var n=e%360;return n*Math.PI/180}function we(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Ue(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function tr(e){return e.type==="Feature"?e.geometry:e}function nr(e,n,r){if(r===void 0&&(r={}),!e)throw new Error("point is required");if(!n)throw new Error("polygon is required");var t=Ue(e),o=tr(n),a=o.type,i=n.bbox,s=o.coordinates;if(i&&rr(t,i)===!1)return!1;a==="Polygon"&&(s=[s]);for(var l=!1,u=0;u<s.length&&!l;u++)if(Oe(t,s[u][0],r.ignoreBoundary)){for(var c=!1,d=1;d<s[u].length&&!c;)Oe(t,s[u][d],!r.ignoreBoundary)&&(c=!0),d++;c||(l=!0)}return l}function Oe(e,n,r){var t=!1;n[0][0]===n[n.length-1][0]&&n[0][1]===n[n.length-1][1]&&(n=n.slice(0,n.length-1));for(var o=0,a=n.length-1;o<n.length;a=o++){var i=n[o][0],s=n[o][1],l=n[a][0],u=n[a][1],c=e[1]*(i-l)+s*(l-e[0])+u*(e[0]-i)===0&&(i-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0;if(c)return!r;var d=s>e[1]!=u>e[1]&&e[0]<(l-i)*(e[1]-s)/(u-s)+i;d&&(t=!t)}return t}function rr(e,n){return n[0]<=e[0]&&n[1]<=e[1]&&n[2]>=e[0]&&n[3]>=e[1]}function or(e,n,r,t){t===void 0&&(t={});var o=Ue(e),a=V(o[0]),i=V(o[1]),s=V(r),l=er(n,t.units),u=Math.asin(Math.sin(i)*Math.cos(l)+Math.cos(i)*Math.sin(l)*Math.cos(s)),c=a+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(i),Math.cos(l)-Math.sin(i)*Math.sin(u)),d=be(c),m=be(u);return We([d,m],t.properties)}function ar(e,n,r){r===void 0&&(r={});for(var t=r.steps||64,o=r.properties?r.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},a=[],i=0;i<t;i++)a.push(or(e,n,i*-360/t,r).geometry.coordinates);return a.push(a[0]),Qn([a],o)}const wr=Je(({event:e,clientsPlots:n})=>{const r=e.layer,t=r._leaflet_id,o=r.getLatLng(),a=Math.floor(r.getRadius()),i=ar([o.lng,o.lat],a,{units:"meters"}),s=n.filter(l=>{const u=[];for(const c of l.geometryRings[0]){const d=We([c[1],c[0]]),m=nr(d,i);u.push(m)}return u.includes(!0)});return{circleId:t,clientsPlots:s}});function Or(){const e=B([]),n=e.map(o=>o.length!==0?{guid:o[0].guid,clientId:o[0].clientId,clientName:o[0].clientName,clientBin:o[0].clientBin,clientAddress:o[0].clientAddress,clientActivity:o[0].clientActivity,regionId:o[0].regionId,districtId:o[0].districtId}:null),r=B(!1),t=K({effect:Qe});return r.on(t.pending,(o,a)=>a),e.on(t.doneData,(o,a)=>a),{getClientPlotsFx:t,$clientPlotsPending:r,$clientPlots:e,$client:n}}export{wt as A,Ot as B,Me as L,br as M,vr as P,_e as a,te as b,St as c,re as d,Rt as e,F as f,dr as g,yt as h,st as i,bt as j,gr as k,pr as l,yr as m,wr as n,mr as o,hr as p,Or as q,ct as r,Pe as u};
//# sourceMappingURL=client-plots-9d423b86.js.map
