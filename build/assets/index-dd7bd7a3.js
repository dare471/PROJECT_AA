import{K as Mt,B as N,C as A,L as zt,M as oe,N as Ur,O as $r,E as re,P as Gr,c as Oe,f as he,a as d,d as U,h as ce,m as He,b as f,k as X,Q as lt,I as Se,T as eo,t as Pt,g as ut,o as Ie,U as jr,e as mn,p as Wr,i as se,V as Ht,v as Yr,j as S,l as to,q as qr,W as Kr,F as ke,X as Xr,R as me,Y as xe,Z as Bn,_ as Sn,a0 as bt,a1 as ai,a2 as D,a3 as T,a4 as no,w as z,a5 as si,a6 as Ge,z as ct,a7 as Zr,a8 as Qr,a9 as Jr,aa as ea,ab as ta,ac as na,ad as ia,ae as oa,af as ra,ag as aa,ah as io,D as Ue,S as zn,ai as sa}from"./index-8aff9642.js";import{c as oo,m as st,u as la,l as ua,b as ca,d as da,e as gn,f as Ft,B as I,a as Fe,g as ha,T as x,G as ro,H as fa,F as pa}from"./ui-f9a9afdf.js";import{a as ma,g as ga,c as Ae,S as J,I as Dt,b as Ze}from"./chunk-QODHG6BI-dea21f83.js";function li(n){var{source:t,timeout:o,target:r}=n;if(!Mt.unit(t))throw new TypeError("source must be unit from effector");if(Mt.domain(t,{sid:"jnxv16"}))throw new TypeError("source cannot be domain");var e=va(o),i=N({name:"saveTimeoutId",sid:"f7vear"}),a=A(null,{and:{serialize:"ignore"},name:"$timeoutId",sid:"-50jqki"}).on(i,(v,b)=>b),s=N({name:"saveReject",sid:"-5595t"}),l=A(null,{and:{serialize:"ignore"},name:"$rejecter",sid:"u7x1h9"}).on(s,(v,b)=>b),u=r??N({name:"tick",sid:"-6fizi7"}),c=zt(v=>{var{timeout:b,timeoutId:E,rejectPromise:y}=v;return E&&clearTimeout(E),y&&y(),new Promise((C,P)=>{s(P),i(setTimeout(C,b))})},{name:"timerBaseFx",sid:"-ww7mc3"}),h=oe({and:{source:{timeoutId:a,rejectPromise:l},mapParams:(v,b)=>{var{timeoutId:E,rejectPromise:y}=b;return{timeout:v,timeoutId:E,rejectPromise:y}},effect:c},or:{name:"timerFx",sid:"-4ab544"}});l.reset(h.done),a.reset(h.done);var p=A([],{and:{serialize:"ignore"},name:"$payload",sid:"-5sqiq6"}).on(t,(v,b)=>[b]),m=A(!0,{and:{serialize:"ignore"},name:"$canTick",sid:"-ytfpys"}),g=N({name:"triggerTick",sid:"aamdmm"});m.on(g,()=>!1).on([u,e,h],()=>!0);var _=Ur([t,e],{name:"requestTick",sid:"-8mwak3"});return $r({and:[{clock:_,filter:m,target:g}],or:{sid:"-2h4urv"}}),re({and:[{source:e,clock:g,target:h}],or:{sid:"-22aer4"}}),re({and:[{source:p,clock:h.done,fn:v=>{var[b]=v;return b},target:u}],or:{sid:"-1nfyqd"}}),u}function va(n){if(Mt.store(n,{sid:"-15ujnd"}))return n;if(typeof n=="number"){if(n<0||!Number.isFinite(n))throw new Error('timeout must be positive number or zero. Received: "'.concat(n,'"'));return A(n,{and:{name:"$timeout"},sid:"-x71bft"})}throw new TypeError('timeout parameter in interval method should be number or Store. "'.concat(typeof n,'" was passed'))}class ba{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,o){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,o)})}}const _a=()=>new ba;function ya(){return Gr(_a)}var[La,Nt]=Oe({name:"AccordionStylesContext",hookName:"useAccordionStyles",providerName:"<Accordion />"}),[Ca,Hn]=Oe({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItem />"}),[Ea,bh,wa,Fa]=oo(),Ut=he(function(t,o){const{getButtonProps:r}=Hn(),e=r(t,o),a={display:"flex",alignItems:"center",width:"100%",outline:0,...Nt().button};return d(U.button,{...e,className:ce("chakra-accordion__button",t.className),__css:a})});Ut.displayName="AccordionButton";function ao(n){const{value:t,defaultValue:o,onChange:r,shouldUpdate:e=(p,m)=>p!==m}=n,i=He(r),a=He(e),[s,l]=f.useState(o),u=t!==void 0,c=u?t:s,h=He(p=>{const g=typeof p=="function"?p(c):p;a(c,g)&&(u||l(g),i(g))},[u,i,c,a]);return[c,h]}function Sa(n){const{onChange:t,defaultIndex:o,index:r,allowMultiple:e,allowToggle:i,...a}=n;Ma(n),Pa(n);const s=wa(),[l,u]=f.useState(-1);f.useEffect(()=>()=>{u(-1)},[]);const[c,h]=ao({value:r,defaultValue(){return e?o??[]:o??-1},onChange:t});return{index:c,setIndex:h,htmlProps:a,getAccordionItemProps:m=>{let g=!1;return m!==null&&(g=Array.isArray(c)?c.includes(m):c===m),{isOpen:g,onChange:v=>{if(m!==null)if(e&&Array.isArray(c)){const b=v?c.concat(m):c.filter(E=>E!==m);h(b)}else v?h(m):i&&h(-1)}}},focusedIndex:l,setFocusedIndex:u,descendants:s}}var[ka,Nn]=Oe({name:"AccordionContext",hookName:"useAccordionContext",providerName:"Accordion"});function xa(n){const{isDisabled:t,isFocusable:o,id:r,...e}=n,{getAccordionItemProps:i,setFocusedIndex:a}=Nn(),s=f.useRef(null),l=f.useId(),u=r??l,c=`accordion-button-${u}`,h=`accordion-panel-${u}`;Da(n);const{register:p,index:m,descendants:g}=Fa({disabled:t&&!o}),{isOpen:_,onChange:v}=i(m===-1?null:m);Ta({isOpen:_,isDisabled:t});const b=()=>{v==null||v(!0)},E=()=>{v==null||v(!1)},y=f.useCallback(()=>{v==null||v(!_),a(m)},[m,a,_,v]),C=f.useCallback(w=>{const H={ArrowDown:()=>{const B=g.nextEnabled(m);B==null||B.node.focus()},ArrowUp:()=>{const B=g.prevEnabled(m);B==null||B.node.focus()},Home:()=>{const B=g.firstEnabled();B==null||B.node.focus()},End:()=>{const B=g.lastEnabled();B==null||B.node.focus()}}[w.key];H&&(w.preventDefault(),H(w))},[g,m]),P=f.useCallback(()=>{a(m)},[a,m]),F=f.useCallback(function(M={},H=null){return{...M,type:"button",ref:st(p,s,H),id:c,disabled:!!t,"aria-expanded":!!_,"aria-controls":h,onClick:X(M.onClick,y),onFocus:X(M.onFocus,P),onKeyDown:X(M.onKeyDown,C)}},[c,t,_,y,P,C,h,p]),k=f.useCallback(function(M={},H=null){return{...M,ref:H,role:"region",id:h,"aria-labelledby":c,hidden:!_}},[c,_,h]);return{isOpen:_,isDisabled:t,isFocusable:o,onOpen:b,onClose:E,getButtonProps:F,getPanelProps:k,htmlProps:e}}function Ma(n){const t=n.index||n.defaultIndex,o=t!=null&&!Array.isArray(t)&&n.allowMultiple;lt({condition:!!o,message:`If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: ${typeof t},`})}function Pa(n){lt({condition:!!(n.allowMultiple&&n.allowToggle),message:"If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"})}function Da(n){lt({condition:!!(n.isFocusable&&!n.isDisabled),message:`Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.
    `})}function Ta(n){lt({condition:n.isOpen&&!!n.isDisabled,message:"Cannot open a disabled accordion item"})}function $t(n){const{isOpen:t,isDisabled:o}=Hn(),{reduceMotion:r}=Nn(),e=ce("chakra-accordion__icon",n.className),i=Nt(),a={opacity:o?.4:1,transform:t?"rotate(-180deg)":void 0,transition:r?void 0:"transform 0.2s",transformOrigin:"center",...i.icon};return d(Se,{viewBox:"0 0 24 24","aria-hidden":!0,className:e,__css:a,...n,children:d("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})}$t.displayName="AccordionIcon";var Gt=he(function(t,o){const{children:r,className:e}=t,{htmlProps:i,...a}=xa(t),l={...Nt().container,overflowAnchor:"none"},u=f.useMemo(()=>a,[a]);return d(Ca,{value:u,children:d(U.div,{ref:o,...i,className:ce("chakra-accordion__item",e),__css:l,children:typeof r=="function"?r({isExpanded:!!a.isOpen,isDisabled:!!a.isDisabled}):r})})});Gt.displayName="AccordionItem";var _t={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},ui={enter:(n,t)=>({...n,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(n,t)=>({...n,delay:typeof t=="number"?t:t==null?void 0:t.exit})},Oa=n=>n!=null&&parseInt(n.toString(),10)>0,ci={exit:{height:{duration:.2,ease:_t.ease},opacity:{duration:.3,ease:_t.ease}},enter:{height:{duration:.3,ease:_t.ease},opacity:{duration:.4,ease:_t.ease}}},Ia={exit:({animateOpacity:n,startingHeight:t,transition:o,transitionEnd:r,delay:e})=>{var i;return{...n&&{opacity:Oa(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(i=o==null?void 0:o.exit)!=null?i:ui.exit(ci.exit,e)}},enter:({animateOpacity:n,endingHeight:t,transition:o,transitionEnd:r,delay:e})=>{var i;return{...n&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(i=o==null?void 0:o.enter)!=null?i:ui.enter(ci.enter,e)}}},so=f.forwardRef((n,t)=>{const{in:o,unmountOnExit:r,animateOpacity:e=!0,startingHeight:i=0,endingHeight:a="auto",style:s,className:l,transition:u,transitionEnd:c,...h}=n,[p,m]=f.useState(!1);f.useEffect(()=>{const E=setTimeout(()=>{m(!0)});return()=>clearTimeout(E)},[]),lt({condition:Boolean(i>0&&r),message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const g=parseFloat(i.toString())>0,_={startingHeight:i,endingHeight:a,animateOpacity:e,transition:p?u:{enter:{duration:0}},transitionEnd:{enter:c==null?void 0:c.enter,exit:r?c==null?void 0:c.exit:{...c==null?void 0:c.exit,display:g?"block":"none"}}},v=r?o:!0,b=o||r?"enter":"exit";return d(eo,{initial:!1,custom:_,children:v&&d(Pt.div,{ref:t,...h,className:ce("chakra-collapse",l),style:{overflow:"hidden",display:"block",...s},custom:_,variants:Ia,initial:r?"exit":!1,animate:b,exit:"exit"})})});so.displayName="Collapse";var jt=he(function(t,o){const{className:r,motionProps:e,...i}=t,{reduceMotion:a}=Nn(),{getPanelProps:s,isOpen:l}=Hn(),u=s(i,o),c=ce("chakra-accordion__panel",r),h=Nt();a||delete u.hidden;const p=d(U.div,{...u,__css:h.panel,className:c});return a?p:d(so,{in:l,...e,children:p})});jt.displayName="AccordionPanel";var Wt=he(function({children:t,reduceMotion:o,...r},e){const i=ut("Accordion",r),a=Ie(r),{htmlProps:s,descendants:l,...u}=Sa(a),c=f.useMemo(()=>({...u,reduceMotion:!!o}),[u,o]);return d(Ea,{value:l,children:d(ka,{value:c,children:d(La,{value:i,children:d(U.div,{ref:e,...s,className:ce("chakra-accordion",r.className),__css:i.root,children:t})})})})});Wt.displayName="Accordion";var[Aa,Ra]=jr("Card"),ot=he(function(t,o){const{className:r,...e}=t,i=Ra();return d(U.div,{ref:o,className:ce("chakra-card__body",r),__css:i.body,...e})}),rt=he(function(t,o){const{className:r,children:e,direction:i="column",justify:a,align:s,...l}=Ie(t),u=ut("Card",t);return d(U.div,{ref:o,className:ce("chakra-card",r),__css:{display:"flex",flexDirection:i,justifyContent:a,alignItems:s,position:"relative",minWidth:0,wordWrap:"break-word",...u.container},...l,children:d(Aa,{value:u,children:e})})}),[_h,Va]=Oe({name:"CheckboxGroupContext",strict:!1});function Ba(n){return d(U.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...n,children:d("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function za(n){return d(U.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...n,children:d("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function Ha(n){const{isIndeterminate:t,isChecked:o,...r}=n,e=t?za:Ba;return o||t?d(U.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:d(e,{...r})}):null}var Na={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},di=!1,dt=null,De=!1,kn=!1,xn=new Set;function Un(n,t){xn.forEach(o=>o(n,t))}var Ua=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function $a(n){return!(n.metaKey||!Ua&&n.altKey||n.ctrlKey||n.key==="Control"||n.key==="Shift"||n.key==="Meta")}function hi(n){De=!0,$a(n)&&(dt="keyboard",Un("keyboard",n))}function Ve(n){if(dt="pointer",n.type==="mousedown"||n.type==="pointerdown"){De=!0;const t=n.composedPath?n.composedPath()[0]:n.target;let o=!1;try{o=t.matches(":focus-visible")}catch{}if(o)return;Un("pointer",n)}}function Ga(n){return n.mozInputSource===0&&n.isTrusted?!0:n.detail===0&&!n.pointerType}function ja(n){Ga(n)&&(De=!0,dt="virtual")}function Wa(n){n.target===window||n.target===document||(!De&&!kn&&(dt="virtual",Un("virtual",n)),De=!1,kn=!1)}function Ya(){De=!1,kn=!0}function fi(){return dt!=="pointer"}function qa(){if(typeof window>"u"||di)return;const{focus:n}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...o){De=!0,n.apply(this,o)},document.addEventListener("keydown",hi,!0),document.addEventListener("keyup",hi,!0),document.addEventListener("click",ja,!0),window.addEventListener("focus",Wa,!0),window.addEventListener("blur",Ya,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Ve,!0),document.addEventListener("pointermove",Ve,!0),document.addEventListener("pointerup",Ve,!0)):(document.addEventListener("mousedown",Ve,!0),document.addEventListener("mousemove",Ve,!0),document.addEventListener("mouseup",Ve,!0)),di=!0}function Ka(n){qa(),n(fi());const t=()=>n(fi());return xn.add(t),()=>{xn.delete(t)}}function Xa(n,t=[]){const o=Object.assign({},n);for(const r of t)r in o&&delete o[r];return o}function lo(n={}){const t=ma(n),{isDisabled:o,isReadOnly:r,isRequired:e,isInvalid:i,id:a,onBlur:s,onFocus:l,"aria-describedby":u}=t,{defaultChecked:c,isChecked:h,isFocusable:p,onChange:m,isIndeterminate:g,name:_,value:v,tabIndex:b=void 0,"aria-label":E,"aria-labelledby":y,"aria-invalid":C,...P}=n,F=Xa(P,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),k=He(m),w=He(s),M=He(l),[H,B]=f.useState(!1),[Y,ie]=f.useState(!1),[q,Z]=f.useState(!1),[ne,W]=f.useState(!1);f.useEffect(()=>Ka(B),[]);const $=f.useRef(null),[ae,de]=f.useState(!0),[fe,G]=f.useState(!!c),te=h!==void 0,j=te?h:fe,Q=f.useCallback(R=>{if(r||o){R.preventDefault();return}te||G(j?R.target.checked:g?!0:R.target.checked),k==null||k(R)},[r,o,j,te,g,k]);mn(()=>{$.current&&($.current.indeterminate=Boolean(g))},[g]),Wr(()=>{o&&ie(!1)},[o,ie]),mn(()=>{const R=$.current;R!=null&&R.form&&(R.form.onreset=()=>{G(!!c)})},[]);const le=o&&!p,ue=f.useCallback(R=>{R.key===" "&&W(!0)},[W]),be=f.useCallback(R=>{R.key===" "&&W(!1)},[W]);mn(()=>{if(!$.current)return;$.current.checked!==j&&G($.current.checked)},[$.current]);const Ee=f.useCallback((R={},ve=null)=>{const Me=vt=>{Y&&vt.preventDefault(),W(!0)};return{...R,ref:ve,"data-active":se(ne),"data-hover":se(q),"data-checked":se(j),"data-focus":se(Y),"data-focus-visible":se(Y&&H),"data-indeterminate":se(g),"data-disabled":se(o),"data-invalid":se(i),"data-readonly":se(r),"aria-hidden":!0,onMouseDown:X(R.onMouseDown,Me),onMouseUp:X(R.onMouseUp,()=>W(!1)),onMouseEnter:X(R.onMouseEnter,()=>Z(!0)),onMouseLeave:X(R.onMouseLeave,()=>Z(!1))}},[ne,j,o,Y,H,q,g,i,r]),Xe=f.useCallback((R={},ve=null)=>({...F,...R,ref:st(ve,Me=>{Me&&de(Me.tagName==="LABEL")}),onClick:X(R.onClick,()=>{var Me;ae||((Me=$.current)==null||Me.click(),requestAnimationFrame(()=>{var vt;(vt=$.current)==null||vt.focus()}))}),"data-disabled":se(o),"data-checked":se(j),"data-invalid":se(i)}),[F,o,j,i,ae]),Re=f.useCallback((R={},ve=null)=>({...R,ref:st($,ve),type:"checkbox",name:_,value:v,id:a,tabIndex:b,onChange:X(R.onChange,Q),onBlur:X(R.onBlur,w,()=>ie(!1)),onFocus:X(R.onFocus,M,()=>ie(!0)),onKeyDown:X(R.onKeyDown,ue),onKeyUp:X(R.onKeyUp,be),required:e,checked:j,disabled:le,readOnly:r,"aria-label":E,"aria-labelledby":y,"aria-invalid":C?Boolean(C):i,"aria-describedby":u,"aria-disabled":o,style:Na}),[_,v,a,Q,w,M,ue,be,e,j,le,r,E,y,C,i,u,o,b]),K=f.useCallback((R={},ve=null)=>({...R,ref:ve,onMouseDown:X(R.onMouseDown,pi),onTouchStart:X(R.onTouchStart,pi),"data-disabled":se(o),"data-checked":se(j),"data-invalid":se(i)}),[j,o,i]);return{state:{isInvalid:i,isFocused:Y,isChecked:j,isActive:ne,isHovered:q,isIndeterminate:g,isDisabled:o,isReadOnly:r,isRequired:e},getRootProps:Xe,getCheckboxProps:Ee,getInputProps:Re,getLabelProps:K,htmlProps:F}}function pi(n){n.preventDefault(),n.stopPropagation()}var Za={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},Qa={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Ja=Ht({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),es=Ht({from:{opacity:0},to:{opacity:1}}),ts=Ht({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Mn=he(function(t,o){const r=Va(),e={...r,...t},i=ut("Checkbox",e),a=Ie(t),{spacing:s="0.5rem",className:l,children:u,iconColor:c,iconSize:h,icon:p=d(Ha,{}),isChecked:m,isDisabled:g=r==null?void 0:r.isDisabled,onChange:_,inputProps:v,...b}=a;let E=m;r!=null&&r.value&&a.value&&(E=r.value.includes(a.value));let y=_;r!=null&&r.onChange&&a.value&&(y=Yr(r.onChange,_));const{state:C,getInputProps:P,getCheckboxProps:F,getLabelProps:k,getRootProps:w}=lo({...b,isDisabled:g,isChecked:E,onChange:y}),M=f.useMemo(()=>({animation:C.isIndeterminate?`${es} 20ms linear, ${ts} 200ms linear`:`${Ja} 200ms linear`,fontSize:h,color:c,...i.icon}),[c,h,,C.isIndeterminate,i.icon]),H=f.cloneElement(p,{__css:M,isIndeterminate:C.isIndeterminate,isChecked:C.isChecked});return S(U.label,{__css:{...Qa,...i.container},className:ce("chakra-checkbox",l),...w(),children:[d("input",{className:"chakra-checkbox__input",...P(v,o)}),d(U.span,{__css:{...Za,...i.control},className:"chakra-checkbox__control",...F(),children:H}),u&&d(U.span,{className:"chakra-checkbox__label",...k(),__css:{marginStart:s,...i.label},children:u})]})});Mn.displayName="Checkbox";var tt=he(function(t,o){const r=to("Badge",t),{className:e,...i}=Ie(t);return d(U.span,{ref:o,className:ce("chakra-badge",t.className),...i,__css:{display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle",...r}})});tt.displayName="Badge";function ns(n,t){if(n==null)return{};var o={},r=Object.keys(n),e,i;for(i=0;i<r.length;i++)e=r[i],!(t.indexOf(e)>=0)&&(o[e]=n[e]);return o}var V={},is={get exports(){return V},set exports(n){V=n}},os="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rs=os,as=rs;function uo(){}function co(){}co.resetWarningCache=uo;var ss=function(){function n(r,e,i,a,s,l){if(l!==as){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:co,resetWarningCache:uo};return o.PropTypes=o,o};is.exports=ss();function Pn(n,t){return Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},Pn(n,t)}function Te(n){return Te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Te(n)}function ls(n,t){if(Te(n)!=="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var r=o.call(n,t||"default");if(Te(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function ho(n){var t=ls(n,"string");return Te(t)==="symbol"?t:String(t)}function nt(n,t,o){return t=ho(t),t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}var fo=he(function(t,o){const r=ut("Switch",t),{spacing:e="0.5rem",children:i,...a}=Ie(t),{state:s,getInputProps:l,getCheckboxProps:u,getRootProps:c,getLabelProps:h}=lo(a),p=f.useMemo(()=>({display:"inline-block",position:"relative",verticalAlign:"middle",lineHeight:0,...r.container}),[r.container]),m=f.useMemo(()=>({display:"inline-flex",flexShrink:0,justifyContent:"flex-start",boxSizing:"content-box",cursor:"pointer",...r.track}),[r.track]),g=f.useMemo(()=>({userSelect:"none",marginStart:e,...r.label}),[e,r.label]);return S(U.label,{...c(),className:ce("chakra-switch",t.className),__css:p,children:[d("input",{className:"chakra-switch__input",...l({},o)}),d(U.span,{...u(),className:"chakra-switch__track",__css:m,children:d(U.span,{__css:r.thumb,className:"chakra-switch__thumb","data-checked":se(s.isChecked),"data-hover":se(s.isHovered)})}),i&&d(U.span,{className:"chakra-switch__label",...h(),__css:g,children:i})]})});fo.displayName="Switch";var[us,cs,ds,hs]=oo();function fs(n){var t;const{defaultIndex:o,onChange:r,index:e,isManual:i,isLazy:a,lazyBehavior:s="unmount",orientation:l="horizontal",direction:u="ltr",...c}=n,[h,p]=f.useState(o??0),[m,g]=ao({defaultValue:o??0,value:e,onChange:r});f.useEffect(()=>{e!=null&&p(e)},[e]);const _=ds(),v=f.useId();return{id:`tabs-${(t=n.id)!=null?t:v}`,selectedIndex:m,focusedIndex:h,setSelectedIndex:g,setFocusedIndex:p,isManual:i,isLazy:a,lazyBehavior:s,orientation:l,descendants:_,direction:u,htmlProps:c}}var[ps,Yt]=Oe({name:"TabsContext",errorMessage:"useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"});function ms(n){const{focusedIndex:t,orientation:o,direction:r}=Yt(),e=cs(),i=f.useCallback(a=>{const s=()=>{var E;const y=e.nextEnabled(t);y&&((E=y.node)==null||E.focus())},l=()=>{var E;const y=e.prevEnabled(t);y&&((E=y.node)==null||E.focus())},u=()=>{var E;const y=e.firstEnabled();y&&((E=y.node)==null||E.focus())},c=()=>{var E;const y=e.lastEnabled();y&&((E=y.node)==null||E.focus())},h=o==="horizontal",p=o==="vertical",m=a.key,g=r==="ltr"?"ArrowLeft":"ArrowRight",_=r==="ltr"?"ArrowRight":"ArrowLeft",b={[g]:()=>h&&l(),[_]:()=>h&&s(),ArrowDown:()=>p&&s(),ArrowUp:()=>p&&l(),Home:u,End:c}[m];b&&(a.preventDefault(),b(a))},[e,t,o,r]);return{...n,role:"tablist","aria-orientation":o,onKeyDown:X(n.onKeyDown,i)}}function gs(n){const{isDisabled:t,isFocusable:o,...r}=n,{setSelectedIndex:e,isManual:i,id:a,setFocusedIndex:s,selectedIndex:l}=Yt(),{index:u,register:c}=hs({disabled:t&&!o}),h=u===l,p=()=>{e(u)},m=()=>{s(u),!i&&!(t&&o)&&e(u)},g=la({...r,ref:st(c,n.ref),isDisabled:t,isFocusable:o,onClick:X(n.onClick,p)}),_="button";return{...g,id:po(a,u),role:"tab",tabIndex:h?0:-1,type:_,"aria-selected":h,"aria-controls":mo(a,u),onFocus:t?void 0:X(n.onFocus,m)}}var[vs,bs]=Oe({});function _s(n){const t=Yt(),{id:o,selectedIndex:r}=t,i=ga(n.children).map((a,s)=>f.createElement(vs,{key:s,value:{isSelected:s===r,id:mo(o,s),tabId:po(o,s),selectedIndex:r}},a));return{...n,children:i}}function ys(n){const{children:t,...o}=n,{isLazy:r,lazyBehavior:e}=Yt(),{isSelected:i,id:a,tabId:s}=bs(),l=f.useRef(!1);i&&(l.current=!0);const u=ua({wasSelected:l.current,isSelected:i,enabled:r,mode:e});return{tabIndex:0,...o,children:u?t:null,role:"tabpanel","aria-labelledby":s,hidden:!i,id:a}}function po(n,t){return`${n}--tab-${t}`}function mo(n,t){return`${n}--tabpanel-${t}`}var[Ls,qt]=Oe({name:"TabsStylesContext",errorMessage:`useTabsStyles returned is 'undefined'. Seems you forgot to wrap the components in "<Tabs />" `}),go=he(function(t,o){const r=ut("Tabs",t),{children:e,className:i,...a}=Ie(t),{htmlProps:s,descendants:l,...u}=fs(a),c=f.useMemo(()=>u,[u]),{isFitted:h,...p}=s;return d(us,{value:l,children:d(ps,{value:c,children:d(Ls,{value:r,children:d(U.div,{className:ce("chakra-tabs",i),ref:o,...p,__css:r.root,children:e})})})})});go.displayName="Tabs";var vo=he(function(t,o){const r=ms({...t,ref:o}),i={display:"flex",...qt().tablist};return d(U.div,{...r,className:ce("chakra-tabs__tablist",t.className),__css:i})});vo.displayName="TabList";var St=he(function(t,o){const r=ys({...t,ref:o}),e=qt();return d(U.div,{outline:"0",...r,className:ce("chakra-tabs__tab-panel",t.className),__css:e.tabpanel})});St.displayName="TabPanel";var bo=he(function(t,o){const r=_s(t),e=qt();return d(U.div,{...r,width:"100%",ref:o,className:ce("chakra-tabs__tab-panels",t.className),__css:e.tabpanels})});bo.displayName="TabPanels";var kt=he(function(t,o){const r=qt(),e=gs({...t,ref:o}),i={outline:"0",display:"flex",alignItems:"center",justifyContent:"center",...r.tab};return d(U.button,{...e,className:ce("chakra-tabs__tab",t.className),__css:i})});kt.displayName="Tab";var Cs={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},Tt=n=>{var t;return((t=n.current)==null?void 0:t.ownerDocument)||document},Dn=n=>{var t,o;return((o=(t=n.current)==null?void 0:t.ownerDocument)==null?void 0:o.defaultView)||window};function Es(n={}){const{openDelay:t=0,closeDelay:o=0,closeOnClick:r=!0,closeOnMouseDown:e,closeOnScroll:i,closeOnPointerDown:a=e,closeOnEsc:s=!0,onOpen:l,onClose:u,placement:c,id:h,isOpen:p,defaultIsOpen:m,arrowSize:g=10,arrowShadowColor:_,arrowPadding:v,modifiers:b,isDisabled:E,gutter:y,offset:C,direction:P,...F}=n,{isOpen:k,onOpen:w,onClose:M}=ca({isOpen:p,defaultIsOpen:m,onOpen:l,onClose:u}),{referenceRef:H,getPopperProps:B,getArrowInnerProps:Y,getArrowProps:ie}=da({enabled:k,placement:c,arrowPadding:v,modifiers:b,gutter:y,offset:C,direction:P}),q=f.useId(),ne=`tooltip-${h??q}`,W=f.useRef(null),$=f.useRef(),ae=f.useCallback(()=>{$.current&&(clearTimeout($.current),$.current=void 0)},[]),de=f.useRef(),fe=f.useCallback(()=>{de.current&&(clearTimeout(de.current),de.current=void 0)},[]),G=f.useCallback(()=>{fe(),M()},[M,fe]),te=ws(W,G),j=f.useCallback(()=>{if(!E&&!$.current){te();const K=Dn(W);$.current=K.setTimeout(w,t)}},[te,E,w,t]),Q=f.useCallback(()=>{ae();const K=Dn(W);de.current=K.setTimeout(G,o)},[o,G,ae]),le=f.useCallback(()=>{k&&r&&Q()},[r,Q,k]),ue=f.useCallback(()=>{k&&a&&Q()},[a,Q,k]),be=f.useCallback(K=>{k&&K.key==="Escape"&&Q()},[k,Q]);gn(()=>Tt(W),"keydown",s?be:void 0),gn(()=>Tt(W),"scroll",()=>{k&&i&&G()}),f.useEffect(()=>{E&&(ae(),k&&M())},[E,k,M,ae]),f.useEffect(()=>()=>{ae(),fe()},[ae,fe]),gn(()=>W.current,"pointerleave",Q);const Ee=f.useCallback((K={},we=null)=>({...K,ref:st(W,we,H),onPointerEnter:X(K.onPointerEnter,ve=>{ve.pointerType!=="touch"&&j()}),onClick:X(K.onClick,le),onPointerDown:X(K.onPointerDown,ue),onFocus:X(K.onFocus,j),onBlur:X(K.onBlur,Q),"aria-describedby":k?ne:void 0}),[j,Q,ue,k,ne,le,H]),Xe=f.useCallback((K={},we=null)=>B({...K,style:{...K.style,[Ft.arrowSize.var]:g?`${g}px`:void 0,[Ft.arrowShadowColor.var]:_}},we),[B,g,_]),Re=f.useCallback((K={},we=null)=>{const R={...K.style,position:"relative",transformOrigin:Ft.transformOrigin.varRef};return{ref:we,...F,...K,id:ne,role:"tooltip",style:R}},[F,ne]);return{isOpen:k,show:j,hide:Q,getTriggerProps:Ee,getTooltipProps:Re,getTooltipPositionerProps:Xe,getArrowProps:ie,getArrowInnerProps:Y}}var vn="chakra-ui:close-tooltip";function ws(n,t){return f.useEffect(()=>{const o=Tt(n);return o.addEventListener(vn,t),()=>o.removeEventListener(vn,t)},[t,n]),()=>{const o=Tt(n),r=Dn(n);o.dispatchEvent(new r.CustomEvent(vn))}}function Fs(n,t=[]){const o=Object.assign({},n);for(const r of t)r in o&&delete o[r];return o}function Ss(n,t){const o={};for(const r of t)r in n&&(o[r]=n[r]);return o}var ks=U(Pt.div),_o=he((n,t)=>{var o,r;const e=to("Tooltip",n),i=Ie(n),a=qr(),{children:s,label:l,shouldWrapChildren:u,"aria-label":c,hasArrow:h,bg:p,portalProps:m,background:g,backgroundColor:_,bgColor:v,motionProps:b,...E}=i,y=(r=(o=g??_)!=null?o:p)!=null?r:v;if(y){e.bg=y;const B=Kr(a,"colors",y);e[Ft.arrowBg.var]=B}const C=Es({...E,direction:a.direction}),P=typeof s=="string"||u;let F;if(P)F=d(U.span,{display:"inline-block",tabIndex:0,...C.getTriggerProps(),children:s});else{const B=f.Children.only(s);F=f.cloneElement(B,C.getTriggerProps(B.props,B.ref))}const k=!!c,w=C.getTooltipProps({},t),M=k?Fs(w,["role","id"]):w,H=Ss(w,["role","id"]);return l?S(ke,{children:[F,d(eo,{children:C.isOpen&&d(Xr,{...m,children:d(U.div,{...C.getTooltipPositionerProps(),__css:{zIndex:e.zIndex,pointerEvents:"none"},children:S(ks,{variants:Cs,initial:"exit",animate:"enter",exit:"exit",...b,...M,__css:e,children:[l,k&&d(U.span,{srOnly:!0,...H,children:c}),h&&d(U.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper",children:d(U.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:e.bg}})})]})})})})]}):d(ke,{children:s})});_o.displayName="Tooltip";var mi=Ae({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),gi=Ae({displayName:"MinusIcon",path:d("g",{fill:"currentColor",children:d("rect",{height:"4",width:"20",x:"2",y:"10"})})}),vi=Ae({displayName:"ExternalLinkIcon",path:S("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",children:[d("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),d("path",{d:"M15 3h6v6"}),d("path",{d:"M10 14L21 3"})]})}),xs=Ae({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"}),Ms=Ae({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"}),Ps=Ae({viewBox:"0 0 10 10",d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z",displayName:"DragHandleIcon"}),bi=Ae({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"});function Ds(n,t){const o=f.useRef(t);f.useEffect(function(){t!==o.current&&n.attributionControl!=null&&(o.current!=null&&n.attributionControl.removeAttribution(o.current),t!=null&&n.attributionControl.addAttribution(t)),o.current=t},[n,t])}const Ts=1;function Os(n){return Object.freeze({__version:Ts,map:n})}function $n(n,t){return Object.freeze({...n,...t})}const yo=f.createContext(null),Gn=yo.Provider;function Kt(){const n=f.useContext(yo);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Is(n){function t(o,r){const{instance:e,context:i}=n(o).current;return f.useImperativeHandle(r,()=>e),o.children==null?null:me.createElement(Gn,{value:i},o.children)}return f.forwardRef(t)}function As(n){function t(o,r){const{instance:e}=n(o).current;return f.useImperativeHandle(r,()=>e),null}return f.forwardRef(t)}function Lo(n,t){const o=f.useRef();f.useEffect(function(){return t!=null&&n.instance.on(t),o.current=t,function(){o.current!=null&&n.instance.off(o.current),o.current=null}},[n,t])}function jn(n,t){const o=n.pane??t.pane;return o?{...n,pane:o}:n}function Rs(n){return n.split(" ").filter(Boolean)}function Vs(n,t){Rs(t).forEach(o=>{xe.DomUtil.addClass(n,o)})}function Xt(n,t,o){return Object.freeze({instance:n,context:t,container:o})}function Co(n,t){return t==null?function(r,e){const i=f.useRef();return i.current||(i.current=n(r,e)),i}:function(r,e){const i=f.useRef();i.current||(i.current=n(r,e));const a=f.useRef(r),{instance:s}=i.current;return f.useEffect(function(){a.current!==r&&(t(s,r,a.current),a.current=r)},[s,r,e]),i}}function Eo(n,t){f.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var i;(i=t.layerContainer)==null||i.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function Bs(n){return function(o){const r=Kt(),e=n(jn(o,r),r);return Ds(r.map,o.attribution),Lo(e.current,o.eventHandlers),Eo(e.current,r),e}}function zs(n,t){const o=f.useRef();f.useEffect(function(){if(t.pathOptions!==o.current){const e=t.pathOptions??{};n.instance.setStyle(e),o.current=e}},[n,t])}function Hs(n){return function(o){const r=Kt(),e=n(jn(o,r),r);return Lo(e.current,o.eventHandlers),Eo(e.current,r),zs(e.current,o),e}}function Wn(n,t){const o=Co(n,t),r=Hs(o);return Is(r)}function Ns(n,t){const o=Co(n,t),r=Bs(o);return As(r)}function Us(n,t,o){const{opacity:r,zIndex:e}=t;r!=null&&r!==o.opacity&&n.setOpacity(r),e!=null&&e!==o.zIndex&&n.setZIndex(e)}const $s=Wn(function({children:t,...o},r){const e=new xe.FeatureGroup([],o);return Xt(e,$n(r,{layerContainer:e,overlayContainer:e}))});function Tn(){return Tn=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n},Tn.apply(this,arguments)}function Gs({bounds:n,boundsOptions:t,center:o,children:r,className:e,id:i,placeholder:a,style:s,whenReady:l,zoom:u,...c},h){const[p]=f.useState({className:e,id:i,style:s}),[m,g]=f.useState(null);f.useImperativeHandle(h,()=>(m==null?void 0:m.map)??null,[m]);const _=f.useCallback(b=>{if(b!==null&&m===null){const E=new xe.Map(b,c);o!=null&&u!=null?E.setView(o,u):n!=null&&E.fitBounds(n,t),l!=null&&E.whenReady(l),g(Os(E))}},[]);f.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const v=m?me.createElement(Gn,{value:m},r):a??null;return me.createElement("div",Tn({},p,{ref:_}),v)}const js=f.forwardRef(Gs),Ws=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function _i(n,t){const{[t]:o,...r}=n;return r}function Ys(n,t,o){if(Ws.indexOf(n)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${n}`);if(o.map.getPane(n)!=null)throw new Error(`A pane with this name already exists: ${n}`);const r=t.pane??o.pane,e=r?o.map.getPane(r):void 0,i=o.map.createPane(n,e);return t.className!=null&&Vs(i,t.className),t.style!=null&&Object.keys(t.style).forEach(a=>{i.style[a]=t.style[a]}),i}function qs(n,t){const[o]=f.useState(n.name),[r,e]=f.useState(null);f.useImperativeHandle(t,()=>r,[r]);const i=Kt(),a=f.useMemo(()=>({...i,pane:o}),[i]);return f.useEffect(()=>(e(Ys(o,n,i)),function(){var u;const l=i.map.getPane(o);(u=l==null?void 0:l.remove)==null||u.call(l),i.map._panes!=null&&(i.map._panes=_i(i.map._panes,o),i.map._paneRenderers=_i(i.map._paneRenderers,o))}),[]),n.children!=null&&r!=null?Bn.createPortal(me.createElement(Gn,{value:a},n.children),r):null}const ye=f.forwardRef(qs),Qe=Wn(function({positions:t,...o},r){const e=new xe.Polygon(t,o);return Xt(e,$n(r,{overlayContainer:e}))},function(t,o,r){o.positions!==r.positions&&t.setLatLngs(o.positions)}),yt=Wn(function({positions:t,...o},r){const e=new xe.Polyline(t,o);return Xt(e,$n(r,{overlayContainer:e}))},function(t,o,r){o.positions!==r.positions&&t.setLatLngs(o.positions)}),Ks=Ns(function({url:t,...o},r){const e=new xe.TileLayer(t,jn(o,r));return Xt(e,r)},function(t,o,r){Us(t,o,r);const{url:e}=o;e!=null&&e!==r.url&&t.setUrl(e)});(function(n,t,o){function r(e,i){for(;(e=e.parentElement)&&!e.classList.contains(i););return e}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,i){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,i&&i.shapeOptions&&(i.shapeOptions=L.Util.extend({},this.options.shapeOptions,i.shapeOptions)),L.setOptions(this,i);var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){e.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,i){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,i&&i.drawError&&(i.drawError=L.Util.extend({},this.options.drawError,i.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,i)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),i=this._poly,a=i.getLatLngs(),s=a.splice(-1,1)[0];this._poly.setLatLngs(a),this._markerGroup.removeLayer(e),i.getLatLngs().length<2&&this._map.removeLayer(i),this._vertexChanged(s,!1)}},addVertex:function(e){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(e,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),i=this._poly.newLatLngIntersects(e[e.length-1]);if(!this.options.allowIntersection&&i||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(e){var i=this._map.mouseEventToLayerPoint(e.originalEvent),a=this._map.layerPointToLatLng(i);this._currentLatLng=a,this._updateTooltip(a),this._updateGuide(i),this._mouseMarker.setLatLng(a),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,i){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,i),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var i=e.originalEvent,a=i.clientX,s=i.clientY;this._startPoint.call(this,a,s)}},_startPoint:function(e,i){this._mouseDownOrigin=L.point(e,i)},_onMouseUp:function(e){var i=e.originalEvent,a=i.clientX,s=i.clientY;this._endPoint.call(this,a,s,e),this._clickHandled=null},_endPoint:function(e,i,a){if(this._mouseDownOrigin){var s=L.point(e,i).distanceTo(this._mouseDownOrigin),l=this._calculateFinishDistance(a.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(a.latlng),this._finishShape()):l<10&&L.Browser.touch?this._finishShape():Math.abs(s)<9*(n.devicePixelRatio||1)&&this.addVertex(a.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var i,a,s=e.originalEvent;!s.touches||!s.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(i=s.touches[0].clientX,a=s.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,i,a),this._endPoint.call(this,i,a,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var i;if(this._markers.length>0){var a;if(this.type===L.Draw.Polyline.TYPE)a=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;a=this._markers[0]}var s=this._map.latLngToContainerPoint(a.getLatLng()),l=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),u=this._map.latLngToContainerPoint(l.getLatLng());i=s.distanceTo(u)}else i=1/0;return i},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var i=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(i),i},_updateGuide:function(e){var i=this._markers?this._markers.length:0;i>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[i-1].getLatLng()),e))},_updateTooltip:function(e){var i=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(i)},_drawGuide:function(e,i){var a,s,l,u=Math.floor(Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))),c=this.options.guidelineDistance,h=this.options.maxGuideLineLength,p=u>h?u-h:c;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));p<u;p+=this.options.guidelineDistance)a=p/u,s={x:Math.floor(e.x*(1-a)+a*i.x),y:Math.floor(e.y*(1-a)+a*i.y)},l=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),l.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(l,s)},_updateGuideColor:function(e){if(this._guidesContainer)for(var i=0,a=this._guidesContainer.childNodes.length;i<a;i++)this._guidesContainer.childNodes[i].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,i,a=this.options.showLength;return this._markers.length===0?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(i=a?this._getMeasurementString():"",e=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:i}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:i}),e},_updateRunningMeasure:function(e,i){var a,s,l=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(a=l-(i?2:1),s=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[a].getLatLng())*(this.options.factor||1):this._map.distance(e,this._markers[a].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=s*(i?1:-1))},_getMeasurementString:function(){var e,i=this._currentLatLng,a=this._markers[this._markers.length-1].getLatLng();return e=L.GeometryUtil.isVersion07x()?a&&i&&i.distanceTo?this._measurementRunningTotal+i.distanceTo(a)*(this.options.factor||1):this._measurementRunningTotal||0:a&&i?this._measurementRunningTotal+this._map.distance(i,a)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,i){L.Draw.Polyline.prototype.initialize.call(this,e,i),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;e===1&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,i;return this._markers.length===0?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,i=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,i=this._getMeasurementString()),{text:e,subtext:i}},_getMeasurementString:function(){var e=this._area,i="";return e||this.options.showLength?(this.options.showLength&&(i=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(i+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.options.precision)),i):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,i){var a;!this.options.allowIntersection&&this.options.showArea&&(a=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(a)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,i)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,i){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,i)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var i=e.latlng;this._tooltip.updatePosition(i),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(i))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(e,i){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,i)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!r(e.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,i,a,s=L.Draw.SimpleShape.prototype._getTooltipText.call(this),l=this._shape,u=this.options.showArea;return l&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),i=L.GeometryUtil.geodesicArea(e),a=u?L.GeometryUtil.readableArea(i,this.options.metric):""),{text:s.text,subtext:a}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,i){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,i)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var i=e.latlng;this._tooltip.updatePosition(i),this._mouseMarker.setLatLng(i),this._marker?(i=this._mouseMarker.getLatLng(),this._marker.setLatLng(i)):(this._marker=this._createMarker(i),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,i){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,i)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,i){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,i)},_drawShape:function(e){if(L.GeometryUtil.isVersion07x())var i=this._startLatLng.distanceTo(e);else var i=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(i):(this._shape=new L.Circle(this._startLatLng,i,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var i,a=e.latlng,s=this.options.showRadius,l=this.options.metric;if(this._tooltip.updatePosition(a),this._isDrawing){this._drawShape(a),i=this._shape.getRadius().toFixed(1);var u="";s&&(u=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(i,l,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:u})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,i){this._marker=e,L.setOptions(this,i)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var i=e.target;i.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:i})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,i){var a=parseInt(e.style.marginTop,10)-i,s=parseInt(e.style.marginLeft,10)-i;e.style.marginTop=a+"px",e.style.marginLeft=s+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var i=0;i<this._verticesHandlers.length;i++)e(this._verticesHandlers[i])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(e){e.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(e){e.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(e){e.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,i,a){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,a&&a.drawError&&(a.drawError=L.Util.extend({},this.options.drawError,a.drawError)),this._latlngs=i,L.setOptions(this,a)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,i=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),i&&e.options.editing&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach(function(a){L.DomUtil.removeClass(i,a)}),e.options.editing.className.split(" ").forEach(function(a){L.DomUtil.addClass(i,a)})),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,i=e._path;i&&e.options.editing&&e.options.editing.className&&(e.options.editing.className.split(" ").forEach(function(a){L.DomUtil.removeClass(i,a)}),e.options.original.className&&e.options.original.className.split(" ").forEach(function(a){L.DomUtil.addClass(i,a)})),e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,i,a,s,l=this._defaultShape();for(e=0,a=l.length;e<a;e++)s=this._createMarker(l[e],e),s.on("click",this._onMarkerClick,this),s.on("contextmenu",this._onContextMenu,this),this._markers.push(s);var u,c;for(e=0,i=a-1;e<a;i=e++)(e!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(u=this._markers[i],c=this._markers[e],this._createMiddleMarker(u,c),this._updatePrevNext(u,c))},_createMarker:function(e,i){var a=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return a._origLatLng=e,a._index=i,a.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(a),a},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),i=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),i},_removeMarker:function(e){var i=e._index;this._markerGroup.removeLayer(e),this._markers.splice(i,1),this._spliceLatLngs(i,1),this._updateIndexes(i,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var i=e.target,a=this._poly,s=L.LatLngUtil.cloneLatLng(i._origLatLng);if(L.extend(i._origLatLng,i._latlng),a.options.poly){var l=a._map._editTooltip;if(!a.options.poly.allowIntersection&&a.intersects()){L.extend(i._origLatLng,s),i.setLatLng(s);var u=a.options.color;a.setStyle({color:this.options.drawError.color}),l&&l.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){a.setStyle({color:u}),l&&l.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}i._middleLeft&&i._middleLeft.setLatLng(this._getMiddleLatLng(i._prev,i)),i._middleRight&&i._middleRight.setLatLng(this._getMiddleLatLng(i,i._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var c=this._poly.getLatLngs();this._poly._convertLatLngs(c,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var i=L.Polygon&&this._poly instanceof L.Polygon?4:3,a=e.target;this._defaultShape().length<i||(this._removeMarker(a),this._updatePrevNext(a._prev,a._next),a._middleLeft&&this._markerGroup.removeLayer(a._middleLeft),a._middleRight&&this._markerGroup.removeLayer(a._middleRight),a._prev&&a._next?this._createMiddleMarker(a._prev,a._next):a._prev?a._next||(a._prev._middleRight=null):a._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(e){var i=e.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:i,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var i=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),a=this._map.layerPointToLatLng(i),s=e.target;L.extend(s._origLatLng,a),s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,i){this._markerGroup.eachLayer(function(a){a._index>e&&(a._index+=i)})},_createMiddleMarker:function(e,i){var a,s,l,u=this._getMiddleLatLng(e,i),c=this._createMarker(u);c.setOpacity(.6),e._middleRight=i._middleLeft=c,s=function(){c.off("touchmove",s,this);var h=i._index;c._index=h,c.off("click",a,this).on("click",this._onMarkerClick,this),u.lat=c.getLatLng().lat,u.lng=c.getLatLng().lng,this._spliceLatLngs(h,0,u),this._markers.splice(h,0,c),c.setOpacity(1),this._updateIndexes(h,1),i._index++,this._updatePrevNext(e,c),this._updatePrevNext(c,i),this._poly.fire("editstart")},l=function(){c.off("dragstart",s,this),c.off("dragend",l,this),c.off("touchmove",s,this),this._createMiddleMarker(e,c),this._createMiddleMarker(c,i)},a=function(){s.call(this),l.call(this),this._fireEdit()},c.on("click",a,this).on("dragstart",s,this).on("dragend",l,this).on("touchmove",s,this),this._markerGroup.addLayer(c)},_updatePrevNext:function(e,i){e&&(e._next=i),i&&(i._prev=e)},_getMiddleLatLng:function(e,i){var a=this._poly._map,s=a.project(e.getLatLng()),l=a.project(i.getLatLng());return a.unproject(s._add(l)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,i){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,i)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var i=0,a=this._resizeMarkers.length;i<a;i++)this._unbindMarker(this._resizeMarkers[i]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,i){var a=new L.Marker.Touch(e,{draggable:!0,icon:i,zIndexOffset:10});return this._bindMarker(a),this._markerGroup.addLayer(a),a},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var i=e.target,a=i.getLatLng();i===this._moveMarker?this._move(a):this._resize(a),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),typeof this._getCorners=="function"){var i=this._getCorners(),a=e.target,s=a._cornerIndex;a.setOpacity(0),this._oppositeCorner=i[(s+2)%4],this._toggleCornerMarkers(0,s)}this._shape.fire("editstart")},_onTouchMove:function(e){var i=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),a=this._map.layerPointToLatLng(i);return e.target===this._moveMarker?this._move(a):this._resize(a),this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds(),i=e.getCenter();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var i=0,a=e.length;i<a;i++)this._resizeMarkers.push(this._createMarker(e[i],this.options.resizeIcon)),this._resizeMarkers[i]._cornerIndex=i},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var i=this._getCorners(),a=e.target,s=a._cornerIndex;this._oppositeCorner=i[(s+2)%4],this._toggleCornerMarkers(0,s)},_onMarkerDragEnd:function(e){var i,a,s=e.target;s===this._moveMarker&&(i=this._shape.getBounds(),a=i.getCenter(),s.setLatLng(a)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var i,a=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=this._shape.getBounds(),l=s.getCenter(),u=[],c=0,h=a.length;c<h;c++)i=[a[c].lat-l.lat,a[c].lng-l.lng],u.push([e.lat+i[0],e.lng+i[1]]);this._shape.setLatLngs(u),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var i;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),i=this._shape.getBounds(),this._moveMarker.setLatLng(i.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){for(var i=0,a=this._resizeMarkers.length;i<a;i++)this._resizeMarkers[i].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),i=0,a=this._resizeMarkers.length;i<a;i++)this._resizeMarkers[i].setLatLng(e[i])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var i=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(i)}this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.getLatLng(),i=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(i,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var i=this._shape._radius*Math.cos(Math.PI/4),a=this._map.project(e);return this._map.unproject([a.x+i,a.y-i])},_resize:function(e){var i=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=i.distanceTo(e):radius=this._map.distance(i,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(e,i){var a={};if(e.touches!==void 0){if(!e.touches.length)return;a=e.touches[0]}else if(e.pointerType!=="touch"||(a=e,!this._filterClick(e)))return;var s=this._map.mouseEventToContainerPoint(a),l=this._map.mouseEventToLayerPoint(a),u=this._map.layerPointToLatLng(l);this._map.fire(i,{latlng:u,layerPoint:l,containerPoint:s,pageX:a.pageX,pageY:a.pageY,originalEvent:e})},_filterClick:function(e){var i=e.timeStamp||e.originalEvent.timeStamp,a=L.DomEvent._lastClick&&i-L.DomEvent._lastClick;return a&&a>100&&a<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=i,!0)},_onTouchStart:function(e){this._map._loaded&&this._touchEvent(e,"touchstart")},_onTouchEnd:function(e){this._map._loaded&&this._touchEvent(e,"touchend")},_onTouchCancel:function(e){if(this._map._loaded){var i="touchcancel";this._detectIE()&&(i="pointercancel"),this._touchEvent(e,i)}},_onTouchLeave:function(e){this._map._loaded&&this._touchEvent(e,"touchleave")},_onTouchMove:function(e){this._map._loaded&&this._touchEvent(e,"touchmove")},_detectIE:function(){var e=n.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);if(e.indexOf("Trident/")>0){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}var s=e.indexOf("Edge/");return s>0&&parseInt(e.substring(s+5,e.indexOf(".",s)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,i=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?i.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):i.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var a=0;a<i.length;a++)L.DomEvent.on(e,i[a],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=n.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);if(e.indexOf("Trident/")>0){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}var s=e.indexOf("Edge/");return s>0&&parseInt(e.substring(s+5,e.indexOf(".",s)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var i=[],a=0,s=e.length;a<s;a++)Array.isArray(e[a])?i.push(L.LatLngUtil.cloneLatLngs(e[a])):i.push(this.cloneLatLng(e[a]));return i},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},function(){var e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(i){var a,s,l=i.length,u=0,c=Math.PI/180;if(l>2){for(var h=0;h<l;h++)a=i[h],s=i[(h+1)%l],u+=(s.lng-a.lng)*c*(2+Math.sin(a.lat*c)+Math.sin(s.lat*c));u=6378137*u*6378137/2}return Math.abs(u)},formattedNumber:function(i,a){var s=parseFloat(i).toFixed(a),l=L.drawLocal.format&&L.drawLocal.format.numeric,u=l&&l.delimiters,c=u&&u.thousands,h=u&&u.decimal;if(c||h){var p=s.split(".");s=c?p[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c):p[0],h=h||".",p.length>1&&(s=s+h+p[1])}return s},readableArea:function(i,a,c){var l,u,c=L.Util.extend({},e,c);return a?(u=["ha","m"],type=typeof a,type==="string"?u=[a]:type!=="boolean"&&(u=a),l=i>=1e6&&u.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*i,c.km)+" km²":i>=1e4&&u.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*i,c.ha)+" ha":L.GeometryUtil.formattedNumber(i,c.m)+" m²"):(i/=.836127,l=i>=3097600?L.GeometryUtil.formattedNumber(i/3097600,c.mi)+" mi²":i>=4840?L.GeometryUtil.formattedNumber(i/4840,c.ac)+" acres":L.GeometryUtil.formattedNumber(i,c.yd)+" yd²"),l},readableDistance:function(i,a,s,l,h){var c,h=L.Util.extend({},e,h);switch(a?typeof a=="string"?a:"metric":s?"feet":l?"nauticalMile":"yards"){case"metric":c=i>1e3?L.GeometryUtil.formattedNumber(i/1e3,h.km)+" km":L.GeometryUtil.formattedNumber(i,h.m)+" m";break;case"feet":i*=3.28083,c=L.GeometryUtil.formattedNumber(i,h.ft)+" ft";break;case"nauticalMile":i*=.53996,c=L.GeometryUtil.formattedNumber(i/1e3,h.nm)+" nm";break;case"yards":default:i*=1.09361,c=i>1760?L.GeometryUtil.formattedNumber(i/1760,h.mi)+" miles":L.GeometryUtil.formattedNumber(i,h.yd)+" yd"}return c},isVersion07x:function(){var i=L.version.split(".");return parseInt(i[0],10)===0&&parseInt(i[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,i,a,s){return this._checkCounterclockwise(e,a,s)!==this._checkCounterclockwise(i,a,s)&&this._checkCounterclockwise(e,i,a)!==this._checkCounterclockwise(e,i,s)},_checkCounterclockwise:function(e,i,a){return(a.y-e.y)*(i.x-e.x)>(i.y-e.y)*(a.x-e.x)}}),L.Polyline.include({intersects:function(){var e,i,a,s=this._getProjectedPoints(),l=s?s.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=l-1;e>=3;e--)if(i=s[e-1],a=s[e],this._lineSegmentsIntersectsRange(i,a,e-2))return!0;return!1},newLatLngIntersects:function(e,i){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),i)},newPointIntersects:function(e,i){var a=this._getProjectedPoints(),s=a?a.length:0,l=a?a[s-1]:null,u=s-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(l,e,u,i?1:0)},_tooFewPointsForIntersection:function(e){var i=this._getProjectedPoints(),a=i?i.length:0;return a+=e||0,!i||a<=3},_lineSegmentsIntersectsRange:function(e,i,a,s){var l,u,c=this._getProjectedPoints();s=s||0;for(var h=a;h>s;h--)if(l=c[h-1],u=c[h],L.LineUtil.segmentsIntersect(e,i,l,u))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],i=this._defaultShape(),a=0;a<i.length;a++)e.push(this._map.latLngToLayerPoint(i[a]));return e}}),L.Polygon.include({intersects:function(){var e,i,a,s,l=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(e=l.length,i=l[0],a=l[e-1],s=e-2,this._lineSegmentsIntersectsRange(a,i,s,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,e);var i;this._toolbars={},L.DrawToolbar&&this.options.draw&&(i=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=i,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(i=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=i,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var i,a=L.DomUtil.create("div","leaflet-draw"),s=!1;for(var l in this._toolbars)this._toolbars.hasOwnProperty(l)&&(i=this._toolbars[l].addToolbar(e))&&(s||(L.DomUtil.hasClass(i,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(i.childNodes[0],"leaflet-draw-toolbar-top"),s=!0),a.appendChild(i));return a},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var i in this._toolbars)this._toolbars[i]instanceof L.DrawToolbar&&this._toolbars[i].setOptions(e)},_toolbarEnabled:function(e){var i=e.target;for(var a in this._toolbars)this._toolbars[a]!==i&&this._toolbars[a].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null;var i=L.version.split(".");parseInt(i[0],10)===1&&parseInt(i[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var i,a=L.DomUtil.create("div","leaflet-draw-section"),s=0,l=this._toolbarClass||"",u=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,i=0;i<u.length;i++)u[i].enabled&&this._initModeHandler(u[i].handler,this._toolbarContainer,s++,l,u[i].title);if(s)return this._lastButtonIndex=--s,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),a.appendChild(this._toolbarContainer),a.appendChild(this._actionsContainer),a},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var i=0,a=this._actionButtons.length;i<a;i++)this._disposeButton(this._actionButtons[i].button,this._actionButtons[i].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,i,a,s,l){var u=e.type;this._modes[u]={},this._modes[u].handler=e,this._modes[u].button=this._createButton({type:u,title:l,className:s+"-"+u,container:i,callback:this._modes[u].handler.enable,context:this._modes[u].handler}),this._modes[u].buttonIndex=a,this._modes[u].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(e){var i=L.DomUtil.create("a",e.className||"",e.container),a=L.DomUtil.create("span","sr-only",e.container);i.href="#",i.appendChild(a),e.title&&(i.title=e.title,a.innerHTML=e.title),e.text&&(i.innerHTML=e.text,a.innerHTML=e.text);var s=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(i,"click",L.DomEvent.stopPropagation).on(i,"mousedown",L.DomEvent.stopPropagation).on(i,"dblclick",L.DomEvent.stopPropagation).on(i,"touchstart",L.DomEvent.stopPropagation).on(i,"click",L.DomEvent.preventDefault).on(i,s,e.callback,e.context),i},_disposeButton:function(e,i){var a=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,a,i)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var i,a,s,l,u=this._actionsContainer,c=this.getActions(e),h=c.length;for(a=0,s=this._actionButtons.length;a<s;a++)this._disposeButton(this._actionButtons[a].button,this._actionButtons[a].callback);for(this._actionButtons=[];u.firstChild;)u.removeChild(u.firstChild);for(var p=0;p<h;p++)"enabled"in c[p]&&!c[p].enabled||(i=L.DomUtil.create("li","",u),l=this._createButton({title:c[p].title,text:c[p].text,container:i,callback:c[p].callback,context:c[p].context}),this._actionButtons.push({button:l,callback:c[p].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,i=this._lastButtonIndex,a=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=a+"px",e===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===i&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",e.subtext.length!==0||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(e){var i=this._map.latLngToLayerPoint(e),a=this._container;return this._container&&(this._visible&&(a.style.visibility="inherit"),L.DomUtil.setPosition(a,i)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var i in this.options)this.options.hasOwnProperty(i)&&e[i]&&(e[i]=L.extend({},this.options[i],e[i]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){L.setOptions(this,e);for(var i in this._modes)this._modes.hasOwnProperty(i)&&e.hasOwnProperty(i)&&this._modes[i].handler.setOptions(e[i])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&(e.edit.selectedPathOptions===void 0&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var i=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:i,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:i}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var i=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&i.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),i},addToolbar:function(e){var i=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),i},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,i=this.options.featureGroup,a=i.getLayers().length!==0;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,a?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",a?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,a?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",a?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,i){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,i),this._featureGroup=i.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(e){this._revertLayer(e)},this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer(function(i){i.edited&&(e.addLayer(i),i.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var i=L.Util.stamp(e);this._uneditedLayerProps[i]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[i]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[i]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._uneditedLayerProps[i]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var i=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(i)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[i].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[i].latlng),e.setRadius(this._uneditedLayerProps[i].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[i].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var i,a,s=e.layer||e.target||e;this._backupLayer(s),this.options.poly&&(a=L.Util.extend({},this.options.poly),s.options.poly=a),this.options.selectedPathOptions&&(i=L.Util.extend({},this.options.selectedPathOptions),i.maintainColor&&(i.color=s.options.color,i.fillColor=s.options.fillColor),s.options.original=L.extend({},s.options),s.options.editing=i),s instanceof L.Marker?(s.editing&&s.editing.enable(),s.dragging.enable(),s.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.enable()},_disableLayerEdit:function(e){var i=e.layer||e.target||e;i.edited=!1,i.editing&&i.editing.disable(),delete i.options.editing,delete i.options.original,this._selectedPathOptions&&(i instanceof L.Marker?this._toggleMarkerHighlight(i):(i.setStyle(i.options.previousOptions),delete i.options.previousOptions)),i instanceof L.Marker?(i.dragging.disable(),i.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):i.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var i=e.target;i.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:i})},_onTouchMove:function(e){var i=e.originalEvent.changedTouches[0],a=this._map.mouseEventToLayerPoint(i),s=this._map.layerPointToLatLng(a);e.target.setLatLng(s)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(e,i){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,i),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var a=L.version.split(".");parseInt(a[0],10)===1&&parseInt(a[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(e){this._removeLayer({layer:e})},this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var i=e.layer||e.target||e;i.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(i)},_removeLayer:function(e){var i=e.layer||e.target||e;this._deletableLayers.removeLayer(i),this._deletedLayers.addLayer(i),i.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);var yi=function n(t,o){if(t===o)return!0;if(t&&o&&typeof t=="object"&&typeof o=="object"){if(t.constructor!==o.constructor)return!1;var r,e,i;if(Array.isArray(t)){if(r=t.length,r!=o.length)return!1;for(e=r;e--!==0;)if(!n(t[e],o[e]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(o).length)return!1;for(e=r;e--!==0;)if(!Object.prototype.hasOwnProperty.call(o,i[e]))return!1;for(e=r;e--!==0;){var a=i[e];if(!n(t[a],o[a]))return!1}return!0}return t!==t&&o!==o};function Li(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),o.push.apply(o,r)}return o}function at(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Li(Object(o),!0).forEach(function(r){Xs(n,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Li(Object(o)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(o,r))})}return n}function Xs(n,t,o){return t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}var Pe={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function wo(n){var t=Kt(),o=f.useRef(),r=f.useRef(n),e=function(a){var s=n.onCreated,l=t.layerContainer||t.map;l.addLayer(a.layer),s&&s(a)};return me.useEffect(function(){var i=t.map,a=n.onMounted;for(var s in Pe)i.on(Pe[s],function(l){var u=Object.keys(Pe).filter(function(h){return Pe[h]===l.type});if(u.length===1){var c=u[0];n[c]&&n[c](l)}});return i.on(Sn.Draw.Event.CREATED,e),o.current=Ci(n,t),i.addControl(o.current),a&&a(o.current),function(){i.off(Sn.Draw.Event.CREATED,e);for(var l in Pe)n[l]&&i.off(Pe[l],n[l]);o.current.remove(i)}},[]),me.useEffect(function(){if(!(yi(n.draw,r.current.draw)&&yi(n.edit,r.current.edit)&&n.position===r.current.position)){var i=t.map;o.current.remove(i),o.current=Ci(n,t),o.current.addTo(i);var a=n.onMounted;return a&&a(o.current),function(){o.current.remove(i)}}},[n.draw,n.edit,n.position]),null}function Ci(n,t){var o=t.layerContainer,r=n.draw,e=n.edit,i=n.position,a={edit:at(at({},e),{},{featureGroup:o})};return r&&(a.draw=at({},r)),i&&(a.position=i),new xe.Control.Draw(a)}wo.propTypes=at(at({},Object.keys(Pe).reduce(function(n,t){return n[t]=V.PropTypes.func,n},{})),{},{onCreated:V.PropTypes.func,onMounted:V.PropTypes.func,draw:V.PropTypes.shape({polyline:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),polygon:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),rectangle:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),circle:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),marker:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool])}),edit:V.PropTypes.shape({edit:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),remove:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),poly:V.PropTypes.oneOfType([V.PropTypes.object,V.PropTypes.bool]),allowIntersection:V.PropTypes.bool}),position:V.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:V.PropTypes.shape({map:V.PropTypes.instanceOf(xe.Map),layerContainer:V.PropTypes.shape({addLayer:V.PropTypes.func.isRequired,removeLayer:V.PropTypes.func.isRequired})})});function Zs(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Yn=Zs,Qs=typeof bt=="object"&&bt&&bt.Object===Object&&bt,Js=Qs,el=Js,tl=typeof self=="object"&&self&&self.Object===Object&&self,nl=el||tl||Function("return this")(),Fo=nl,il=Fo,ol=function(){return il.Date.now()},rl=ol,al=/\s/;function sl(n){for(var t=n.length;t--&&al.test(n.charAt(t)););return t}var ll=sl,ul=ll,cl=/^\s+/;function dl(n){return n&&n.slice(0,ul(n)+1).replace(cl,"")}var hl=dl,fl=Fo,pl=fl.Symbol,So=pl,Ei=So,ko=Object.prototype,ml=ko.hasOwnProperty,gl=ko.toString,Je=Ei?Ei.toStringTag:void 0;function vl(n){var t=ml.call(n,Je),o=n[Je];try{n[Je]=void 0;var r=!0}catch{}var e=gl.call(n);return r&&(t?n[Je]=o:delete n[Je]),e}var bl=vl,_l=Object.prototype,yl=_l.toString;function Ll(n){return yl.call(n)}var Cl=Ll,wi=So,El=bl,wl=Cl,Fl="[object Null]",Sl="[object Undefined]",Fi=wi?wi.toStringTag:void 0;function kl(n){return n==null?n===void 0?Sl:Fl:Fi&&Fi in Object(n)?El(n):wl(n)}var xl=kl;function Ml(n){return n!=null&&typeof n=="object"}var Pl=Ml,Dl=xl,Tl=Pl,Ol="[object Symbol]";function Il(n){return typeof n=="symbol"||Tl(n)&&Dl(n)==Ol}var Al=Il,Rl=hl,Si=Yn,Vl=Al,ki=0/0,Bl=/^[-+]0x[0-9a-f]+$/i,zl=/^0b[01]+$/i,Hl=/^0o[0-7]+$/i,Nl=parseInt;function Ul(n){if(typeof n=="number")return n;if(Vl(n))return ki;if(Si(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=Si(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=Rl(n);var o=zl.test(n);return o||Hl.test(n)?Nl(n.slice(2),o?2:8):Bl.test(n)?ki:+n}var $l=Ul,Gl=Yn,bn=rl,xi=$l,jl="Expected a function",Wl=Math.max,Yl=Math.min;function ql(n,t,o){var r,e,i,a,s,l,u=0,c=!1,h=!1,p=!0;if(typeof n!="function")throw new TypeError(jl);t=xi(t)||0,Gl(o)&&(c=!!o.leading,h="maxWait"in o,i=h?Wl(xi(o.maxWait)||0,t):i,p="trailing"in o?!!o.trailing:p);function m(F){var k=r,w=e;return r=e=void 0,u=F,a=n.apply(w,k),a}function g(F){return u=F,s=setTimeout(b,t),c?m(F):a}function _(F){var k=F-l,w=F-u,M=t-k;return h?Yl(M,i-w):M}function v(F){var k=F-l,w=F-u;return l===void 0||k>=t||k<0||h&&w>=i}function b(){var F=bn();if(v(F))return E(F);s=setTimeout(b,_(F))}function E(F){return s=void 0,p&&r?m(F):(r=e=void 0,a)}function y(){s!==void 0&&clearTimeout(s),u=0,r=l=e=s=void 0}function C(){return s===void 0?a:E(bn())}function P(){var F=bn(),k=v(F);if(r=arguments,e=this,l=F,k){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(b,t),m(l)}return s===void 0&&(s=setTimeout(b,t)),a}return P.cancel=y,P.flush=C,P}var xo=ql,Kl=xo,Xl=Yn,Zl="Expected a function";function Ql(n,t,o){var r=!0,e=!0;if(typeof n!="function")throw new TypeError(Zl);return Xl(o)&&(r="leading"in o?!!o.leading:r,e="trailing"in o?!!o.trailing:e),Kl(n,t,{leading:r,maxWait:t,trailing:e})}var Jl=Ql,On=function(n,t){return On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var e in r)r.hasOwnProperty(e)&&(o[e]=r[e])},On(n,t)};function eu(n,t){On(n,t);function o(){this.constructor=n}n.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var In=function(){return In=Object.assign||function(t){for(var o,r=1,e=arguments.length;r<e;r++){o=arguments[r];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}return t},In.apply(this,arguments)};function tu(n,t){var o={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(o[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var e=0,r=Object.getOwnPropertySymbols(n);e<r.length;e++)t.indexOf(r[e])<0&&Object.prototype.propertyIsEnumerable.call(n,r[e])&&(o[r[e]]=n[r[e]]);return o}var Mo=function(n,t,o,r){switch(t){case"debounce":return xo(n,o,r);case"throttle":return Jl(n,o,r);default:return n}},Mi=function(n){return typeof n=="function"},ze=function(){return typeof window>"u"},Pi=function(n){return n instanceof Element||n instanceof HTMLDocument},Po=function(n,t,o,r){return function(e){var i=e.width,a=e.height;t(function(s){return s.width===i&&s.height===a||s.width===i&&!r||s.height===a&&!o?s:(n==null||n(i,a),{width:i,height:a})})}};(function(n){eu(t,n);function t(o){var r=n.call(this,o)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var u=r.props,c=u.targetRef,h=u.observerOptions;if(!ze()){c&&c.current&&(r.targetRef.current=c.current);var p=r.getElement();p&&(r.observableElement&&r.observableElement===p||(r.observableElement=p,r.resizeObserver.observe(p,h)))}},r.getElement=function(){var u=r.props,c=u.querySelector,h=u.targetDomEl;if(ze())return null;if(c)return document.querySelector(c);if(h&&Pi(h))return h;if(r.targetRef&&Pi(r.targetRef.current))return r.targetRef.current;var p=Bn.findDOMNode(r);if(!p)return null;var m=r.getRenderType();switch(m){case"renderProp":return p;case"childFunction":return p;case"child":return p;case"childArray":return p;default:return p.parentElement}},r.createResizeHandler=function(u){var c=r.props,h=c.handleWidth,p=h===void 0?!0:h,m=c.handleHeight,g=m===void 0?!0:m,_=c.onResize;if(!(!p&&!g)){var v=Po(_,r.setState.bind(r),p,g);u.forEach(function(b){var E=b&&b.contentRect||{},y=E.width,C=E.height,P=!r.skipOnMount&&!ze();P&&v({width:y,height:C}),r.skipOnMount=!1})}},r.getRenderType=function(){var u=r.props,c=u.render,h=u.children;return Mi(c)?"renderProp":Mi(h)?"childFunction":f.isValidElement(h)?"child":Array.isArray(h)?"childArray":"parent"};var e=o.skipOnMount,i=o.refreshMode,a=o.refreshRate,s=a===void 0?1e3:a,l=o.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=e,r.targetRef=f.createRef(),r.observableElement=null,ze()||(r.resizeHandler=Mo(r.createResizeHandler,i,s,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){ze()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var o=this.props,r=o.render,e=o.children,i=o.nodeType,a=i===void 0?"div":i,s=this.state,l=s.width,u=s.height,c={width:l,height:u,targetRef:this.targetRef},h=this.getRenderType();switch(h){case"renderProp":return r==null?void 0:r(c);case"childFunction":{var p=e;return p==null?void 0:p(c)}case"child":{var m=e;if(m.type&&typeof m.type=="string"){c.targetRef;var g=tu(c,["targetRef"]);return f.cloneElement(m,g)}return f.cloneElement(m,c)}case"childArray":{var _=e;return _.map(function(v){return!!v&&f.cloneElement(v,c)})}default:return f.createElement(a,null)}},t})(f.PureComponent);var nu=ze()?f.useEffect:f.useLayoutEffect;function iu(n){n===void 0&&(n={});var t=n.skipOnMount,o=t===void 0?!1:t,r=n.refreshMode,e=n.refreshRate,i=e===void 0?1e3:e,a=n.refreshOptions,s=n.handleWidth,l=s===void 0?!0:s,u=n.handleHeight,c=u===void 0?!0:u,h=n.targetRef,p=n.observerOptions,m=n.onResize,g=f.useRef(o),_=f.useRef(null),v=f.useRef(),b=h??_,E=f.useState({width:void 0,height:void 0}),y=E[0],C=E[1];return nu(function(){if(!(!l&&!c)){var P=Po(m,C,l,c),F=function(w){!l&&!c||w.forEach(function(M){var H=M&&M.contentRect||{},B=H.width,Y=H.height,ie=!g.current;ie&&P({width:B,height:Y}),g.current=!1})};v.current=Mo(F,r,i,a);var k=new window.ResizeObserver(v.current);return b.current&&k.observe(b.current,p),function(){var w,M;k.disconnect(),(M=(w=v.current).cancel)===null||M===void 0||M.call(w)}}},[r,i,a,l,c,m,p,b.current]),In({ref:b},y)}var pe=63710088e-1,ou={centimeters:pe*100,centimetres:pe*100,degrees:pe/111325,feet:pe*3.28084,inches:pe*39.37,kilometers:pe/1e3,kilometres:pe/1e3,meters:pe,metres:pe,miles:pe/1609.344,millimeters:pe*1e3,millimetres:pe*1e3,nauticalmiles:pe/1852,radians:1,yards:pe*1.0936};function Do(n,t,o){o===void 0&&(o={});var r={type:"Feature"};return(o.id===0||o.id)&&(r.id=o.id),o.bbox&&(r.bbox=o.bbox),r.properties=t||{},r.geometry=n,r}function To(n,t,o){if(o===void 0&&(o={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Ti(n[0])||!Ti(n[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:n};return Do(r,t,o)}function ru(n,t,o){o===void 0&&(o={});for(var r=0,e=n;r<e.length;r++){var i=e[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++)if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:n};return Do(s,t,o)}function au(n,t){t===void 0&&(t="kilometers");var o=ou[t];if(!o)throw new Error(t+" units is invalid");return n/o}function Di(n){var t=n%(2*Math.PI);return t*180/Math.PI}function _n(n){var t=n%360;return t*Math.PI/180}function Ti(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Oo(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function su(n){return n.type==="Feature"?n.geometry:n}function lu(n,t,o){if(o===void 0&&(o={}),!n)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=Oo(n),e=su(t),i=e.type,a=t.bbox,s=e.coordinates;if(a&&uu(r,a)===!1)return!1;i==="Polygon"&&(s=[s]);for(var l=!1,u=0;u<s.length&&!l;u++)if(Oi(r,s[u][0],o.ignoreBoundary)){for(var c=!1,h=1;h<s[u].length&&!c;)Oi(r,s[u][h],!o.ignoreBoundary)&&(c=!0),h++;c||(l=!0)}return l}function Oi(n,t,o){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var e=0,i=t.length-1;e<t.length;i=e++){var a=t[e][0],s=t[e][1],l=t[i][0],u=t[i][1],c=n[1]*(a-l)+s*(l-n[0])+u*(n[0]-a)===0&&(a-n[0])*(l-n[0])<=0&&(s-n[1])*(u-n[1])<=0;if(c)return!o;var h=s>n[1]!=u>n[1]&&n[0]<(l-a)*(n[1]-s)/(u-s)+a;h&&(r=!r)}return r}function uu(n,t){return t[0]<=n[0]&&t[1]<=n[1]&&t[2]>=n[0]&&t[3]>=n[1]}function cu(n,t,o,r){r===void 0&&(r={});var e=Oo(n),i=_n(e[0]),a=_n(e[1]),s=_n(o),l=au(t,r.units),u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s)),c=i+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u)),h=Di(c),p=Di(u);return To([h,p],r.properties)}function du(n,t,o){o===void 0&&(o={});for(var r=o.steps||64,e=o.properties?o.properties:!Array.isArray(n)&&n.type==="Feature"&&n.properties?n.properties:{},i=[],a=0;a<r;a++)i.push(cu(n,t,a*-360/r,o).geometry.coordinates);return i.push(i[0]),ru([i],e)}function hu(n){return Object.keys(n).reduce((t,o)=>{const r=n[o];return Mt.unit(r)&&(t[o]=r),t},{})}function fu(n){return Object.keys(n).reduce((t,o)=>{const r=o.replace(/^\$/,"");return t[r]=n[o],t},{})}const pu=n=>{const t=f.createContext(null),o=()=>{const e=f.useContext(t);if(!e)throw new Error("No model found");return e},r=()=>{const e=o(),i=hu(e);return fu(i)};return{createModel:n,useModel:o,Provider:t.Provider,"@@unitShape":r}},mu=(n,t)=>r=>d(n.Provider,{value:r.model,children:d(t,{...r})}),Zt=pu(function(t){const{districtId:o}=t,r=N(),e=N(),i=N(),a=N(),s=A("name"),l=A(""),u=A(""),c=A([]),h=c.map(y=>y.map(C=>({label:C.clientName,value:C.clientId}))),p=c.map(y=>y.map(C=>({label:C.clientIin,value:C.clientId}))),m=A(null),g=m.map(y=>y?{label:y.clientName,value:Number(y.clientId)}:null),_=m.map(y=>y?{label:y.clientIin,value:Number(y.clientId)}:null),v=A(!1),b=oe({effect:ai,source:{districtId:o,clientName:l},mapParams:(y,{districtId:C,clientName:P})=>{if(!C)throw new Error("districtId is null");if(P==="")throw new Error("clientName is empty");return{districtId:C,clientName:P}}}),E=oe({effect:ai,source:{districtId:o,clientBin:u},mapParams:(y,{districtId:C,clientBin:P})=>{if(!C)throw new Error("districtId is null");if(P==="")throw new Error("clientBin is empty");return{districtId:C,clientBin:Number(P)}}});return l.on(e,(y,C)=>C),u.on(i,(y,C)=>C),s.on(r,y=>y==="name"?"bin":"name"),li({source:l,timeout:500,target:b}),li({source:u,timeout:500,target:E}),v.on([b.pending,E.pending],(y,C)=>C),c.on([b.doneData,E.doneData],(y,C)=>C),c.reset(b,E,s),l.reset(s),u.reset(s),re({clock:a,source:c,fn:(y,C)=>y.find(P=>P.clientId===C)??null,target:m}),{clientSearchTypeChanged:r,clientNameFieldChanged:e,clientBinFieldChanged:i,clientHintClicked:a,$clientSearchType:s,$clientNameField:l,$clientBinField:u,$clientSearchHints:c,$clientSearchNameOptions:h,$clientSearchBinOptions:p,$clientSearchHintsPending:v,$districtId:o,$currentClientHint:m,$currentClientHintNameOption:g,$currentClientHintBinOption:_}});function Ii(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),o.push.apply(o,r)}return o}function O(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Ii(Object(o),!0).forEach(function(r){nt(n,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):Ii(Object(o)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(o,r))})}return n}function gu(n){if(Array.isArray(n))return n}function vu(n,t){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var r,e,i,a,s=[],l=!0,u=!1;try{if(i=(o=o.call(n)).next,t===0){if(Object(o)!==o)return;l=!1}else for(;!(l=(r=i.call(o)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,e=c}finally{try{if(!l&&o.return!=null&&(a=o.return(),Object(a)!==a))return}finally{if(u)throw e}}return s}}function An(n,t){(t==null||t>n.length)&&(t=n.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=n[o];return r}function Io(n,t){if(n){if(typeof n=="string")return An(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return An(n,t)}}function bu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Le(n,t){return gu(n)||vu(n,t)||Io(n,t)||bu()}function je(n,t){if(n==null)return{};var o=ns(n,t),r,e;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(e=0;e<i.length;e++)r=i[e],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}var _u=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function yu(n){var t=n.defaultInputValue,o=t===void 0?"":t,r=n.defaultMenuIsOpen,e=r===void 0?!1:r,i=n.defaultValue,a=i===void 0?null:i,s=n.inputValue,l=n.menuIsOpen,u=n.onChange,c=n.onInputChange,h=n.onMenuClose,p=n.onMenuOpen,m=n.value,g=je(n,_u),_=f.useState(s!==void 0?s:o),v=Le(_,2),b=v[0],E=v[1],y=f.useState(l!==void 0?l:e),C=Le(y,2),P=C[0],F=C[1],k=f.useState(m!==void 0?m:a),w=Le(k,2),M=w[0],H=w[1],B=f.useCallback(function($,ae){typeof u=="function"&&u($,ae),H($)},[u]),Y=f.useCallback(function($,ae){var de;typeof c=="function"&&(de=c($,ae)),E(de!==void 0?de:$)},[c]),ie=f.useCallback(function(){typeof p=="function"&&p(),F(!0)},[p]),q=f.useCallback(function(){typeof h=="function"&&h(),F(!1)},[h]),Z=s!==void 0?s:b,ne=l!==void 0?l:P,W=m!==void 0?m:M;return O(O({},g),{},{inputValue:Z,menuIsOpen:ne,onChange:B,onInputChange:Y,onMenuClose:q,onMenuOpen:ie,value:W})}function Lu(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function Ai(n,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ho(r.key),r)}}function Cu(n,t,o){return t&&Ai(n.prototype,t),o&&Ai(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function Eu(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Pn(n,t)}function Ot(n){return Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},Ot(n)}function wu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Fu(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Su(n,t){if(t&&(Te(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fu(n)}function ku(n){var t=wu();return function(){var r=Ot(n),e;if(t){var i=Ot(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return Su(this,e)}}function xu(n){if(Array.isArray(n))return An(n)}function Mu(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Pu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ao(n){return xu(n)||Mu(n)||Io(n)||Pu()}function Du(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function _e(n){var t;return((t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Ro(n){return _e(n).getComputedStyle(n)}const It=Math.round;function Tu(n){const t=Ro(n);let o=parseFloat(t.width),r=parseFloat(t.height);const e=n.offsetWidth,i=n.offsetHeight,a=It(o)!==e||It(r)!==i;return a&&(o=e,r=i),{width:o,height:r,fallback:a}}function Vo(n){return zo(n)?(n.nodeName||"").toLowerCase():""}let Lt;function Ou(){if(Lt)return Lt;const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?(Lt=n.brands.map(t=>t.brand+"/"+t.version).join(" "),Lt):navigator.userAgent}function Bo(n){return n instanceof _e(n).HTMLElement}function Ne(n){return n instanceof _e(n).Element}function zo(n){return n instanceof _e(n).Node}function Ri(n){return typeof ShadowRoot>"u"?!1:n instanceof _e(n).ShadowRoot||n instanceof ShadowRoot}function Ho(n){const{overflow:t,overflowX:o,overflowY:r,display:e}=Ro(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+o)&&!["inline","contents"].includes(e)}function Iu(){return/^((?!chrome|android).)*safari/i.test(Ou())}function Au(n){return["html","body","#document"].includes(Vo(n))}function No(n){return Ne(n)?n:n.contextElement}const Uo={x:1,y:1};function yn(n){const t=No(n);if(!Bo(t))return Uo;const o=t.getBoundingClientRect(),{width:r,height:e,fallback:i}=Tu(t);let a=(i?It(o.width):o.width)/r,s=(i?It(o.height):o.height)/e;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}function Vi(n,t,o,r){var e,i;t===void 0&&(t=!1),o===void 0&&(o=!1);const a=n.getBoundingClientRect(),s=No(n);let l=Uo;t&&(r?Ne(r)&&(l=yn(r)):l=yn(n));const u=s?_e(s):window,c=Iu()&&o;let h=(a.left+(c&&((e=u.visualViewport)==null?void 0:e.offsetLeft)||0))/l.x,p=(a.top+(c&&((i=u.visualViewport)==null?void 0:i.offsetTop)||0))/l.y,m=a.width/l.x,g=a.height/l.y;if(s){const _=_e(s),v=r&&Ne(r)?_e(r):r;let b=_.frameElement;for(;b&&r&&v!==_;){const E=yn(b),y=b.getBoundingClientRect(),C=getComputedStyle(b);y.x+=(b.clientLeft+parseFloat(C.paddingLeft))*E.x,y.y+=(b.clientTop+parseFloat(C.paddingTop))*E.y,h*=E.x,p*=E.y,m*=E.x,g*=E.y,h+=y.x,p+=y.y,b=_e(b).frameElement}}return{width:m,height:g,top:p,right:h+m,bottom:p+g,left:h,x:h,y:p}}function Ru(n){return((zo(n)?n.ownerDocument:n.document)||window.document).documentElement}function Vu(n){if(Vo(n)==="html")return n;const t=n.assignedSlot||n.parentNode||Ri(n)&&n.host||Ru(n);return Ri(t)?t.host:t}function $o(n){const t=Vu(n);return Au(t)?t.ownerDocument.body:Bo(t)&&Ho(t)?t:$o(t)}function xt(n,t){var o;t===void 0&&(t=[]);const r=$o(n),e=r===((o=n.ownerDocument)==null?void 0:o.body),i=_e(r);return e?t.concat(i,i.visualViewport||[],Ho(r)?r:[]):t.concat(r,xt(r))}function Bu(n,t,o,r){r===void 0&&(r={});const{ancestorScroll:e=!0,ancestorResize:i=!0,elementResize:a=!0,animationFrame:s=!1}=r,l=e&&!s,u=l||i?[...Ne(n)?xt(n):n.contextElement?xt(n.contextElement):[],...xt(t)]:[];u.forEach(m=>{l&&m.addEventListener("scroll",o,{passive:!0}),i&&m.addEventListener("resize",o)});let c,h=null;if(a){let m=!0;h=new ResizeObserver(()=>{m||o(),m=!1}),Ne(n)&&!s&&h.observe(n),Ne(n)||!n.contextElement||s||h.observe(n.contextElement),h.observe(t)}let p=s?Vi(n):null;return s&&function m(){const g=Vi(n);!p||g.x===p.x&&g.y===p.y&&g.width===p.width&&g.height===p.height||o(),p=g,c=requestAnimationFrame(m)}(),o(),()=>{var m;u.forEach(g=>{l&&g.removeEventListener("scroll",o),i&&g.removeEventListener("resize",o)}),(m=h)==null||m.disconnect(),h=null,s&&cancelAnimationFrame(c)}}var Rn=f.useLayoutEffect,zu=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],At=function(){};function Hu(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function Nu(n,t){for(var o=arguments.length,r=new Array(o>2?o-2:0),e=2;e<o;e++)r[e-2]=arguments[e];var i=[].concat(r);if(t&&n)for(var a in t)t.hasOwnProperty(a)&&t[a]&&i.push("".concat(Hu(n,a)));return i.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var Bi=function(t){return Xu(t)?t.filter(Boolean):Te(t)==="object"&&t!==null?[t]:[]},Go=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var o=je(t,zu);return O({},o)},ee=function(t,o,r){var e=t.cx,i=t.getStyles,a=t.getClassNames,s=t.className;return{css:i(o,t),className:e(r??{},a(o,t),s)}};function Qt(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Uu(n){return Qt(n)?window.innerHeight:n.clientHeight}function jo(n){return Qt(n)?window.pageYOffset:n.scrollTop}function Rt(n,t){if(Qt(n)){window.scrollTo(0,t);return}n.scrollTop=t}function $u(n){var t=getComputedStyle(n),o=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var e=n;e=e.parentElement;)if(t=getComputedStyle(e),!(o&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return e;return document.documentElement}function Gu(n,t,o,r){return o*((n=n/r-1)*n*n+1)+t}function Ct(n,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:At,e=jo(n),i=t-e,a=10,s=0;function l(){s+=a;var u=Gu(s,e,i,o);Rt(n,u),s<o?window.requestAnimationFrame(l):r(n)}l()}function zi(n,t){var o=n.getBoundingClientRect(),r=t.getBoundingClientRect(),e=t.offsetHeight/3;r.bottom+e>o.bottom?Rt(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+e,n.scrollHeight)):r.top-e<o.top&&Rt(n,Math.max(t.offsetTop-e,0))}function ju(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function Hi(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Wu(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Wo=!1,Yu={get passive(){return Wo=!0}},Et=typeof window<"u"?window:{};Et.addEventListener&&Et.removeEventListener&&(Et.addEventListener("p",At,Yu),Et.removeEventListener("p",At,!1));var qu=Wo;function Ku(n){return n!=null}function Xu(n){return Array.isArray(n)}function wt(n,t,o){return n?t:o}var Zu=function(t){for(var o=arguments.length,r=new Array(o>1?o-1:0),e=1;e<o;e++)r[e-1]=arguments[e];var i=Object.entries(t).filter(function(a){var s=Le(a,1),l=s[0];return!r.includes(l)});return i.reduce(function(a,s){var l=Le(s,2),u=l[0],c=l[1];return a[u]=c,a},{})};function Qu(n){var t=n.maxHeight,o=n.menuEl,r=n.minHeight,e=n.placement,i=n.shouldScroll,a=n.isFixedPosition,s=n.controlHeight,l=$u(o),u={placement:"bottom",maxHeight:t};if(!o||!o.offsetParent)return u;var c=l.getBoundingClientRect(),h=c.height,p=o.getBoundingClientRect(),m=p.bottom,g=p.height,_=p.top,v=o.offsetParent.getBoundingClientRect(),b=v.top,E=a?window.innerHeight:Uu(l),y=jo(l),C=parseInt(getComputedStyle(o).marginBottom,10),P=parseInt(getComputedStyle(o).marginTop,10),F=b-P,k=E-_,w=F+y,M=h-y-_,H=m-E+y+C,B=y+_-P,Y=160;switch(e){case"auto":case"bottom":if(k>=g)return{placement:"bottom",maxHeight:t};if(M>=g&&!a)return i&&Ct(l,H,Y),{placement:"bottom",maxHeight:t};if(!a&&M>=r||a&&k>=r){i&&Ct(l,H,Y);var ie=a?k-C:M-C;return{placement:"bottom",maxHeight:ie}}if(e==="auto"||a){var q=t,Z=a?F:w;return Z>=r&&(q=Math.min(Z-C-s,t)),{placement:"top",maxHeight:q}}if(e==="bottom")return i&&Rt(l,H),{placement:"bottom",maxHeight:t};break;case"top":if(F>=g)return{placement:"top",maxHeight:t};if(w>=g&&!a)return i&&Ct(l,B,Y),{placement:"top",maxHeight:t};if(!a&&w>=r||a&&F>=r){var ne=t;return(!a&&w>=r||a&&F>=r)&&(ne=a?F-P:w-P),i&&Ct(l,B,Y),{placement:"top",maxHeight:ne}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(e,'".'))}return u}function Ju(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var Yo=function(t){return t==="auto"?"bottom":t},ec=function(t,o){var r,e=t.placement,i=t.theme,a=i.borderRadius,s=i.spacing,l=i.colors;return O((r={label:"menu"},nt(r,Ju(e),"100%"),nt(r,"position","absolute"),nt(r,"width","100%"),nt(r,"zIndex",1),r),o?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},qo=f.createContext(null),tc=function(t){var o=t.children,r=t.minMenuHeight,e=t.maxMenuHeight,i=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=f.useContext(qo)||{},c=u.setPortalPlacement,h=f.useRef(null),p=f.useState(e),m=Le(p,2),g=m[0],_=m[1],v=f.useState(null),b=Le(v,2),E=b[0],y=b[1],C=l.spacing.controlHeight;return Rn(function(){var P=h.current;if(P){var F=a==="fixed",k=s&&!F,w=Qu({maxHeight:e,menuEl:P,minHeight:r,placement:i,shouldScroll:k,isFixedPosition:F,controlHeight:C});_(w.maxHeight),y(w.placement),c==null||c(w.placement)}},[e,i,a,s,r,c,C]),o({ref:h,placerProps:O(O({},t),{},{placement:E||Yo(i),maxHeight:g})})},nc=function(t){var o=t.children,r=t.innerRef,e=t.innerProps;return D("div",T({},ee(t,"menu",{menu:!0}),{ref:r},e),o)},ic=function(t,o){var r=t.maxHeight,e=t.theme.spacing.baseUnit;return O({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},o?{}:{paddingBottom:e,paddingTop:e})},oc=function(t){var o=t.children,r=t.innerProps,e=t.innerRef,i=t.isMulti;return D("div",T({},ee(t,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:e},r),o)},Ko=function(t,o){var r=t.theme,e=r.spacing.baseUnit,i=r.colors;return O({textAlign:"center"},o?{}:{color:i.neutral40,padding:"".concat(e*2,"px ").concat(e*3,"px")})},rc=Ko,ac=Ko,Xo=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),o)};Xo.defaultProps={children:"No options"};var Zo=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),o)};Zo.defaultProps={children:"Loading..."};var sc=function(t){var o=t.rect,r=t.offset,e=t.position;return{left:o.left,position:e,top:r,width:o.width,zIndex:1}},lc=function(t){var o=t.appendTo,r=t.children,e=t.controlElement,i=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=f.useRef(null),u=f.useRef(null),c=f.useState(Yo(a)),h=Le(c,2),p=h[0],m=h[1],g=f.useMemo(function(){return{setPortalPlacement:m}},[]),_=f.useState(null),v=Le(_,2),b=v[0],E=v[1],y=f.useCallback(function(){if(e){var k=ju(e),w=s==="fixed"?0:window.pageYOffset,M=k[p]+w;(M!==(b==null?void 0:b.offset)||k.left!==(b==null?void 0:b.rect.left)||k.width!==(b==null?void 0:b.rect.width))&&E({offset:M,rect:k})}},[e,s,p,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);Rn(function(){y()},[y]);var C=f.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),e&&l.current&&(u.current=Bu(e,l.current,y,{elementResize:"ResizeObserver"in window}))},[e,y]);Rn(function(){C()},[C]);var P=f.useCallback(function(k){l.current=k,C()},[C]);if(!o&&s!=="fixed"||!b)return null;var F=D("div",T({ref:P},ee(O(O({},t),{},{offset:b.offset,position:s,rect:b.rect}),"menuPortal",{"menu-portal":!0}),i),r);return D(qo.Provider,{value:g},o?Bn.createPortal(F,o):F)},uc=function(t){var o=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:o?"none":void 0,position:"relative"}},cc=function(t){var o=t.children,r=t.innerProps,e=t.isDisabled,i=t.isRtl;return D("div",T({},ee(t,"container",{"--is-disabled":e,"--is-rtl":i}),r),o)},dc=function(t,o){var r=t.theme.spacing,e=t.isMulti,i=t.hasValue,a=t.selectProps.controlShouldRenderValue;return O({alignItems:"center",display:e&&i&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},o?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hc=function(t){var o=t.children,r=t.innerProps,e=t.isMulti,i=t.hasValue;return D("div",T({},ee(t,"valueContainer",{"value-container":!0,"value-container--is-multi":e,"value-container--has-value":i}),r),o)},fc=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},pc=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"indicatorsContainer",{indicators:!0}),r),o)},Ni,mc=["size"],gc={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Qo=function(t){var o=t.size,r=je(t,mc);return D("svg",T({height:o,width:o,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:gc},r))},qn=function(t){return D(Qo,T({size:20},t),D("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Jo=function(t){return D(Qo,T({size:20},t),D("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},er=function(t,o){var r=t.isFocused,e=t.theme,i=e.spacing.baseUnit,a=e.colors;return O({label:"indicatorContainer",display:"flex",transition:"color 150ms"},o?{}:{color:r?a.neutral60:a.neutral20,padding:i*2,":hover":{color:r?a.neutral80:a.neutral40}})},vc=er,bc=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),o||D(Jo,null))},_c=er,yc=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),o||D(qn,null))},Lc=function(t,o){var r=t.isDisabled,e=t.theme,i=e.spacing.baseUnit,a=e.colors;return O({label:"indicatorSeparator",alignSelf:"stretch",width:1},o?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:i*2,marginTop:i*2})},Cc=function(t){var o=t.innerProps;return D("span",T({},o,ee(t,"indicatorSeparator",{"indicator-separator":!0})))},Ec=Ht(Ni||(Ni=Du([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),wc=function(t,o){var r=t.isFocused,e=t.size,i=t.theme,a=i.colors,s=i.spacing.baseUnit;return O({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:e,lineHeight:1,marginRight:e,textAlign:"center",verticalAlign:"middle"},o?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},Ln=function(t){var o=t.delay,r=t.offset;return D("span",{css:no({animation:"".concat(Ec," 1s ease-in-out ").concat(o,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tr=function(t){var o=t.innerProps,r=t.isRtl;return D("div",T({},ee(t,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),o),D(Ln,{delay:0,offset:r}),D(Ln,{delay:160,offset:!0}),D(Ln,{delay:320,offset:!r}))};tr.defaultProps={size:4};var Fc=function(t,o){var r=t.isDisabled,e=t.isFocused,i=t.theme,a=i.colors,s=i.borderRadius,l=i.spacing;return O({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},o?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:e?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:e?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:e?a.primary:a.neutral30}})},Sc=function(t){var o=t.children,r=t.isDisabled,e=t.isFocused,i=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return D("div",T({ref:i},ee(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":e,"control--menu-is-open":s}),a),o)},kc=["data"],xc=function(t,o){var r=t.theme.spacing;return o?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Mc=function(t){var o=t.children,r=t.cx,e=t.getStyles,i=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,u=t.label,c=t.theme,h=t.selectProps;return D("div",T({},ee(t,"group",{group:!0}),l),D(a,T({},s,{selectProps:h,theme:c,getStyles:e,getClassNames:i,cx:r}),u),D("div",null,o))},Pc=function(t,o){var r=t.theme,e=r.colors,i=r.spacing;return O({label:"group",cursor:"default",display:"block"},o?{}:{color:e.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},Dc=function(t){var o=Go(t);o.data;var r=je(o,kc);return D("div",T({},ee(t,"groupHeading",{"group-heading":!0}),r))},Tc=["innerRef","isDisabled","isHidden","inputClassName"],Oc=function(t,o){var r=t.isDisabled,e=t.value,i=t.theme,a=i.spacing,s=i.colors;return O(O({visibility:r?"hidden":"visible",transform:e?"translateZ(0)":""},Ic),o?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},nr={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ic={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":O({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nr)},Ac=function(t){return O({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},nr)},Rc=function(t){var o=t.cx,r=t.value,e=Go(t),i=e.innerRef,a=e.isDisabled,s=e.isHidden,l=e.inputClassName,u=je(e,Tc);return D("div",T({},ee(t,"input",{"input-container":!0}),{"data-value":r||""}),D("input",T({className:o({input:!0},l),ref:i,style:Ac(s),disabled:a},u)))},Vc=function(t,o){var r=t.theme,e=r.spacing,i=r.borderRadius,a=r.colors;return O({label:"multiValue",display:"flex",minWidth:0},o?{}:{backgroundColor:a.neutral10,borderRadius:i/2,margin:e.baseUnit/2})},Bc=function(t,o){var r=t.theme,e=r.borderRadius,i=r.colors,a=t.cropWithEllipsis;return O({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},o?{}:{borderRadius:e/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},zc=function(t,o){var r=t.theme,e=r.spacing,i=r.borderRadius,a=r.colors,s=t.isFocused;return O({alignItems:"center",display:"flex"},o?{}:{borderRadius:i/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:e.baseUnit,paddingRight:e.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},ir=function(t){var o=t.children,r=t.innerProps;return D("div",r,o)},Hc=ir,Nc=ir;function Uc(n){var t=n.children,o=n.innerProps;return D("div",T({role:"button"},o),t||D(qn,{size:14}))}var $c=function(t){var o=t.children,r=t.components,e=t.data,i=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,u=r.Container,c=r.Label,h=r.Remove;return D(u,{data:e,innerProps:O(O({},ee(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),i),selectProps:l},D(c,{data:e,innerProps:O({},ee(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},o),D(h,{data:e,innerProps:O(O({},ee(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(o||"option")},s),selectProps:l}))},Gc=function(t,o){var r=t.isDisabled,e=t.isFocused,i=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return O({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},o?{}:{backgroundColor:i?l.primary:e?l.primary25:"transparent",color:r?l.neutral20:i?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:i?l.primary:l.primary50}})},jc=function(t){var o=t.children,r=t.isDisabled,e=t.isFocused,i=t.isSelected,a=t.innerRef,s=t.innerProps;return D("div",T({},ee(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":e,"option--is-selected":i}),{ref:a,"aria-disabled":r},s),o)},Wc=function(t,o){var r=t.theme,e=r.spacing,i=r.colors;return O({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},o?{}:{color:i.neutral50,marginLeft:e.baseUnit/2,marginRight:e.baseUnit/2})},Yc=function(t){var o=t.children,r=t.innerProps;return D("div",T({},ee(t,"placeholder",{placeholder:!0}),r),o)},qc=function(t,o){var r=t.isDisabled,e=t.theme,i=e.spacing,a=e.colors;return O({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},o?{}:{color:r?a.neutral40:a.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Kc=function(t){var o=t.children,r=t.isDisabled,e=t.innerProps;return D("div",T({},ee(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),e),o)},Xc={ClearIndicator:yc,Control:Sc,DropdownIndicator:bc,DownChevron:Jo,CrossIcon:qn,Group:Mc,GroupHeading:Dc,IndicatorsContainer:pc,IndicatorSeparator:Cc,Input:Rc,LoadingIndicator:tr,Menu:nc,MenuList:oc,MenuPortal:lc,LoadingMessage:Zo,NoOptionsMessage:Xo,MultiValue:$c,MultiValueContainer:Hc,MultiValueLabel:Nc,MultiValueRemove:Uc,Option:jc,Placeholder:Yc,SelectContainer:cc,SingleValue:Kc,ValueContainer:hc},Zc=function(t){return O(O({},Xc),t.components)},Ui=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Qc(n,t){return!!(n===t||Ui(n)&&Ui(t))}function Jc(n,t){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(!Qc(n[o],t[o]))return!1;return!0}function ed(n,t){t===void 0&&(t=Jc);var o=null;function r(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(o&&o.lastThis===this&&t(e,o.lastArgs))return o.lastResult;var a=n.apply(this,e);return o={lastResult:a,lastArgs:e,lastThis:this},a}return r.clear=function(){o=null},r}var td={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},$i=function(t){return D("span",T({css:td},t))},nd={guidance:function(t){var o=t.isSearchable,r=t.isMulti,e=t.isDisabled,i=t.tabSelectsValue,a=t.context;switch(a){case"menu":return"Use Up and Down to choose options".concat(e?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(o?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var o=t.action,r=t.label,e=r===void 0?"":r,i=t.labels,a=t.isDisabled;switch(o){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(e,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return a?"option ".concat(e," is disabled. Select another option."):"option ".concat(e,", selected.");default:return""}},onFocus:function(t){var o=t.context,r=t.focused,e=t.options,i=t.label,a=i===void 0?"":i,s=t.selectValue,l=t.isDisabled,u=t.isSelected,c=function(g,_){return g&&g.length?"".concat(g.indexOf(_)+1," of ").concat(g.length):""};if(o==="value"&&s)return"value ".concat(a," focused, ").concat(c(s,r),".");if(o==="menu"){var h=l?" disabled":"",p="".concat(u?"selected":"focused").concat(h);return"option ".concat(a," ").concat(p,", ").concat(c(e,r),".")}return""},onFilter:function(t){var o=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(o?" for search term "+o:"",".")}},id=function(t){var o=t.ariaSelection,r=t.focusedOption,e=t.focusedValue,i=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=l.ariaLiveMessages,h=l.getOptionLabel,p=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,_=l.isSearchable,v=l.menuIsOpen,b=l.options,E=l.screenReaderStatus,y=l.tabSelectsValue,C=l["aria-label"],P=l["aria-live"],F=f.useMemo(function(){return O(O({},nd),c||{})},[c]),k=f.useMemo(function(){var q="";if(o&&F.onChange){var Z=o.option,ne=o.options,W=o.removedValue,$=o.removedValues,ae=o.value,de=function(ue){return Array.isArray(ue)?null:ue},fe=W||Z||de(ae),G=fe?h(fe):"",te=ne||$||void 0,j=te?te.map(h):[],Q=O({isDisabled:fe&&g(fe,s),label:G,labels:j},o);q=F.onChange(Q)}return q},[o,F,g,s,h]),w=f.useMemo(function(){var q="",Z=r||e,ne=!!(r&&s&&s.includes(r));if(Z&&F.onFocus){var W={focused:Z,label:h(Z),isDisabled:g(Z,s),isSelected:ne,options:i,context:Z===r?"menu":"value",selectValue:s};q=F.onFocus(W)}return q},[r,e,h,g,F,i,s]),M=f.useMemo(function(){var q="";if(v&&b.length&&F.onFilter){var Z=E({count:i.length});q=F.onFilter({inputValue:p,resultsMessage:Z})}return q},[i,p,v,F,b,E]),H=f.useMemo(function(){var q="";if(F.guidance){var Z=e?"value":v?"menu":"input";q=F.guidance({"aria-label":C,context:Z,isDisabled:r&&g(r,s),isMulti:m,isSearchable:_,tabSelectsValue:y})}return q},[C,r,e,m,g,_,v,F,s,y]),B="".concat(w," ").concat(M," ").concat(H),Y=D(f.Fragment,null,D("span",{id:"aria-selection"},k),D("span",{id:"aria-context"},B)),ie=(o==null?void 0:o.action)==="initial-input-focus";return D(f.Fragment,null,D($i,{id:u},ie&&Y),D($i,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text"},a&&!ie&&Y))},Vn=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],od=new RegExp("["+Vn.map(function(n){return n.letters}).join("")+"]","g"),or={};for(var Cn=0;Cn<Vn.length;Cn++)for(var En=Vn[Cn],wn=0;wn<En.letters.length;wn++)or[En.letters[wn]]=En.base;var rr=function(t){return t.replace(od,function(o){return or[o]})},rd=ed(rr),Gi=function(t){return t.replace(/^\s+|\s+$/g,"")},ad=function(t){return"".concat(t.label," ").concat(t.value)},sd=function(t){return function(o,r){if(o.data.__isNew__)return!0;var e=O({ignoreCase:!0,ignoreAccents:!0,stringify:ad,trim:!0,matchFrom:"any"},t),i=e.ignoreCase,a=e.ignoreAccents,s=e.stringify,l=e.trim,u=e.matchFrom,c=l?Gi(r):r,h=l?Gi(s(o)):s(o);return i&&(c=c.toLowerCase(),h=h.toLowerCase()),a&&(c=rd(c),h=rr(h)),u==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},ld=["innerRef"];function ud(n){var t=n.innerRef,o=je(n,ld),r=Zu(o,"onExited","in","enter","exit","appear");return D("input",T({ref:t},r,{css:no({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cd=function(t){t.preventDefault(),t.stopPropagation()};function dd(n){var t=n.isEnabled,o=n.onBottomArrive,r=n.onBottomLeave,e=n.onTopArrive,i=n.onTopLeave,a=f.useRef(!1),s=f.useRef(!1),l=f.useRef(0),u=f.useRef(null),c=f.useCallback(function(v,b){if(u.current!==null){var E=u.current,y=E.scrollTop,C=E.scrollHeight,P=E.clientHeight,F=u.current,k=b>0,w=C-P-y,M=!1;w>b&&a.current&&(r&&r(v),a.current=!1),k&&s.current&&(i&&i(v),s.current=!1),k&&b>w?(o&&!a.current&&o(v),F.scrollTop=C,M=!0,a.current=!0):!k&&-b>y&&(e&&!s.current&&e(v),F.scrollTop=0,M=!0,s.current=!0),M&&cd(v)}},[o,r,e,i]),h=f.useCallback(function(v){c(v,v.deltaY)},[c]),p=f.useCallback(function(v){l.current=v.changedTouches[0].clientY},[]),m=f.useCallback(function(v){var b=l.current-v.changedTouches[0].clientY;c(v,b)},[c]),g=f.useCallback(function(v){if(v){var b=qu?{passive:!1}:!1;v.addEventListener("wheel",h,b),v.addEventListener("touchstart",p,b),v.addEventListener("touchmove",m,b)}},[m,p,h]),_=f.useCallback(function(v){v&&(v.removeEventListener("wheel",h,!1),v.removeEventListener("touchstart",p,!1),v.removeEventListener("touchmove",m,!1))},[m,p,h]);return f.useEffect(function(){if(t){var v=u.current;return g(v),function(){_(v)}}},[t,g,_]),function(v){u.current=v}}var ji=["boxSizing","height","overflow","paddingRight","position"],Wi={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Yi(n){n.preventDefault()}function qi(n){n.stopPropagation()}function Ki(){var n=this.scrollTop,t=this.scrollHeight,o=n+this.offsetHeight;n===0?this.scrollTop=1:o===t&&(this.scrollTop=n-1)}function Xi(){return"ontouchstart"in window||navigator.maxTouchPoints}var Zi=!!(typeof window<"u"&&window.document&&window.document.createElement),et=0,Be={capture:!1,passive:!1};function hd(n){var t=n.isEnabled,o=n.accountForScrollbars,r=o===void 0?!0:o,e=f.useRef({}),i=f.useRef(null),a=f.useCallback(function(l){if(Zi){var u=document.body,c=u&&u.style;if(r&&ji.forEach(function(g){var _=c&&c[g];e.current[g]=_}),r&&et<1){var h=parseInt(e.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+h||0;Object.keys(Wi).forEach(function(g){var _=Wi[g];c&&(c[g]=_)}),c&&(c.paddingRight="".concat(m,"px"))}u&&Xi()&&(u.addEventListener("touchmove",Yi,Be),l&&(l.addEventListener("touchstart",Ki,Be),l.addEventListener("touchmove",qi,Be))),et+=1}},[r]),s=f.useCallback(function(l){if(Zi){var u=document.body,c=u&&u.style;et=Math.max(et-1,0),r&&et<1&&ji.forEach(function(h){var p=e.current[h];c&&(c[h]=p)}),u&&Xi()&&(u.removeEventListener("touchmove",Yi,Be),l&&(l.removeEventListener("touchstart",Ki,Be),l.removeEventListener("touchmove",qi,Be)))}},[r]);return f.useEffect(function(){if(t){var l=i.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){i.current=l}}var fd=function(){return document.activeElement&&document.activeElement.blur()},pd={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function md(n){var t=n.children,o=n.lockEnabled,r=n.captureEnabled,e=r===void 0?!0:r,i=n.onBottomArrive,a=n.onBottomLeave,s=n.onTopArrive,l=n.onTopLeave,u=dd({isEnabled:e,onBottomArrive:i,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),c=hd({isEnabled:o}),h=function(m){u(m),c(m)};return D(f.Fragment,null,o&&D("div",{onClick:fd,css:pd}),t(h))}var gd={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},vd=function(t){var o=t.name,r=t.onFocus;return D("input",{required:!0,name:o,tabIndex:-1,onFocus:r,css:gd,value:"",onChange:function(){}})},bd=function(t){return t.label},_d=function(t){return t.label},yd=function(t){return t.value},Ld=function(t){return!!t.isDisabled},Cd={clearIndicator:_c,container:uc,control:Fc,dropdownIndicator:vc,group:xc,groupHeading:Pc,indicatorsContainer:fc,indicatorSeparator:Lc,input:Oc,loadingIndicator:wc,loadingMessage:ac,menu:ec,menuList:ic,menuPortal:sc,multiValue:Vc,multiValueLabel:Bc,multiValueRemove:zc,noOptionsMessage:rc,option:Gc,placeholder:Wc,singleValue:qc,valueContainer:dc},Ed={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},wd=4,ar=4,Fd=38,Sd=ar*2,kd={baseUnit:ar,controlHeight:Fd,menuGutter:Sd},Fn={borderRadius:wd,colors:Ed,spacing:kd},xd={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Hi(),captureMenuScroll:!Hi(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:sd(),formatGroupLabel:bd,getOptionLabel:_d,getOptionValue:yd,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ld,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Wu(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var o=t.count;return"".concat(o," result").concat(o!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Qi(n,t,o,r){var e=cr(n,t,o),i=dr(n,t,o),a=ur(n,t),s=Vt(n,t);return{type:"option",data:t,isDisabled:e,isSelected:i,label:a,value:s,index:r}}function sr(n,t){return n.options.map(function(o,r){if("options"in o){var e=o.options.map(function(a,s){return Qi(n,a,t,s)}).filter(function(a){return Ji(n,a)});return e.length>0?{type:"group",data:o,options:e,index:r}:void 0}var i=Qi(n,o,t,r);return Ji(n,i)?i:void 0}).filter(Ku)}function lr(n){return n.reduce(function(t,o){return o.type==="group"?t.push.apply(t,Ao(o.options.map(function(r){return r.data}))):t.push(o.data),t},[])}function Md(n,t){return lr(sr(n,t))}function Ji(n,t){var o=n.inputValue,r=o===void 0?"":o,e=t.data,i=t.isSelected,a=t.label,s=t.value;return(!fr(n)||!i)&&hr(n,{label:a,value:s,data:e},r)}function Pd(n,t){var o=n.focusedValue,r=n.selectValue,e=r.indexOf(o);if(e>-1){var i=t.indexOf(o);if(i>-1)return o;if(e<t.length)return t[e]}return null}function Dd(n,t){var o=n.focusedOption;return o&&t.indexOf(o)>-1?o:t[0]}var ur=function(t,o){return t.getOptionLabel(o)},Vt=function(t,o){return t.getOptionValue(o)};function cr(n,t,o){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(t,o):!1}function dr(n,t,o){if(o.indexOf(t)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(t,o);var r=Vt(n,t);return o.some(function(e){return Vt(n,e)===r})}function hr(n,t,o){return n.filterOption?n.filterOption(t,o):!0}var fr=function(t){var o=t.hideSelectedOptions,r=t.isMulti;return o===void 0?r:o},Td=1,pr=function(n){Eu(o,n);var t=ku(o);function o(r){var e;if(Lu(this,o),e=t.call(this,r),e.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},e.blockOptionHover=!1,e.isComposing=!1,e.commonProps=void 0,e.initialTouchX=0,e.initialTouchY=0,e.instancePrefix="",e.openAfterFocus=!1,e.scrollToFocusedOptionOnUpdate=!1,e.userIsDragging=void 0,e.controlRef=null,e.getControlRef=function(s){e.controlRef=s},e.focusedOptionRef=null,e.getFocusedOptionRef=function(s){e.focusedOptionRef=s},e.menuListRef=null,e.getMenuListRef=function(s){e.menuListRef=s},e.inputRef=null,e.getInputRef=function(s){e.inputRef=s},e.focus=e.focusInput,e.blur=e.blurInput,e.onChange=function(s,l){var u=e.props,c=u.onChange,h=u.name;l.name=h,e.ariaOnChange(s,l),c(s,l)},e.setValue=function(s,l,u){var c=e.props,h=c.closeMenuOnSelect,p=c.isMulti,m=c.inputValue;e.onInputChange("",{action:"set-value",prevInputValue:m}),h&&(e.setState({inputIsHiddenAfterUpdate:!p}),e.onMenuClose()),e.setState({clearFocusValueOnUpdate:!0}),e.onChange(s,{action:l,option:u})},e.selectOption=function(s){var l=e.props,u=l.blurInputOnSelect,c=l.isMulti,h=l.name,p=e.state.selectValue,m=c&&e.isOptionSelected(s,p),g=e.isOptionDisabled(s,p);if(m){var _=e.getOptionValue(s);e.setValue(p.filter(function(v){return e.getOptionValue(v)!==_}),"deselect-option",s)}else if(!g)c?e.setValue([].concat(Ao(p),[s]),"select-option",s):e.setValue(s,"select-option");else{e.ariaOnChange(s,{action:"select-option",option:s,name:h});return}u&&e.blurInput()},e.removeValue=function(s){var l=e.props.isMulti,u=e.state.selectValue,c=e.getOptionValue(s),h=u.filter(function(m){return e.getOptionValue(m)!==c}),p=wt(l,h,h[0]||null);e.onChange(p,{action:"remove-value",removedValue:s}),e.focusInput()},e.clearValue=function(){var s=e.state.selectValue;e.onChange(wt(e.props.isMulti,[],null),{action:"clear",removedValues:s})},e.popValue=function(){var s=e.props.isMulti,l=e.state.selectValue,u=l[l.length-1],c=l.slice(0,l.length-1),h=wt(s,c,c[0]||null);e.onChange(h,{action:"pop-value",removedValue:u})},e.getValue=function(){return e.state.selectValue},e.cx=function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return Nu.apply(void 0,[e.props.classNamePrefix].concat(l))},e.getOptionLabel=function(s){return ur(e.props,s)},e.getOptionValue=function(s){return Vt(e.props,s)},e.getStyles=function(s,l){var u=e.props.unstyled,c=Cd[s](l,u);c.boxSizing="border-box";var h=e.props.styles[s];return h?h(c,l):c},e.getClassNames=function(s,l){var u,c;return(u=(c=e.props.classNames)[s])===null||u===void 0?void 0:u.call(c,l)},e.getElementId=function(s){return"".concat(e.instancePrefix,"-").concat(s)},e.getComponents=function(){return Zc(e.props)},e.buildCategorizedOptions=function(){return sr(e.props,e.state.selectValue)},e.getCategorizedOptions=function(){return e.props.menuIsOpen?e.buildCategorizedOptions():[]},e.buildFocusableOptions=function(){return lr(e.buildCategorizedOptions())},e.getFocusableOptions=function(){return e.props.menuIsOpen?e.buildFocusableOptions():[]},e.ariaOnChange=function(s,l){e.setState({ariaSelection:O({value:s},l)})},e.onMenuMouseDown=function(s){s.button===0&&(s.stopPropagation(),s.preventDefault(),e.focusInput())},e.onMenuMouseMove=function(s){e.blockOptionHover=!1},e.onControlMouseDown=function(s){if(!s.defaultPrevented){var l=e.props.openMenuOnClick;e.state.isFocused?e.props.menuIsOpen?s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&e.onMenuClose():l&&e.openMenu("first"):(l&&(e.openAfterFocus=!0),e.focusInput()),s.target.tagName!=="INPUT"&&s.target.tagName!=="TEXTAREA"&&s.preventDefault()}},e.onDropdownIndicatorMouseDown=function(s){if(!(s&&s.type==="mousedown"&&s.button!==0)&&!e.props.isDisabled){var l=e.props,u=l.isMulti,c=l.menuIsOpen;e.focusInput(),c?(e.setState({inputIsHiddenAfterUpdate:!u}),e.onMenuClose()):e.openMenu("first"),s.preventDefault()}},e.onClearIndicatorMouseDown=function(s){s&&s.type==="mousedown"&&s.button!==0||(e.clearValue(),s.preventDefault(),e.openAfterFocus=!1,s.type==="touchend"?e.focusInput():setTimeout(function(){return e.focusInput()}))},e.onScroll=function(s){typeof e.props.closeMenuOnScroll=="boolean"?s.target instanceof HTMLElement&&Qt(s.target)&&e.props.onMenuClose():typeof e.props.closeMenuOnScroll=="function"&&e.props.closeMenuOnScroll(s)&&e.props.onMenuClose()},e.onCompositionStart=function(){e.isComposing=!0},e.onCompositionEnd=function(){e.isComposing=!1},e.onTouchStart=function(s){var l=s.touches,u=l&&l.item(0);u&&(e.initialTouchX=u.clientX,e.initialTouchY=u.clientY,e.userIsDragging=!1)},e.onTouchMove=function(s){var l=s.touches,u=l&&l.item(0);if(u){var c=Math.abs(u.clientX-e.initialTouchX),h=Math.abs(u.clientY-e.initialTouchY),p=5;e.userIsDragging=c>p||h>p}},e.onTouchEnd=function(s){e.userIsDragging||(e.controlRef&&!e.controlRef.contains(s.target)&&e.menuListRef&&!e.menuListRef.contains(s.target)&&e.blurInput(),e.initialTouchX=0,e.initialTouchY=0)},e.onControlTouchEnd=function(s){e.userIsDragging||e.onControlMouseDown(s)},e.onClearIndicatorTouchEnd=function(s){e.userIsDragging||e.onClearIndicatorMouseDown(s)},e.onDropdownIndicatorTouchEnd=function(s){e.userIsDragging||e.onDropdownIndicatorMouseDown(s)},e.handleInputChange=function(s){var l=e.props.inputValue,u=s.currentTarget.value;e.setState({inputIsHiddenAfterUpdate:!1}),e.onInputChange(u,{action:"input-change",prevInputValue:l}),e.props.menuIsOpen||e.onMenuOpen()},e.onInputFocus=function(s){e.props.onFocus&&e.props.onFocus(s),e.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(e.openAfterFocus||e.props.openMenuOnFocus)&&e.openMenu("first"),e.openAfterFocus=!1},e.onInputBlur=function(s){var l=e.props.inputValue;if(e.menuListRef&&e.menuListRef.contains(document.activeElement)){e.inputRef.focus();return}e.props.onBlur&&e.props.onBlur(s),e.onInputChange("",{action:"input-blur",prevInputValue:l}),e.onMenuClose(),e.setState({focusedValue:null,isFocused:!1})},e.onOptionHover=function(s){e.blockOptionHover||e.state.focusedOption===s||e.setState({focusedOption:s})},e.shouldHideSelectedOptions=function(){return fr(e.props)},e.onValueInputFocus=function(s){s.preventDefault(),s.stopPropagation(),e.focus()},e.onKeyDown=function(s){var l=e.props,u=l.isMulti,c=l.backspaceRemovesValue,h=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,g=l.isDisabled,_=l.menuIsOpen,v=l.onKeyDown,b=l.tabSelectsValue,E=l.openMenuOnFocus,y=e.state,C=y.focusedOption,P=y.focusedValue,F=y.selectValue;if(!g&&!(typeof v=="function"&&(v(s),s.defaultPrevented))){switch(e.blockOptionHover=!0,s.key){case"ArrowLeft":if(!u||p)return;e.focusValue("previous");break;case"ArrowRight":if(!u||p)return;e.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(P)e.removeValue(P);else{if(!c)return;u?e.popValue():m&&e.clearValue()}break;case"Tab":if(e.isComposing||s.shiftKey||!_||!b||!C||E&&e.isOptionSelected(C,F))return;e.selectOption(C);break;case"Enter":if(s.keyCode===229)break;if(_){if(!C||e.isComposing)return;e.selectOption(C);break}return;case"Escape":_?(e.setState({inputIsHiddenAfterUpdate:!1}),e.onInputChange("",{action:"menu-close",prevInputValue:p}),e.onMenuClose()):m&&h&&e.clearValue();break;case" ":if(p)return;if(!_){e.openMenu("first");break}if(!C)return;e.selectOption(C);break;case"ArrowUp":_?e.focusOption("up"):e.openMenu("last");break;case"ArrowDown":_?e.focusOption("down"):e.openMenu("first");break;case"PageUp":if(!_)return;e.focusOption("pageup");break;case"PageDown":if(!_)return;e.focusOption("pagedown");break;case"Home":if(!_)return;e.focusOption("first");break;case"End":if(!_)return;e.focusOption("last");break;default:return}s.preventDefault()}},e.instancePrefix="react-select-"+(e.props.instanceId||++Td),e.state.selectValue=Bi(r.value),r.menuIsOpen&&e.state.selectValue.length){var i=e.buildFocusableOptions(),a=i.indexOf(e.state.selectValue[0]);e.state.focusedOption=i[a]}return e}return Cu(o,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&zi(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var i=this.props,a=i.isDisabled,s=i.menuIsOpen,l=this.state.isFocused;(l&&!a&&e.isDisabled||l&&s&&!e.menuIsOpen)&&this.focusInput(),l&&a&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&e.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(zi(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,i){this.props.onInputChange(e,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var i=this,a=this.state,s=a.selectValue,l=a.isFocused,u=this.buildFocusableOptions(),c=e==="first"?0:u.length-1;if(!this.props.isMulti){var h=u.indexOf(s[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[c]},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(e){var i=this.state,a=i.selectValue,s=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var u=a.length-1,c=-1;if(a.length){switch(e){case"previous":l===0?c=0:l===-1?c=u:c=l-1;break;case"next":l>-1&&l<u&&(c=l+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:a[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,u=s.indexOf(a);a||(u=-1),e==="up"?l=u>0?u-1:s.length-1:e==="down"?l=(u+1)%s.length:e==="pageup"?(l=u-i,l<0&&(l=0)):e==="pagedown"?(l=u+i,l>s.length-1&&(l=s.length-1)):e==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Fn):O(O({},Fn),this.props.theme):Fn}},{key:"getCommonProps",value:function(){var e=this.clearValue,i=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,u=this.selectOption,c=this.setValue,h=this.props,p=h.isMulti,m=h.isRtl,g=h.options,_=this.hasValue();return{clearValue:e,cx:i,getStyles:a,getClassNames:s,getValue:l,hasValue:_,isMulti:p,isRtl:m,options:g,selectOption:u,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var e=this.state.selectValue;return e.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,i=e.isClearable,a=e.isMulti;return i===void 0?a:i}},{key:"isOptionDisabled",value:function(e,i){return cr(this.props,e,i)}},{key:"isOptionSelected",value:function(e,i){return dr(this.props,e,i)}},{key:"filterOption",value:function(e,i){return hr(this.props,e,i)}},{key:"formatOptionLabel",value:function(e,i){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(e,{context:i,inputValue:a,selectValue:s})}else return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,i=e.isDisabled,a=e.isSearchable,s=e.inputId,l=e.inputValue,u=e.tabIndex,c=e.form,h=e.menuIsOpen,p=e.required,m=this.getComponents(),g=m.Input,_=this.state,v=_.inputIsHidden,b=_.ariaSelection,E=this.commonProps,y=s||this.getElementId("input"),C=O(O(O({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},h&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?f.createElement(g,T({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:y,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:c,type:"text",value:l},C)):f.createElement(ud,T({id:y,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:At,onFocus:this.onInputFocus,disabled:i,tabIndex:u,inputMode:"none",form:c,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,i=this.getComponents(),a=i.MultiValue,s=i.MultiValueContainer,l=i.MultiValueLabel,u=i.MultiValueRemove,c=i.SingleValue,h=i.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,_=m.isDisabled,v=m.isMulti,b=m.inputValue,E=m.placeholder,y=this.state,C=y.selectValue,P=y.focusedValue,F=y.isFocused;if(!this.hasValue()||!g)return b?null:f.createElement(h,T({},p,{key:"placeholder",isDisabled:_,isFocused:F,innerProps:{id:this.getElementId("placeholder")}}),E);if(v)return C.map(function(w,M){var H=w===P,B="".concat(e.getOptionLabel(w),"-").concat(e.getOptionValue(w));return f.createElement(a,T({},p,{components:{Container:s,Label:l,Remove:u},isFocused:H,isDisabled:_,key:B,index:M,removeProps:{onClick:function(){return e.removeValue(w)},onTouchEnd:function(){return e.removeValue(w)},onMouseDown:function(ie){ie.preventDefault()}},data:w}),e.formatOptionLabel(w,"value"))});if(b)return null;var k=C[0];return f.createElement(c,T({},p,{data:k,isDisabled:_}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents(),i=e.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!this.isClearable()||!i||l||!this.hasValue()||u)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(i,T({},a,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents(),i=e.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,u=s.isLoading,c=this.state.isFocused;if(!i||!u)return null;var h={"aria-hidden":"true"};return f.createElement(i,T({},a,{innerProps:h,isDisabled:l,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),i=e.DropdownIndicator,a=e.IndicatorSeparator;if(!i||!a)return null;var s=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return f.createElement(a,T({},s,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents(),i=e.DropdownIndicator;if(!i)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return f.createElement(i,T({},a,{innerProps:u,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var e=this,i=this.getComponents(),a=i.Group,s=i.GroupHeading,l=i.Menu,u=i.MenuList,c=i.MenuPortal,h=i.LoadingMessage,p=i.NoOptionsMessage,m=i.Option,g=this.commonProps,_=this.state.focusedOption,v=this.props,b=v.captureMenuScroll,E=v.inputValue,y=v.isLoading,C=v.loadingMessage,P=v.minMenuHeight,F=v.maxMenuHeight,k=v.menuIsOpen,w=v.menuPlacement,M=v.menuPosition,H=v.menuPortalTarget,B=v.menuShouldBlockScroll,Y=v.menuShouldScrollIntoView,ie=v.noOptionsMessage,q=v.onMenuScrollToTop,Z=v.onMenuScrollToBottom;if(!k)return null;var ne=function(te,j){var Q=te.type,le=te.data,ue=te.isDisabled,be=te.isSelected,Ee=te.label,Xe=te.value,Re=_===le,K=ue?void 0:function(){return e.onOptionHover(le)},we=ue?void 0:function(){return e.selectOption(le)},R="".concat(e.getElementId("option"),"-").concat(j),ve={id:R,onClick:we,onMouseMove:K,onMouseOver:K,tabIndex:-1};return f.createElement(m,T({},g,{innerProps:ve,data:le,isDisabled:ue,isSelected:be,key:R,label:Ee,type:Q,value:Xe,isFocused:Re,innerRef:Re?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(te.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(G){if(G.type==="group"){var te=G.data,j=G.options,Q=G.index,le="".concat(e.getElementId("group"),"-").concat(Q),ue="".concat(le,"-heading");return f.createElement(a,T({},g,{key:le,data:te,options:j,Heading:s,headingProps:{id:ue,data:G.data},label:e.formatGroupLabel(G.data)}),G.options.map(function(be){return ne(be,"".concat(Q,"-").concat(be.index))}))}else if(G.type==="option")return ne(G,"".concat(G.index))});else if(y){var $=C({inputValue:E});if($===null)return null;W=f.createElement(h,g,$)}else{var ae=ie({inputValue:E});if(ae===null)return null;W=f.createElement(p,g,ae)}var de={minMenuHeight:P,maxMenuHeight:F,menuPlacement:w,menuPosition:M,menuShouldScrollIntoView:Y},fe=f.createElement(tc,T({},g,de),function(G){var te=G.ref,j=G.placerProps,Q=j.placement,le=j.maxHeight;return f.createElement(l,T({},g,de,{innerRef:te,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:y,placement:Q}),f.createElement(md,{captureEnabled:b,onTopArrive:q,onBottomArrive:Z,lockEnabled:B},function(ue){return f.createElement(u,T({},g,{innerRef:function(Ee){e.getMenuListRef(Ee),ue(Ee)},isLoading:y,maxHeight:le,focusedOption:_}),W)}))});return H||M==="fixed"?f.createElement(c,T({},g,{appendTo:H,controlElement:this.controlRef,menuPlacement:w,menuPosition:M}),fe):fe}},{key:"renderFormField",value:function(){var e=this,i=this.props,a=i.delimiter,s=i.isDisabled,l=i.isMulti,u=i.name,c=i.required,h=this.state.selectValue;if(!(!u||s)){if(c&&!this.hasValue())return f.createElement(vd,{name:u,onFocus:this.onValueInputFocus});if(l)if(a){var p=h.map(function(_){return e.getOptionValue(_)}).join(a);return f.createElement("input",{name:u,type:"hidden",value:p})}else{var m=h.length>0?h.map(function(_,v){return f.createElement("input",{key:"i-".concat(v),name:u,type:"hidden",value:e.getOptionValue(_)})}):f.createElement("input",{name:u,type:"hidden",value:""});return f.createElement("div",null,m)}else{var g=h[0]?this.getOptionValue(h[0]):"";return f.createElement("input",{name:u,type:"hidden",value:g})}}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,i=this.state,a=i.ariaSelection,s=i.focusedOption,l=i.focusedValue,u=i.isFocused,c=i.selectValue,h=this.getFocusableOptions();return f.createElement(id,T({},e,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:u,selectValue:c,focusableOptions:h}))}},{key:"render",value:function(){var e=this.getComponents(),i=e.Control,a=e.IndicatorsContainer,s=e.SelectContainer,l=e.ValueContainer,u=this.props,c=u.className,h=u.id,p=u.isDisabled,m=u.menuIsOpen,g=this.state.isFocused,_=this.commonProps=this.getCommonProps();return f.createElement(s,T({},_,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),f.createElement(i,T({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),f.createElement(l,T({},_,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),f.createElement(a,T({},_,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,i){var a=i.prevProps,s=i.clearFocusValueOnUpdate,l=i.inputIsHiddenAfterUpdate,u=i.ariaSelection,c=i.isFocused,h=i.prevWasFocused,p=e.options,m=e.value,g=e.menuIsOpen,_=e.inputValue,v=e.isMulti,b=Bi(m),E={};if(a&&(m!==a.value||p!==a.options||g!==a.menuIsOpen||_!==a.inputValue)){var y=g?Md(e,b):[],C=s?Pd(i,b):null,P=Dd(i,y);E={selectValue:b,focusedOption:P,focusedValue:C,clearFocusValueOnUpdate:!1}}var F=l!=null&&e!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},k=u,w=c&&h;return c&&!w&&(k={value:wt(v,b,b[0]||null),options:b,action:"initial-input-focus"},w=!h),(u==null?void 0:u.action)==="initial-input-focus"&&(k=null),O(O(O({},E),F),{},{prevProps:e,ariaSelection:k,prevWasFocused:w})}}]),o}(f.Component);pr.defaultProps=xd;var Od=f.forwardRef(function(n,t){var o=yu(n);return f.createElement(pr,T({ref:t},o))});const Jt=Od,Id=mu(Zt,function(t){const{model:o}=t,[r,e]=z([o.$clientSearchType,o.clientSearchTypeChanged]);return S(J,{direction:"row",align:"center",position:"relative",children:[d(_o,{hasArrow:!0,label:"Поменять режим поиска",children:d(I,{children:d(fo,{colorScheme:"whiteAlpha",checked:r==="bin",onChange:e})})}),r==="name"?d(Ad,{}):d(Rd,{})]})});function Ad(){const n=Zt.useModel(),[t,o]=z([n.$clientNameField,n.clientNameFieldChanged]),[r,e,i]=z([n.$clientSearchNameOptions,n.clientHintClicked,n.$clientSearchHintsPending]),[a,s]=z([n.$districtId,n.$currentClientHintNameOption]);return d(Jt,{placeholder:"Поиск клиента по Тoo/Ип",options:r,inputValue:t,onInputChange:(l,u)=>u.action==="input-change"||u.action==="set-value"?o(l):null,value:s,onChange:l=>l?e(l.value):null,isLoading:i,isDisabled:a===null,noOptionsMessage:()=>"Нет результатов",isClearable:!0,isSearchable:!0,styles:{container:l=>({...l,minWidth:"15rem"})}})}function Rd(){const n=Zt.useModel(),[t,o]=z([n.$clientBinField,n.clientBinFieldChanged]),[r,e,i]=z([n.$clientSearchBinOptions,n.clientHintClicked,n.$clientSearchHintsPending]),[a,s]=z([n.$districtId,n.$currentClientHintBinOption]);return d(Jt,{placeholder:"Поиск клиента по Иин/Бин",options:r,inputValue:t,onInputChange:(l,u)=>u.action==="input-change"||u.action==="set-value"?o(l):null,value:s,onChange:l=>l?e(l.value):null,isLoading:i,isDisabled:a===null,noOptionsMessage:()=>"Нет результатов",isClearable:!0,isSearchable:!0,styles:{container:l=>({...l,minWidth:"15rem"})}})}const mr={ClientSearch:Id,createClientSearch:Zt};function Vd(n){const{userId:t}=n,o=N(),r=N(),e=N(),i=N(),a=A([]),s=oe({effect:si,source:t,mapParams:(u,c)=>{const{clientIds:h}=u;if(!c)throw new Error("UserId is not defined");return{clientIds:h,userId:c}}}),l=oe({effect:si,source:t,mapParams:(u,c)=>{const{clientId:h}=u;if(!c)throw new Error("UserId is not defined");return{clientIds:[h],userId:c}}});return a.on(o,(u,c)=>u.includes(c)?u.filter(h=>h!==c):[...u,c]),a.on(r,(u,c)=>u.length===c.length?[]:c),i.watch(console.log),re({clock:e,source:a,filter:u=>u.length!==0,fn:u=>({clientIds:u}),target:s}),re({clock:i,fn:u=>({clientId:u}),target:l}),a.reset(s.done),{clientSelected:o,allClientSelected:r,addClientsFavoriteClicked:e,addClientFavoriteClicked:i,addClientsFavoriteFx:s,addClientFavoriteFx:l,$selectedClients:a}}function Bd(n){const{model:t,isMulti:o}=n;if(o){const[r]=z([t.addClientsFavoriteClicked]);return d(Dt,{"aria-label":"Добавить клиента в избранное",variant:"solid",colorScheme:"yellow",size:"sm",onClick:()=>r(),children:d(Se,{as:mi,color:"white"})})}else{const[r]=z([t.addClientFavoriteClicked]);return d(Dt,{"aria-label":"Добавить клиента в избранное",variant:"solid",colorScheme:"yellow",size:"sm",onClick:()=>r(n.clientId),children:d(Se,{as:mi,color:"white"})})}}const Bt={ClientFavoriteButton:Bd,createClientFavorite:Vd},zd=[48.356,66.687],Hd=5,gr=N(),ge=N(),vr=N(),ht=N(),br=N(),en=N(),_r=N();N();const yr=N(),Lr=N(),Cr=N(),Nd=N(),Ud=N(),Er=N(),$d=N(),Gd=N(),wr=N(),Fr=N(),Sr=N(),tn=A(!1),nn=A(!1),We=A(null),Kn=A({country:!0}),Xn=A([]),kr=A(!1),Ye=A([]),xr=A(!1),Ce=A(null),Mr=Ge(Ye,Ce,(n,t)=>n.find(o=>Number(o.id)===t)??null),Zn=A([]),Pr=A(!1),on=A(!1),ft=A([]),Qn=A(!1),Dr=A(null),jd=Ge(ft,Dr,(n,t)=>n.find(o=>Number(o.id)===t)??null),rn=A(!1),pt=A([]),Tr=A(!1),mt=A(null),Or=Ge(pt,mt,(n,t)=>n.filter(o=>Number(o.clientId)===t)??null),Jn=A([]),Ir=A(!1),gt=A([]),ei=A(!1),an=A([]),Wd=Ge(gt,an,(n,t)=>n.filter(o=>t.includes(Number(o.cultureId)))),qe=A([]),Ar=A(null),Rr=Ge(qe,Ar,(n,t)=>n.find(o=>Number(o.plotId)===t)??null),Vr=qe.map(n=>{if(n.length===0)return null;const t=n[0];return{guid:t.guid,clientId:t.clientId,clientName:t.clientName,clientAddress:t.clientAddress,clientAction:t.clientAction,clientBin:t.clientBin,regionId:t.regionId,districtId:t.districtId}}),$e=A([]),ti=A(!1),ni=A([]),Br=A(!1),Yd=Ge(kr,xr,Qn,Tr,ti,(...n)=>n.some(Boolean)),qd=zt(({geometries:n})=>Sn.polygon(n)),Kd=ri(),Xd=oe({effect:Kd.fitBoundsFx,source:{map:We,region:Mr},mapParams:(n,{map:t,region:o})=>{if(!t)throw new Error("Map is not defined");if(!o)throw new Error("Region is not defined");return{map:t,geometries:o.geometry_rings}}}),Zd=ri(),Qd=oe({effect:Zd.fitBoundsFx,source:{map:We,client:Or},mapParams:(n,{map:t,client:o})=>{if(!t)throw new Error("Map is not defined");if(!o)throw new Error("Region is not defined");const r=o.map(e=>e.geometry_rings);return{map:t,geometries:r}}}),Jd=ri(),eh=oe({effect:Jd.fitBoundsFx,source:{map:We,clientPlot:Rr},mapParams:(n,{map:t,clientPlot:o})=>{if(!t)throw new Error("Map is not defined");if(!o)throw new Error("Region is not defined");return{map:t,geometries:o.geometry_rings}}}),zr=mr.createClientSearch.createModel({districtId:Ce}),it=Bt.createClientFavorite({userId:ct.map(n=>n?n.id:null)}),Hr=Bt.createClientFavorite({userId:ct.map(n=>n?n.id:null)}),ii=zt(),sn=oe({effect:Zr}),ln=oe({effect:Qr,source:ct,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{regionBilling:t.subscribeRegions}}}),un=oe({effect:Jr,source:Ce,mapParams:(n,t)=>{if(!t)throw new Error("Region is not defined");return{regionId:t}}}),cn=oe({effect:ea,source:ct,mapParams:(n,t)=>{if(!t)throw new Error("Session is not defined");return{regionIds:t.subscribeRegions}}}),Ke=oe({effect:ta,source:{regionId:Ce,session:ct},mapParams:(n,{regionId:t,session:o})=>{if(!t)throw new Error("Region is not defined");if(!o)throw new Error("Session is not defined");return{regionId:t,unFollowClients:o.unFollowClients}}}),dn=oe({effect:na,source:{regionId:Ce,cultureIds:an},mapParams:(n,{regionId:t,cultureIds:o})=>{if(!t)throw new Error("Region is not defined");if(o.length===0)throw new Error("Cultures is not defined");return{regionId:t,cultureIds:o}}}),oi=oe({effect:ia}),hn=oe({effect:oa,source:Ce,mapParams:(n,t)=>{if(!t)throw new Error("Region is not defined");return{regionId:t}}}),fn=oe({effect:ra,source:mt,mapParams:(n,t)=>{if(!t)throw new Error("Client is not defined");return{clientId:t}}}),pn=oe({effect:aa,source:mt,mapParams:(n,t)=>{if(!t)throw new Error("Client is not defined");return{clientId:t}}});re({clock:vr,target:We});re({clock:gr,target:[sn,ln,cn]});kr.on(sn.pending,(n,t)=>t);Xn.on(sn.doneData,(n,t)=>t);Xn.reset(sn,ge);xr.on(ln.pending,(n,t)=>t);Ye.on(ln.doneData,(n,t)=>t);Ye.reset(ln,ge);Pr.on(cn.pending,(n,t)=>t);Zn.on(cn.doneData,(n,t)=>Nr(t));Zn.reset(cn,ge);tn.on(Cr,n=>!n);tn.on(Nd,n=>!0);tn.on(Ud,n=>!1);nn.on(Er,n=>!n);nn.on($d,n=>!0);nn.on(Gd,n=>!1);Qn.on(un.pending,(n,t)=>t);ft.on(un.doneData,(n,t)=>t);on.on(yr,n=>!n);ft.reset(un,ge);on.reset(ge);Tr.on([Ke.pending,dn.pending],(n,t)=>t);pt.on([Ke.doneData,dn.doneData],(n,t)=>t);rn.on(Lr,n=>!n);pt.reset(Ke,ge);rn.reset(ge);Jn.on(oi.doneData,(n,t)=>t);Ir.on(oi.pending,(n,t)=>t);gt.on(hn.doneData,(n,t)=>t);ei.on(hn.pending,(n,t)=>t);gt.reset(hn,ge);ti.on(fn.pending,(n,t)=>t);qe.on(fn.doneData,(n,t)=>t);qe.reset(fn,Ke,dn,ge);an.on(Sr,(n,t)=>t);ni.on(pn.doneData,(n,t)=>Nr(t));Br.on(pn.pending,(n,t)=>t);ni.reset(pn,ge);re({clock:ht,target:[Xd,Ce]});Kn.on(ht,()=>({region:!0}));re({clock:Ce,target:[un,Ke,hn]});re({clock:en,target:[Qd,mt]});Kn.on(en,()=>({client:!0}));re({clock:mt,target:[fn,pn]});re({clock:_r,target:[eh,Ar]});re({clock:wr,source:pt,fn:(n,t)=>({event:t,clientsPlots:n}),target:ii});ii.use(({event:n,clientsPlots:t})=>{const o=n.layer,r=o._leaflet_id,e=o.getLatLng(),i=Math.floor(o.getRadius()),a=du([e.lng,e.lat],i,{units:"meters"}),s=t.filter(l=>{const u=[];for(const c of l.geometry_rings[0]){const h=To([c[1],c[0]]),p=lu(h,a);u.push(p)}return u.includes(!0)});return{leafletId:r,filteredPlots:s}});$e.on(ii.doneData,(n,{leafletId:t,filteredPlots:o})=>[...n,{id:t,plots:o}]);re({clock:$e,filter:n=>n.length!==0,fn:n=>{const t=[];for(const o of n)for(const r of o.plots)t.includes(r.plotId)||t.push(r.clientId);return{clientIds:t}},target:oi});re({clock:[Ke,ge],source:{map:We,filterPlots:$e},filter:n=>n.map!==null&&n.filterPlots.length>0,fn:({map:n,filterPlots:t})=>{n.eachLayer(o=>{t.findIndex(e=>e.id===o._leaflet_id)!==-1&&o.remove()})},target:$e.reinit});$e.on(Fr,(n,t)=>{const o=t.layers._layers;return n.filter(r=>!(r.id in o))});re({clock:zr.$currentClientHint,filter:n=>n!==null,fn:({clientId:n})=>Number(n),target:en});re({clock:an,target:dn});re({clock:it.addClientsFavoriteFx.done,fn:({params:n})=>n.clientIds,target:io});re({clock:Hr.addClientFavoriteFx.done,fn:({params:n})=>[n.clientId],target:io});function ri(n){const t=zt(async({map:r,geometries:e})=>{const i=await(await qd({map:r,geometries:e})).getBounds();r.fitBounds(i)});return{fitBoundsFx:oe({effect:t})}}function Nr(n){return n.reduce((t,o)=>{const r=t.findIndex(e=>e.year===o.year);return r!==-1?t[r].analytics.push(o):t.push({year:o.year,analytics:[o]}),t},[])}function th(n){const[t,o]=z([tn,Cr]),[r,e]=z([Jn,Vr]);return S(ke,{children:[d(I,{display:{base:"none",md:"unset"},as:"aside",pos:"static",top:"0",left:"0",zIndex:"sticky",w:t?"600px":"0",h:"full",maxH:"calc(100vh - 4rem)",pb:"70px",overflowX:"hidden",overflowY:"auto",bgColor:"whiteAlpha.700",borderColor:"blackAlpha.500",borderRightWidth:"1px",...n,children:S(go,{isFitted:!0,isLazy:!0,colorScheme:"blue",children:[S(vo,{position:"sticky",top:"0",left:"0",zIndex:"banner",bgColor:"white",children:[d(kt,{children:"Список"}),d(kt,{children:"Аналитика"}),d(kt,{isDisabled:!e&&r.length===0,children:"Информация"})]}),S(bo,{children:[d(St,{children:d(nh,{})}),d(St,{children:d(oh,{})}),d(St,{children:d(ih,{})})]})]})}),d(Fe,{display:{base:"none",md:"flex"},size:"lg",isActive:t,transition:"width 0.35s ease",colorScheme:"blue",boxShadow:"md",position:"absolute",bottom:"15px",left:"10px",zIndex:"sticky",onClick:()=>o(),children:d(ha,{})})]})}function nh(){const[n,t,o]=z([Ye,Ce,ht]),[r,e,i,a]=z([ft,Qn,Dr,br]);return d(ke,{children:d(J,{children:n.map((s,l)=>S(me.Fragment,{children:[S(Fe,{w:"full",justifyContent:"space-between",variant:"outline",colorScheme:"blue",onClick:()=>o(Number(s.id)),isActive:Number(s.id)===t,isLoading:Number(s.id)===t&&e,children:[d(x,{overflowWrap:"break-word",children:s.name}),Number(s.id)===t?d(gi,{boxSize:"3"}):d(bi,{boxSize:"3"})]}),Number(s.id)===t&&d(J,{pl:"5",children:r.map((u,c)=>S(Fe,{w:"full",justifyContent:"space-between",variant:"outline",colorScheme:"blue",onClick:()=>a(Number(u.id)),isActive:Number(u.id)===i,isLoading:Number(u.id)===i,children:[d(x,{overflowWrap:"break-word",children:u.name}),Number(u.id)===i?d(gi,{boxSize:"3"}):d(bi,{boxSize:"3"})]},c))})]},l))})})}function ih(){const[n,t]=z([Jn,Ir]),[o,r,e]=z([Vr,qe,ti]),[i,a,s]=z([it.$selectedClients,it.clientSelected,it.allClientSelected]),[l,u]=me.useState("clientsInfo");return e||t?d(Ue,{children:d(zn,{})}):S(J,{position:"relative",h:"full",children:[d(Fe,{colorScheme:"blue",variant:"outline",onClick:()=>u(c=>c==="clientInfo"?"clientsInfo":"clientInfo"),children:l==="clientInfo"?"Информация по килентам":"Информация по клиенту"}),l==="clientInfo"&&o?S(ke,{children:[d(Wt,{allowToggle:!0,position:"sticky",top:"10",zIndex:"1",children:S(Gt,{children:[d("h2",{children:S(Ut,{bgColor:"blue.500",_hover:{bgColor:"blue.600"},rounded:"md",children:[d(I,{as:"span",flex:"1",textAlign:"left",color:"white",children:"Основная информация"}),d($t,{color:"white"})]})}),d(jt,{children:d(rt,{bgColor:"blue.500",color:"white",children:d(ot,{children:S(J,{children:[d(I,{children:o.guid===1?d(tt,{colorScheme:"green",children:"Постоянный"}):d(tt,{colorScheme:"red",children:"Новый"})}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Имя:"}),d(x,{fontSize:"md",children:o.clientName})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Адрес:"}),d(x,{fontSize:"md",children:o.clientAddress})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Иин:"}),d(x,{fontSize:"md",children:o.clientBin})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Деятельность:"}),d(x,{fontSize:"md",children:o.clientAction})]}),S(J,{direction:"row",justify:"end",align:"center",children:[d(Bt.ClientFavoriteButton,{model:Hr,isMulti:!1,clientId:o.clientId}),d(Dt,{"aria-label":"перейти на клиента",variant:"solid",colorScheme:"gray",size:"sm",onClick:()=>console.log("lol"),children:d(Se,{as:vi,color:"blue.500"})})]})]})})})})]})}),d(J,{overflowY:"auto",children:r.map((c,h)=>d(rt,{variant:"filled",cursor:"pointer",children:d(ot,{children:S(J,{children:[S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Название:"}),d(x,{fontSize:"md",children:c.plotName})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Культура:"}),d(x,{fontSize:"md",children:c.plotCultName})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Обьем:"}),d(x,{fontSize:"md",children:c.plotArea})]})]})})},h))})]}):l==="clientsInfo"&&n.length!==0?d(ke,{children:S(J,{position:"relative",h:"full",children:[S(J,{w:"full",direction:"row",position:"sticky",top:"5%",zIndex:"1",bgColor:"white",children:[d(x,{fontWeight:"bold",fontSize:"md",children:"Количество отфильтрованных клиентов:"}),d(x,{fontSize:"sm",children:n.length})]}),n.map((c,h)=>d(rt,{children:d(ot,{children:S(J,{children:[S(J,{direction:"row",justify:"space-between",align:"center",children:[c.guid===1?d(tt,{colorScheme:"green",children:"Постоянный"}):d(tt,{colorScheme:"red",children:"Новый"}),d(Mn,{size:"md",isChecked:i.includes(c.id),onChange:()=>a(c.id)})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Название:"}),d(x,{fontSize:"md",children:c.name})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Иин:"}),d(x,{fontSize:"md",children:c.iinBin})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Деятельность:"}),d(x,{fontSize:"md",children:c.activity})]}),d(J,{direction:"row",justify:"end",align:"center",children:d(Dt,{"aria-label":"перейти на клиента",variant:"solid",colorScheme:"gray",size:"sm",onClick:()=>console.log("lol"),children:d(Se,{as:vi,color:"blue.500"})})})]})})},h)),S(J,{direction:"row",align:"center",children:[d(Mn,{isChecked:i.length===n.length,onChange:c=>s(n.map(h=>h.id))}),S(J,{direction:"row",align:"center",children:[d(x,{children:"Количество выбранных клиентов:"}),d(x,{children:i.length})]})]}),d(J,{children:d(Bt.ClientFavoriteButton,{model:it,isMulti:!0,clientId:void 0})})]})}):d(Ue,{children:"Нету данных"})]})}function oh(){return S(J,{children:[S(J,{children:[d(x,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",children:"Аналитика региона"}),d(rh,{})]}),S(J,{children:[d(x,{fontSize:"2xl",fontWeight:"bold",color:"blue.500",children:"Аналитика клиента"}),d(ah,{})]})]})}function rh(){const[n,t]=z([Zn,Pr]);return t?d(Ue,{children:d(zn,{})}):n.length===0?d(Ue,{children:d(x,{children:"Пусто"})}):d(Wt,{allowToggle:!0,w:"full",children:n.map((o,r)=>S(Gt,{children:[d("h2",{children:S(Ut,{bgColor:"blue.500",_hover:{bgColor:"blue.600"},rounded:"md",children:[d(I,{as:"span",flex:"1",textAlign:"left",color:"white",children:o.year}),d($t,{color:"white"})]})}),d(jt,{children:d(J,{children:o.analytics.map((e,i)=>d(rt,{bgColor:"blue.500",color:"white",children:S(ot,{children:[d(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:d(x,{fontWeight:"bold",fontSize:"2xl",color:"blue.100",children:e.regionName})}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Количество клиентов в Области:"}),d(x,{fontSize:"md",children:e.clientCountAll.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Площадь клиентов в области:"}),d(x,{fontSize:"md",children:e.clientAreaAll.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля количества клиентов (АА):"}),S(x,{fontSize:"md",children:[e.clientProcAA.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля количества клиентов (Конкуренты):"}),S(x,{fontSize:"md",children:[e.clientProcOth.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Количество клиентов АА:"}),d(x,{fontSize:"md",children:e.clientCountAA.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Количество клиентов (Конкуренты):"}),d(x,{fontSize:"md",children:e.clientCountOth.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля площади (АА):"}),S(x,{fontSize:"md",children:[e.clientAreaAAProc.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля площади (Конкуренты):"}),S(x,{fontSize:"md",children:[e.clientAreaOthProc.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Площадь клиентов (АА):"}),d(x,{fontSize:"md",children:e.clientAreaAA.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Площадь клиентов (Конкурентов):"}),d(x,{fontSize:"md",children:e.clientAreaOth.toLocaleString()})]})]})},i))})})]},r))})}function ah(){const[n,t]=z([ni,Br]);return t?d(Ue,{children:d(zn,{})}):n.length===0?d(Ue,{children:d(x,{children:"Пусто"})}):d(Wt,{allowToggle:!0,w:"full",children:n.map((o,r)=>S(Gt,{children:[d("h2",{children:S(Ut,{bgColor:"blue.500",_hover:{bgColor:"blue.600"},rounded:"md",children:[d(I,{as:"span",flex:"1",textAlign:"left",color:"white",children:o.year}),d($t,{color:"white"})]})}),d(jt,{children:d(J,{children:o.analytics.map((e,i)=>d(rt,{bgColor:"blue.500",color:"white",children:S(ot,{children:[d(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:d(x,{fontWeight:"bold",fontSize:"2xl",color:"blue.100",children:e.productName})}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Сумма субссидий клиента:"}),d(x,{fontSize:"md",children:e.sumSubsClient.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Сумма субссидий региона:"}),d(x,{fontSize:"md",children:e.foreignMarkSumSubcides.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля клиента от рынка:"}),S(x,{fontSize:"md",children:[e.percentSubs.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Объем закупа:"}),d(x,{fontSize:"md",children:e.sumVolumeClient.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Объем закупа рынка:"}),d(x,{fontSize:"md",children:e.foreignMarkSumVolume.toLocaleString()})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Доля клиента от рынка (в объеме):"}),S(x,{fontSize:"md",children:[e.percentVolume.toLocaleString(),"%"]})]}),S(I,{display:"flex",flexWrap:"wrap",gap:"1",alignItems:"center",children:[d(x,{fontSize:"lg",fontWeight:"bold",children:"Культура:"}),d(x,{fontSize:"md",children:e.culture})]})]})},i))})})]},r))})}function sh(n){return ro({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"desc",attr:{},child:[]},{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"rect",attr:{x:"4",y:"4",width:"16",height:"16",rx:"2"}},{tag:"path",attr:{d:"M4 12h8"}},{tag:"path",attr:{d:"M12 15h8"}},{tag:"path",attr:{d:"M12 9h8"}},{tag:"path",attr:{d:"M12 4v16"}}]})(n)}function lh(n){return ro({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 1H3L2 2v11l1 1h11l1-1V2l-1-1zM8 13H3V2h5v11zm6 0H9V2h5v11z"}}]})(n)}const uh={1:{bgColor:"#DC0000",color:"#FFFFFF",name:"Арбуз"},2:{bgColor:"#2B3467",color:"#FFFFFF",name:"Баклажан"},3:{bgColor:"#181D31",color:"#FFFFFF",name:"Брюква"},4:{bgColor:"#CB1C8D",color:"#FFFFFF",name:"Вика"},5:{bgColor:"#D09CFA",color:"#000000",name:"Горох"},6:{bgColor:"#6D67E4",color:"#FFFFFF",name:"Горчица"},7:{bgColor:"#CCD6A6",color:"#000000",name:"Гречиха"},8:{bgColor:"#10A19D",color:"#FFFFFF",name:"Донник"},9:{bgColor:"#434242",color:"#FFFFFF",name:"Дыня"},10:{bgColor:"#F49D1A",color:"#FFFFFF",name:"Житняк"},11:{bgColor:"#829460",color:"#FFFFFF",name:"Земляника"},12:{bgColor:"#54B435",color:"#FFFFFF",name:"Зерносмесь на сенаж"},13:{bgColor:"#815B5B",color:"#FFFFFF",name:"Кабачок"},14:{bgColor:"#406343",color:"#FFFFFF",name:"Капуста"},15:{bgColor:"#541212",color:"#FFFFFF",name:"Картофель"},16:{bgColor:"#C75080",color:"#FFFFFF",name:"Клевер"},17:{bgColor:"#E42F45",color:"#FFFFFF",name:"Клубника"},18:{bgColor:"#8879B0",color:"#FFFFFF",name:"Конские бобы"},19:{bgColor:"#F67280",color:"#FFFFFF",name:"Кострец безостый"},20:{bgColor:"#3E64FF",color:"#FFFFFF",name:"Кукуруза"},21:{bgColor:"#524A4E",color:"#FFFFFF",name:"Кукуруза на силос"},22:{bgColor:"#21ABA5",color:"#FFFFFF",name:"Лен"},23:{bgColor:"#7579E7",color:"#FFFFFF",name:"Ломкоколосник"},24:{bgColor:"#A64942",color:"#FFFFFF",name:"Лук репчатый"},25:{bgColor:"#36413D",color:"#FFFFFF",name:"Люпин"},26:{bgColor:"#F4CB81",color:"#FFFFFF",name:"Люцерна"},27:{bgColor:"#59748C",color:"#FFFFFF",name:"Маш"},28:{bgColor:"#9FA180",color:"#FFFFFF",name:"Многолетние травы"},29:{bgColor:"#280F34",color:"#FFFFFF",name:"Морковь"},30:{bgColor:"#CCD6A6",color:"#FFFFFF",name:"Нут"},31:{bgColor:"#62B6B7",color:"#FFFFFF",name:"Овес озимый"},32:{bgColor:"#FF9E9E",color:"#FFFFFF",name:"Овес яровой"},33:{bgColor:"#3D5656",color:"#FFFFFF",name:"Овсяница"},34:{bgColor:"#D09CFA",color:"#FFFFFF",name:"Огурец"},35:{bgColor:"#EB455F",color:"#FFFFFF",name:"Однолетние травы"},36:{bgColor:"#205295",color:"#FFFFFF",name:"Пар"},37:{bgColor:"#AC7088",color:"#FFFFFF",name:"Перец"},38:{bgColor:"#072227",color:"#FFFFFF",name:"Перец сладкий"},39:{bgColor:"#95CD41",color:"#FFFFFF",name:"Подсолнечник"},40:{bgColor:"#43919B",color:"#FFFFFF",name:"Помидоры"},41:{bgColor:"#FFE2E2",color:"#000000",name:"Просо"},42:{bgColor:"#88304E",color:"#FFFFFF",name:"Пшеница мягкая озимая"},43:{bgColor:"#522546",color:"#FFFFFF",name:"Пшеница мягкая яровая (Triticum aestivum L)"},44:{bgColor:"#D3E4CD",color:"#000000",name:"Пшеница твердая озимая"},45:{bgColor:"#B1B2FF",color:"#000000",name:"Пшеница твердая яровая (Triticum durum Desf)"},46:{bgColor:"#EEEEEE",color:"#000000",name:"Пшеница тургидум"},47:{bgColor:"#AAA492",color:"#000000",name:"Пырей"},48:{bgColor:"#59437c",color:"#FFFFFF",name:"Пырей сизый"},49:{bgColor:"#979f69",color:"#FFFFFF",name:"Райграс"},50:{bgColor:"#eead9c",color:"#FFFFFF",name:"Рапс озимый"},51:{bgColor:"#25423d",color:"#FFFFFF",name:"Рапс яровой"},52:{bgColor:"#fcbd75",color:"#FFFFFF",name:"Редис"},53:{bgColor:"#9ea8da",color:"#FFFFFF",name:"Редька"},54:{bgColor:"rgba(180,211,227,0.85)",color:"#FFFFFF",name:"Репа"},55:{bgColor:"#dc3fae",color:"#FFFFFF",name:"Рис"},56:{bgColor:"#522546",color:"#FFFFFF",name:"Рожь озимая"},57:{bgColor:"#d2687f",color:"#FFFFFF",name:"Рожь яровая"},58:{bgColor:"#e51e6a",color:"#FFFFFF",name:"Рыжик озимый"},59:{bgColor:"#d77070",color:"#FFFFFF",name:"Рыжик яровой"},60:{bgColor:"#ffa6e0",color:"#FFFFFF",name:"Салат"},61:{bgColor:"#8a1414",color:"#FFFFFF",name:"Сафлор"},62:{bgColor:"#cc5858",color:"#FFFFFF",name:"Свекла сахарная"},63:{bgColor:"#ab8fad",color:"#FFFFFF",name:"Свекла столовая"},64:{bgColor:"#4e297c",color:"#FFFFFF",name:"Сорго"},65:{bgColor:"#29bb6d",color:"#FFFFFF",name:"Сорго-суданковый гибрид"},66:{bgColor:"#46a89f",color:"#FFFFFF",name:"Соя"},67:{bgColor:"#259b6a",color:"#FFFFFF",name:"Суданская трава"},68:{bgColor:"#032125",color:"#FFFFFF",name:"Тимофеевка"},69:{bgColor:"#659466",color:"#FFFFFF",name:"Тритикале озимый"},70:{bgColor:"#005d3b",color:"#FFFFFF",name:"Тритикале яровой"},71:{bgColor:"#95a17c",color:"#FFFFFF",name:"Тыква"},72:{bgColor:"rgba(7,207,229,0.58)",color:"#FFFFFF",name:"Укроп"},73:{bgColor:"#00ff6f",color:"#FFFFFF",name:"Фасоль"},74:{bgColor:"#a1ad2d",color:"#FFFFFF",name:"Фацелия"},75:{bgColor:"#522546",color:"#fff50c",name:"Фестулолиум"},76:{bgColor:"#514faf",color:"#FFFFFF",name:"Хлопчатник"},77:{bgColor:"#60f5a6",color:"#FFFFFF",name:"Хмель"},78:{bgColor:"#c084af",color:"#FFFFFF",name:"Чеснок"},79:{bgColor:"#8bf800",color:"#FFFFFF",name:"Чечевица"},80:{bgColor:"#be9a00",color:"#FFFFFF",name:"Эспарцет"},81:{bgColor:"#c3ef8e",color:"#FFFFFF",name:"Ячмень озимый"},82:{bgColor:"#0b2800",color:"#FFFFFF",name:"Ячмень яровой"},83:{bgColor:"#6600ff",color:"#FFFFFF",name:"Ячмень яровой на корм"}};function ch(){const[n,t]=z([nn,Er]),[o,r]=z([Ye,ht]);z([gt,ei]);const[e,i]=z([on,yr]),[a,s]=z([rn,Lr]),l=ya(),u=me.useRef(null);return S(ke,{children:[d(I,{position:"absolute",top:"0",right:"0",width:"calc(100% - 600px)",height:"full",ref:u}),d(I,{as:Pt.div,drag:!0,dragConstraints:u,position:"absolute",top:"10px",right:"10px",zIndex:"dropdown",children:S(J,{position:"relative",maxH:"12",direction:"row",align:"center",bgColor:"blue.500",rounded:"md",p:"2",children:[d(Fe,{as:Pt.div,...l,bgColor:"transparent",_hover:{bgColor:"transparent"},_active:{bgColor:"transparent"},children:d(Se,{as:Ps,"aria-label":"drag",cursor:"pointer",color:"white"})}),n&&S(ke,{children:[d(Ze,{children:d(Jt,{onChange:c=>c?r(Number(c.value)):null,placeholder:"Выбрать регион",styles:{container:c=>({...c,maxWidth:"15rem"})},options:o.map(({name:c,id:h})=>({label:c,value:h}))})}),d(Ze,{position:"sticky",top:"15px",children:d(dh,{})}),d(Ze,{children:d(mr.ClientSearch,{model:zr})}),d(Ze,{children:d(Fe,{colorScheme:"blue",borderWidth:"1px",borderColor:"whiteAlpha.800",isActive:e,onClick:i,children:d(Se,{"aria-label":"few",as:sh})})}),d(Ze,{children:d(Fe,{colorScheme:"blue",borderWidth:"1px",borderColor:"whiteAlpha.800",isActive:a,onClick:s,children:d(Se,{"aria-label":"few",as:lh})})})]}),d(Fe,{isActive:n,colorScheme:"blue",onClick:()=>t(),children:n?d(xs,{}):d(Ms,{})})]})})]})}function dh(){const[n,t]=z([gt,ei]),[o,r]=z([Wd,Sr]);return d(Jt,{styles:{container:e=>({...e,minWidth:"15rem",maxWidth:"25rem"}),multiValueLabel:(e,{data:i})=>{const a=uh[i.value].bgColor??"red";return{...e,paddingLeft:"1.5rem",paddingTop:".1rem",paddingBottom:".1rem",position:"relative",":before":{content:'""',width:"1rem",height:"1rem",backgroundColor:a,borderRadius:"50%",position:"absolute",top:"50%",left:".3rem",transform:"translateY(-50%)"}}}},placeholder:"Выбрать културы",value:o.map(({cultureName:e,cultureId:i})=>({label:e,value:Number(i)})),onChange:e=>r(e.map(({value:i})=>Number(i))),isDisabled:n.length===0,isLoading:t,options:n.map(({cultureName:e,cultureId:i})=>({label:e,value:Number(i)})),isMulti:!0})}const hh='&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',fh="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png";function yh(){const[n,t]=z([gr,ge]),[o]=z([Yd]),[r]=z([Kn]);return me.useEffect(()=>(n(),()=>{t()}),[]),S(I,{children:[d(fa,{}),S(I,{maxW:"100vw",overflowX:"hidden",position:"relative",minH:"calc(100vh - 4rem)",children:[S(pa,{minH:"inherit",direction:"row",children:[d(I,{position:"absolute",top:"0",left:"20",zIndex:"dropdown",children:r.country?"Страна":r.region?"Регион":r.district?"Район":r.client?"Клиент":r.clientPlot?"Участок":null}),d(th,{minH:"md"}),d(ch,{}),d(ph,{})]}),o&&d(sa,{})]})]})}function ph(n){const[t,o]=z([We,vr]),[r]=z([Xn]),[e,i,a]=z([Ye,Mr,ht]),[s,l,u,c]=z([ft,on,jd,br]),[h,p,m,g]=z([pt,rn,Or,en]),[_,v,b]=z([qe,Rr,_r]),[E,y,C]=z([$e,wr,Fr]),{width:P,height:F,ref:k}=iu();return me.useEffect(()=>{t&&t.invalidateSize()},[P,F]),d(I,{w:"full",minH:"inherit",position:"relative",ref:k,children:S(I,{as:js,ref:o,h:"full",minH:"md",w:"full",position:"absolute",top:"0",left:"0",zIndex:"map",width:P,height:F,center:zd,zoom:Hd,...n,children:[d(Ks,{attribution:hh,url:fh}),d($s,{children:d(wo,{position:"bottomright",draw:{circle:!0,circlemarker:!1,marker:!1,polygon:!1,polyline:!1,rectangle:!1},onCreated:w=>y(w),onDeleted:w=>C(w)})}),d(ye,{name:"regions-overlay",style:{zIndex:301},children:r.map((w,M)=>d(Qe,{positions:w.geometry_rings,pathOptions:{color:"darkgray"}},M))}),d(ye,{name:"regions",style:{zIndex:302},children:e.map((w,M)=>d(Qe,{positions:w.geometry_rings,pathOptions:{color:"#1CA4F8"},eventHandlers:{click:()=>{a(Number(w.id))}}},M))}),d(ye,{name:"region",style:{zIndex:303},children:i&&d(yt,{positions:i.geometry_rings,pathOptions:{color:"white"}})}),d(ye,{name:"districts",style:{zIndex:304},children:l&&s.map((w,M)=>d(yt,{positions:w.geometry_rings,pathOptions:{color:"#006cb0"}},M))}),d(ye,{name:"clientsPlots",style:{zIndex:305},children:h.map((w,M)=>d(Qe,{positions:w.geometry_rings,pathOptions:{color:p?w.guid?"lightgreen":"yellow":"white"},eventHandlers:{click:()=>{g(Number(w.clientId))}}},M))}),d(ye,{name:"client",style:{zIndex:306},children:m&&_.map((w,M)=>d(yt,{positions:w.geometry_rings,pathOptions:{color:"purple"}},M))}),d(ye,{name:"client-plots",style:{zIndex:307},children:_.map((w,M)=>d(Qe,{positions:w.geometry_rings,pathOptions:{color:"black"},eventHandlers:{click:()=>{b(w.plotId)}}},M))}),d(ye,{name:"filtered-client-plots",children:E.map((w,M)=>d(me.Fragment,{children:w.plots.map((H,B)=>d(Qe,{positions:H.geometry_rings,pathOptions:{color:"red"}},B))},M))}),d(ye,{name:"client-plot",style:{zIndex:308},children:v&&d(yt,{positions:v.geometry_rings,pathOptions:{color:"white"}})})]})})}export{yh as MapPage};
//# sourceMappingURL=index-dd7bd7a3.js.map
