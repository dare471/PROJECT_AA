import{d as c,R as y,W as g,Y as O}from"./index-18c8bd2a.js";function p(n,t){const e=c.useRef(t);c.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const k=1;function z(n){return Object.freeze({__version:k,map:n})}function Z(n,t){return Object.freeze({...n,...t})}const h=c.createContext(null),b=h.Provider;function m(){const n=c.useContext(h);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function x(n){function t(e,r){const{instance:u,context:o}=n(e).current;return c.useImperativeHandle(r,()=>u),e.children==null?null:y.createElement(b,{value:o},e.children)}return c.forwardRef(t)}function A(n){function t(e,r){const[u,o]=c.useState(!1),{instance:a}=n(e,o).current;c.useImperativeHandle(r,()=>a),c.useEffect(function(){u&&a.update()},[a,u,e.children]);const i=a._contentNode;return i?g.createPortal(e.children,i):null}return c.forwardRef(t)}function H(n){function t(e,r){const{instance:u}=n(e).current;return c.useImperativeHandle(r,()=>u),null}return c.forwardRef(t)}function D(n){return function(e){const r=m(),u=n(e,r),{instance:o}=u.current,a=c.useRef(e.position),{position:i}=e;return c.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),c.useEffect(function(){i!=null&&i!==a.current&&(o.setPosition(i),a.current=i)},[o,i]),u}}function L(n,t){const e=c.useRef();c.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function C(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function V(n,t){return function(r,u){const o=m(),a=n(C(r,o),o);return p(o.map,r.attribution),L(a.current,r.eventHandlers),t(a.current,o,r,u),a}}function w(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function l(n,t){return t==null?function(r,u){const o=c.useRef();return o.current||(o.current=n(r,u)),o}:function(r,u){const o=c.useRef();o.current||(o.current=n(r,u));const a=c.useRef(r),{instance:i}=o.current;return c.useEffect(function(){a.current!==r&&(t(i,r,a.current),a.current=r)},[i,r,u]),o}}function P(n,t){c.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function I(n){return function(e){const r=m(),u=n(C(e,r),r);return p(r.map,e.attribution),L(u.current,e.eventHandlers),P(u.current,r),u}}function B(n,t){const e=c.useRef();c.useEffect(function(){if(t.pathOptions!==e.current){const u=t.pathOptions??{};n.instance.setStyle(u),e.current=u}},[n,t])}function G(n){return function(e){const r=m(),u=n(C(e,r),r);return L(u.current,e.eventHandlers),P(u.current,r),B(u.current,e),u}}function q(n){function t(u,o){return w(n(u),o)}const e=l(t),r=D(e);return H(r)}function F(n,t){const e=l(n,t),r=I(e);return x(r)}function J(n,t){const e=l(n),r=V(e,t);return A(r)}function K(n,t){const e=l(n,t),r=G(e);return x(r)}function U(n,t){const e=l(n,t),r=I(e);return H(r)}function W(n,t,e){const{opacity:r,zIndex:u}=t;r!=null&&r!==e.opacity&&n.setOpacity(r),u!=null&&u!==e.zIndex&&n.setZIndex(u)}function E(){return E=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},E.apply(this,arguments)}function X({bounds:n,boundsOptions:t,center:e,children:r,className:u,id:o,placeholder:a,style:i,whenReady:s,zoom:v,...T},j){const[M]=c.useState({className:u,id:o,style:i}),[f,S]=c.useState(null);c.useImperativeHandle(j,()=>(f==null?void 0:f.map)??null,[f]);const N=c.useCallback(R=>{if(R!==null&&f===null){const d=new O.Map(R,T);e!=null&&v!=null?d.setView(e,v):n!=null&&d.fitBounds(n,t),s!=null&&d.whenReady(s),S(z(d))}},[]);c.useEffect(()=>()=>{f==null||f.map.remove()},[f]);const _=f?y.createElement(b,{value:f},r):a??null;return y.createElement("div",E({},M,{ref:N}),_)}const Q=c.forwardRef(X),$=U(function({url:t,...e},r){const u=new O.TileLayer(t,C(e,r));return w(u,r)},function(t,e,r){W(t,e,r);const{url:u}=e;u!=null&&u!==r.url&&t.setUrl(u)});export{b as L,Q as M,$ as T,w as a,q as b,K as c,J as d,Z as e,F as f,m as u};
//# sourceMappingURL=leaflet-9b10b136.js.map
