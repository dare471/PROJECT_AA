{"version":3,"file":"index-ac8cec3b.js","sources":["../../src/pages/profile/model.ts","../../src/pages/profile/page.tsx"],"sourcesContent":["import { createEvent, createStore, sample } from 'effector'\n\nimport { UserFactory } from '~src/entities/user'\n\nexport const profilePageMounted = createEvent<{ userId: number }>()\nexport const profilePageUnmounted = createEvent<void>()\n\nexport const $userId = createStore<number | null>(null)\n\nexport const $$user = UserFactory.createUser()\n\n$userId.on(profilePageMounted, (_, { userId }) => userId)\n\nsample({\n\tclock: $userId,\n\tfilter: (userId: number | null): userId is number => userId !== null,\n\tfn: (userId) => ({ userId }),\n\ttarget: $$user.getUserFx,\n})\n","import { Box, Container } from '@chakra-ui/react'\nimport { useUnit } from 'effector-react'\nimport React from 'react'\nimport { useParams } from 'react-router'\n\nimport { Header } from '~src/widgets/header'\n\nimport { UserFactory } from '~src/entities/user'\n\nimport * as model from './model'\n\nexport function ProfilePage() {\n\tconst [handleMount, handleUnmount] = useUnit([model.profilePageMounted, model.profilePageUnmounted])\n\tconst { userId } = useParams<{ userId: string }>()\n\n\tReact.useEffect(() => {\n\t\thandleMount({ userId: Number(userId) })\n\t\treturn () => {\n\t\t\thandleUnmount()\n\t\t}\n\t}, [])\n\n\treturn (\n\t\t<Box>\n\t\t\t<Header />\n\t\t\t<Container maxW='container.xl'>\n\t\t\t\t<User />\n\t\t\t</Container>\n\t\t</Box>\n\t)\n}\n\nfunction User() {\n\tconst [user, userPending] = useUnit([model.$$user.$user, model.$$user.$userPending])\n\n\treturn <UserFactory.UserCard load={{ loading: userPending }} {...user} />\n}\n"],"names":["profilePageMounted","createEvent","profilePageUnmounted","$userId","createStore","$$user","UserFactory","_","userId","sample","ProfilePage","handleMount","handleUnmount","useUnit","model.profilePageMounted","model.profilePageUnmounted","useParams","React","Box","jsx","Header","Container","User","user","userPending","model.$$user"],"mappings":"0gBAIO,MAAMA,EAAqBC,EAAgC,EACrDC,EAAuBD,EAAkB,EAEzCE,EAAUC,EAA2B,IAAI,EAEzCC,EAASC,EAAY,aAElCH,EAAQ,GAAGH,EAAoB,CAACO,EAAG,CAAE,OAAAC,CAAA,IAAaA,CAAM,EAExDC,EAAO,CACN,MAAON,EACP,OAASK,GAA4CA,IAAW,KAChE,GAAKA,IAAY,CAAE,OAAAA,IACnB,OAAQH,EAAO,SAChB,CAAC,ECPM,SAASK,GAAc,CACvB,KAAA,CAACC,EAAaC,CAAa,EAAIC,EAAQ,CAACC,EAA0BC,CAA0B,CAAC,EAC7F,CAAE,OAAAP,GAAWQ,IAEnB,OAAAC,EAAM,UAAU,KACfN,EAAY,CAAE,OAAQ,OAAOH,CAAM,CAAG,CAAA,EAC/B,IAAM,CACEI,GAAA,GAEb,CAAE,CAAA,IAGHM,EACA,CAAA,SAAA,CAAAC,EAACC,EAAO,EAAA,IACPC,EAAU,CAAA,KAAK,eACf,SAAAF,EAACG,GAAK,CAAA,EACP,CACD,CAAA,CAAA,CAEF,CAEA,SAASA,GAAO,CACf,KAAM,CAACC,EAAMC,CAAW,EAAIX,EAAQ,CAACY,EAAa,MAAOA,EAAa,YAAY,CAAC,EAE5E,OAAAN,EAACb,EAAY,SAAZ,CAAqB,KAAM,CAAE,QAASkB,CAAgB,EAAA,GAAGD,CAAM,CAAA,CACxE"}