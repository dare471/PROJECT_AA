import{G as v,s as a,j as i,x as S,a as e,I as p,F as P,T as m,u as z,r as B,$ as L}from"./index-18c8bd2a.js";import{c as F}from"./chunk-QODHG6BI-4b0ebca2.js";import{E as H}from"./chunk-C7CK4LUU-2aaef524.js";import{A as M,a as R}from"./chunk-KRS2VCGE-7121da6f.js";import{B as Y}from"./ui-0f4b7ddc.js";import{a as j}from"./index.esm-165c6f21.js";import{R as W,$ as E,a as G,b as V,C as N,c as O,d as b,e as C,A as Z,f as D,M as U,g,h as q,i as J,j as x,k as y,l as K,s as Q,m as w,n as $}from"./index-0229c43e.js";import{S as X}from"./ui-fe6c053e.js";import{E as _}from"./ui-1004c3dd.js";import{B as n}from"./chunk-SRMZVY4F-416136cf.js";import{T,a as I,b as s,c as A,d as h}from"./chunk-TPBRUKW6-11a3249e.js";import{B as u}from"./chunk-NAA7TEES-3d94f66b.js";import{S as f}from"./chunk-O5CRURSQ-fd5fbe66.js";import{A as ee,c as ie,d as ne,e as le}from"./client-plots-cd9a3b47.js";import"./index.esm-8cc49020.js";import"./index.esm-16d287ff.js";import"./chunk-G72KV6MB-8d47f37f.js";import"./chunk-D5UZ3RNN-1523169b.js";import"./chunk-PEYICJIL-0612eafd.js";import"./leaflet-9b10b136.js";import"./lib-29011174.js";import"./ui-e71e40b7.js";import"./chunk-S432VF2S-ac154153.js";import"./index-f34faceb.js";import"./defineProperty-e36890ef.js";import"./chunk-LS5YNJYH-572e7ca7.js";import"./chunk-JSSKUSQH-24716c75.js";import"./model-cea03ee5.js";import"./Marker-d66def3f.js";import"./chunk-LB6CWFOC-afb3a818.js";var oe=F({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"});function te(l){return v({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,10 L12,18 M12,6 L12,8"}}]})(l)}function Ee(l){const[o,r]=a([K,Q]),[c,d]=a([w.$tab,w.tabChanged]);return i(S,{children:[e(n,{as:"aside",pos:{base:"absolute",md:"static"},top:{base:o?"calc(-100% - 4rem)":"0",md:"0"},left:{base:"0",md:"0"},zIndex:"sticky",w:{base:"full",md:o?"600px":"0"},h:"full",bgColor:"white",overflow:"hidden",borderColor:"blackAlpha.500",borderRightWidth:"1px",transition:"top 0.3s ease",...l,children:i(T,{index:c.index,onChange:d,isLazy:!0,isFitted:!0,h:"full",display:"flex",flexGrow:"1",flexDirection:"column",children:[i(I,{children:[e(s,{children:e(p,{as:Y,fontSize:"xl"})}),e(s,{children:e(p,{as:j,fontSize:"xl"})}),e(s,{children:e(p,{as:te,fontSize:"xl"})})]}),i(A,{minH:"0",children:[e(h,{h:"full",overflow:"auto",children:e(ae,{})}),e(h,{h:"full",overflow:"auto",children:e(re,{})}),e(h,{h:"full",overflow:"auto",children:e(ce,{})})]})]})}),e(u,{minH:{base:"unset",md:"100%"},position:{base:"absolute",md:"unset"},size:{base:"md",md:"xs"},left:{base:"1",md:"unset"},bottom:{base:"1",md:"unset"},zIndex:"sticky",colorScheme:"blue",rounded:{base:"full",md:"none"},onClick:()=>r(),children:o?e(M,{}):e(R,{})})]})}function ae(){return e(P,{direction:"column",w:"full",h:"full",overflowY:"auto",children:e(W.RegionsTreeView,{model:E})})}function re(){return i(n,{gap:"4",children:[i(n,{minH:"0",children:[e(m,{fontSize:"xl",fontWeight:"bold",children:"Аналитика по областям"}),e(n,{minH:"0",children:e(n,{overflow:"auto",h:"full",children:e(G.RegionsAnalyticsByYear,{model:V,allowToggle:!0})})})]}),i(n,{minH:"0",children:[e(m,{fontSize:"xl",fontWeight:"bold",children:"Аналитика по клиенту"}),e(n,{minH:"0",children:e(n,{overflow:"auto",h:"full",children:e(N.ClientAnalyticsByYear,{model:O,allowToggle:!0})})})]})]})}function ce(){const[l,o,r]=a([b.$client,C.$landId,C.landClicked]),c=z(),[d,t]=a([$.$tab,$.tabChanged]);return i(T,{index:d.index,onChange:t,children:[i(I,{children:[e(s,{children:"Клиент"}),e(s,{children:"Фильтровнные"})]}),i(A,{position:"relative",h:"full",children:[e(h,{children:i(f,{position:"relative",children:[e(n,{position:"sticky",top:"0",zIndex:"1",bgColor:"white",shadow:"md",children:e(ee,{allowToggle:!0,children:i(ie,{children:[i(ne,{children:[e(Z,{}),e(m,{children:"Клиент"})]}),e(le,{children:e(D,{variant:"filled",...l,children:e(u,{onClick:()=>c(B.clientProfile({clientId:l.clientId.toString()})),children:e(H,{})})})})]})})}),e(U.MuchClientPlots,{model:b,onClick:({plotId:k})=>r(k),plotId:o})]})}),e(h,{children:e(de,{})})]})]})}function de(){const[l,o,r,c]=a([g.$circlesClients,g.$circlesClientsPending,q.landClicked,J]),[d]=a([L.map(t=>(t==null?void 0:t.favoriteClients)??[])]);return i(n,{children:[e(f,{gap:"2",my:"2",children:i(S,{children:[e(n,{w:"full",position:"sticky",top:"-10px",zIndex:"1",bgColor:"blue.500",boxShadow:"md",rounded:"md",px:"4",py:"2",children:i(f,{direction:"row",color:"white",children:[e(m,{fontSize:"md",fontWeight:"medium",children:"Отфильтрованно клиентов:"}),e(m,{fontSize:"md",children:l.length})]})}),e(x.ClientSelectCard,{model:y,favoriteClientIds:d,onSeeClick:({clientId:t})=>r(t)}),e(n,{w:"full",position:"sticky",bottom:"-10px",zIndex:"1",bgColor:"blue.500",boxShadow:"md",rounded:"md",px:"4",py:"2",children:i(f,{direction:"row",justify:"space-between",align:"center",children:[e(x.AllClientsSelect,{model:y}),e(u,{size:"sm",colorScheme:"yellow",color:"white",onClick:c,children:e(oe,{})})]})})]})}),o&&e(X,{}),l.length===0&&!o&&e(_,{children:"Пусто"})]})}export{Ee as MapSidebar};
//# sourceMappingURL=sidebar-c41f7618.js.map
